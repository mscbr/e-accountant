{"version":3,"sources":["components/layout/SignedInLinksAccountant.js","store/actions/authActions.js","components/layout/SignedInLinksClient.js","components/auth/SignUp.js","components/auth/SignUpDialogNav.js","components/auth/SignIn.js","components/auth/SignInDialogNav.js","components/layout/SignedOutLinks.js","components/layout/Navbar.js","components/projects/InvoiceSummary.js","components/projects/InvoiceList.js","components/projects/SettlementSummary.js","components/projects/SettlementList.js","components/dashboard/Dashboard.js","components/projects/InvoiceListAccountant.js","components/projects/SettlementListAccountant.js","components/dashboard/AccountantPanel.js","components/projects/DeleteInvoiceDialog.js","components/projects/InvoiceDetails.js","store/actions/invoiceActions.js","components/projects/NewDocument.js","components/projects/NewSettlement.js","store/actions/settlementActions.js","components/auth/SignInDialogEntry.js","components/auth/SignUpDialogEntry.js","components/auth/Entry.js","components/projects/UpdateDocument.js","components/auth/DeleteUserDialog.js","components/auth/AccountDetails.js","components/auth/AccountUpdate.js","components/projects/SettlementDetails.js","components/clients/ClientDetails.js","components/clients/ClientList.js","components/clients/Clients.js","App.js","serviceWorker.js","store/reducers/authReducer.js","store/reducers/invoiceReducer.js","store/reducers/settementReducer.js","store/reducers/rootReducer.js","config/fbConfig.js","index.js"],"names":["connect","dispatch","signOut","getState","_ref2","getFirebase","auth","then","type","props","react_default","a","createElement","className","NavLink","to","onClick","profile","initials","state","firebase","uid","SignUp","_Component","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","e","setState","defineProperty","target","id","value","handleSubmit","preventDefault","signUp","disableSubmit","values","some","length","email","password","clientName","adress","legalForm","nip","regon","phoneNumber","accountant","inherits","createClass","key","_this$props","authError","Redirect","onSubmit","htmlFor","onChange","name","defaultValue","disabled","Component","newUser","_ref3","getFirestore","firestore","createUserWithEmailAndPassword","resp","collection","doc","user","set","slice","isAcc","catch","err","SignUpDialogNav","handleOpen","open","handleClose","classes","index_es","button","disableRipple","onClose","aria-labelledby","dialog","maxWidth","auth_SignUp","closeDialog","withStyles","theme","height","marginTop","padding","transition","&:hover","backgroundColor","&:focus","width","SignIn","signIn","creds","credentials","_ref","signInWithEmailAndPassword","SignInDialogNav","auth_SignIn","SignedOutLinks","auth_SignUpDialogNav","auth_SignInDialogNav","links","layout_SignedInLinksAccountant","layout_SignedInLinksClient","layout_SignedOutLinks","Link","InvoiceSummary","invoice","title","docType","settled","moment","createdAt","toDate","calendar","selectContainerStyle","display","selectStyle","InvoiceList","handleSort","invoices","sortType","sortedArr","sort","b","Date","handleFilter","filterTarget","filteredArr","filter","issuePeriod","_this$setState","handleFilterType","filterType","style","default","issuePeriods","map","includes","push","period","handlePagination","invoiceList","page","paginatedInvoiceList","invoiceListCopy","i","splice","handlePageButtons","pagesAmount","Math","ceil","pagesButtons","_loop","href","currentPage","color","filteredInvoices","paginated","pageButtons","margin","projects_InvoiceSummary","background","justifyContent","SettlementSummary","clientId","SettlementList","projects_SettlementSummary","Dashboard","settlements","projects_InvoiceList","projects_SettlementList","compose","ordered","users","firestoreConnect","where","orderBy","InvoiceListAccountant","userId","uids","SettlementListAccountant","AccountantPanel","projects_InvoiceListAccountant","projects_SettlementListAccountant","DeleteInvoiceDialog","focusRipple","deleteButton","handleDelete","deleteYesNo","thumbsContainer","flexDirection","flexWrap","thumb","borderRadius","border","marginBottom","marginRight","boxSizing","thumbInner","minWidth","overflow","img","position","zIndex","uploadButtonStyle","textAlign","commentsBoxStyle","minHeight","updateButtonStyle","paddingTop","paddingLeft","paddingRight","marginLeft","InvoiceDetails","deleteInvoice","invoiceId","filesName","file","storage","ref","child","delete","console","log","history","createDownloadButton","fileURL","xhr","XMLHttpRequest","responseType","onload","blobURL","URL","createObjectURL","response","document","getElementById","send","_this2","previews","filesUrl","thumbs","fileName","src","alt","download","comment","projects_DeleteInvoiceDialog","match","params","ownProps","data","deleteButtonStyle","NewDocument","handleMonthFormat","handlePeriodSet","year","month","invoiceData","issueYear","issueMonth","createInvoice","disableSend","validationData","onDrop","acceptedFiles","rejectedFiles","rejectedString","alert","metadata","customMetadata","fileOwner","currentUser","getTime","put","on","TaskEvent","STATE_CHANGED","snapshot","progress","bytesTransferred","totalBytes","uploadProgress","TaskState","PAUSED","RUNNING","error","getDownloadURL","downloadURL","concat","toConsumableArray","assign","floor","min","max","required","fontSize","dist_es","accept","maxSize","getRootProps","getInputProps","isDragActive","classNames","dropzone--isActive","authorId","add","objectSpread","opened","NewSettlement","handleTaxChange","tax","handleTaxRow","taxRowArr","taxRows","handleAddTaxRow","handleRemoveTaxRow","newTax","sendData","createSettlement","taxRow","stle","settlement","SignInDialogEntry","SignUpDialogEntry","SignInDialogEntry_SignInDialogEntry","auth_SignUpDialogEntry","UpdateDocument","update","updateInvoice","getDerivedStateFromProps","substring","DeleteUserDialog","handleDeleteUser","AccountDetails","deleteUser","userInfo","transform","auth_DeleteUserDialog","_ref4","AccountUpdate","handleUpdate","updateUser","userData","_ref5","taxBoxStyle","SettlementDetails","deleteSettlement","settlementId","taxes","ClientDetails","client","clientListStyle","ClientList","handleClientPick","clientPicked","clients","clients_ClientDetails","Clients","clients_ClientList","App","BrowserRouter","layout_Navbar","Switch","Route","path","component","exact","Entry","Boolean","window","location","hostname","initState","authReducer","arguments","undefined","action","message","invoiceReducer","settlementReducer","rootReducer","combineReducers","firestoreReducer","firebaseReducer","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","settings","timestampsInSnapshots","store","createStore","applyMiddleware","thunk","withExtraArgument","reduxFirestore","fbConfig","reactReduxFirebase","useFirestoreForProfile","userProfile","attachAuthIsReady","firebaseAuthIsReady","ReactDOM","render","es","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"0SA2BeA,cAAQ,KANI,SAACC,GACxB,MAAO,CACHC,QAAS,kBAAMD,ECHZ,SAACA,EAAUE,EAAXC,IACcC,EADyBD,EAAjBC,eAGhBC,OAAOJ,UAAUK,KAAK,WAC3BN,EAAS,CAAEO,KAAM,2BDGdR,CArBiB,SAACS,GAE7B,OACIC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SACVH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAASC,GAAG,aAAZ,WACJL,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAASC,GAAG,YAAZ,YACJL,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAASC,GAAG,kBAAZ,qBACJL,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,KAAGI,QAASP,EAAMP,SAAlB,YACJQ,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAASC,GAAG,IAAIF,UAAU,kCACzBJ,EAAMQ,QAAQC,cEiBhBlB,cANS,SAACmB,GACrB,MAAO,CACHb,KAAMa,EAAMC,SAASd,OARF,SAACL,GACxB,MAAO,CACHC,QAAS,kBAAMD,EDFZ,SAACA,EAAUE,EAAXC,IACcC,EADyBD,EAAjBC,eAGhBC,OAAOJ,UAAUK,KAAK,WAC3BN,EAAS,CAAEO,KAAM,2BCQdR,CA1Ba,SAACS,GAEzB,OACIC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SACVH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAASC,GAAG,cAAZ,WACJL,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAASC,GAAG,gBAAZ,kBACJL,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,KAAGI,QAASP,EAAMP,SAAlB,YACJQ,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAASC,GAAI,mBAAmBN,EAAMH,KAAKe,IAAKR,UAAU,mCACzDJ,EAAMQ,QAAQC,+CCPlBI,EAAb,SAAAC,GACI,SAAAD,EAAYb,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMlB,KAeVsB,aAAe,SAACC,GACZR,EAAKS,SAALR,OAAAS,EAAA,EAAAT,CAAA,GACKO,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,SAlBbb,EAqBnBc,aAAe,SAACN,GACZA,EAAEO,iBACFf,EAAKf,MAAM+B,OAAOhB,EAAKL,QAvBRK,EAyBnBiB,cAAgB,WAGZ,OADahB,OAAOiB,OAAOlB,EAAKL,OAClBwB,KAAK,SAAAN,GAAK,OAAIA,EAAMO,OAAS,KA1B3CpB,EAAKL,MAAQ,CACT0B,MAAO,GACPC,SAAU,GACVC,WAAY,GACZC,OAAQ,GACRC,UAAW,GACXC,IAAK,GACLC,MAAO,GACPC,YAAa,GACbC,WAAY,SAXD7B,EADvB,OAAAC,OAAA6B,EAAA,EAAA7B,CAAAH,EAAAC,GAAAE,OAAA8B,EAAA,EAAA9B,CAAAH,EAAA,EAAAkC,IAAA,SAAAnB,MAAA,WAgCW,IAAAoB,EACqB9B,KAAKlB,MAAzBH,EADDmD,EACCnD,KAAMoD,EADPD,EACOC,UACd,OAAGpD,EAAKe,IAAYX,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,eAI/BL,EAAAC,EAAAC,cAAA,OAAKwB,GAAG,eACF1B,EAAAC,EAAAC,cAAA,QAAMgD,SAAUjC,KAAKW,aAAczB,UAAU,mBACzCH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,2BAAd,eACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,SAAf,SACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,QAAQ4B,GAAG,QAAQ0B,SAAUnC,KAAKI,gBAElDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,YAAf,cACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,WAAW4B,GAAG,WAAW0B,SAAUnC,KAAKI,gBAExDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,cAAf,aACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,OAAO4B,GAAG,aAAa0B,SAAUnC,KAAKI,gBAEtDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,UAAf,SACAnD,EAAAC,EAAAC,cAAA,YAAUwB,GAAG,SAASvB,UAAU,uBAAuBiD,SAAUnC,KAAKI,gBAE1ErB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,aAAf,2CACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,OAAO4B,GAAG,YAAY0B,SAAUnC,KAAKI,gBAErDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,OAAf,OACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,SAAS4B,GAAG,MAAM0B,SAAUnC,KAAKI,gBAEjDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,SAAf,SACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,SAAS4B,GAAG,QAAQ0B,SAAUnC,KAAKI,gBAEnDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,eAAf,kBACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,OAAO4B,GAAG,cAAc0B,SAAUnC,KAAKI,gBAEvDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBkD,KAAK,aAAa3B,GAAG,aAAa0B,SAAUnC,KAAKI,aAAcM,MAAOV,KAAKR,MAAMkC,YACjH3C,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAQ2B,cAAY,GAAlC,UACAtD,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,OAAO4B,UAAQ,GAA7B,mBAIRvD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,UAAQJ,KAAK,SAASyD,SAAUtC,KAAKc,gBAAiB5B,UAAU,+BAAhE,eACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACT6C,EAAYhD,EAAAC,EAAAC,cAAA,SAAK8C,EAAL,KAAwB,aAnF9DpC,EAAA,CAA4B4C,aA0GblE,cAbS,SAACmB,GACrB,MAAO,CACHb,KAAMa,EAAMC,SAASd,KACrBoD,UAAWvC,EAAMb,KAAKoD,YAIH,SAACzD,GACxB,MAAM,CACFuC,OAAS,SAAA2B,GAAO,OAAIlE,EFhFN,SAACkE,GACnB,OAAO,SAAClE,EAAUE,EAAXiE,GAAqD,IAA/B/D,EAA+B+D,EAA/B/D,YAAagE,EAAkBD,EAAlBC,aAChCjD,EAAWf,IACXiE,EAAYD,IAElBjD,EAASd,OAAOiE,+BACZJ,EAAQtB,MACRsB,EAAQrB,UACVvC,KAAK,SAACiE,GAGJ,OAAOF,EAAUG,WAAW,SAASC,IAAIF,EAAKG,KAAKtD,KAAKuD,IAAI,CACxD7B,WAAYoB,EAAQpB,WACpB7B,SAAUiD,EAAQpB,WAAW8B,MAAM,EAAE,GACrC7B,OAAQmB,EAAQnB,OAChBC,UAAWkB,EAAQlB,UACnBC,IAAKiB,EAAQjB,IACbC,MAAOgB,EAAQhB,MACfC,YAAae,EAAQf,YACrBP,MAAOsB,EAAQtB,MACfiC,MAA8B,SAAvBX,EAAQd,eAGpB9C,KAAK,WACJN,EAAS,CAAEO,KAAM,qBAClBuE,MAAM,SAAAC,GACL/E,EAAS,CAAEO,KAAM,eAAgBwE,WEsDRxC,CAAO2B,OAI7BnE,CAA6CsB,GCzF/C2D,EAAb,SAAA1D,GACI,SAAA0D,EAAYxE,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsD,IACfzD,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwD,GAAAnD,KAAAH,KAAMlB,KAKVyE,WAAa,WACT1D,EAAKS,SAAS,CAACkD,MAAM,KAPN3D,EASnB4D,YAAc,WACV5D,EAAKS,SAAS,CAACkD,MAAM,KARrB3D,EAAKL,MAAQ,CACTgE,MAAM,GAHK3D,EADvB,OAAAC,OAAA6B,EAAA,EAAA7B,CAAAwD,EAAA1D,GAAAE,OAAA8B,EAAA,EAAA9B,CAAAwD,EAAA,EAAAzB,IAAA,SAAAnB,MAAA,WAcW,IACCgD,EAAY1D,KAAKlB,MAAjB4E,QACR,OACE3E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACEtE,QAASW,KAAKuD,WACdrE,UAAWwE,EAAQE,OACnBC,eAAe,GAHjB,eAOA9E,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACAH,KAAMxD,KAAKR,MAAMgE,KACjBM,QAAS9D,KAAKyD,YACdM,kBAAgB,oBAChB7E,UAAWwE,EAAQM,OACnBC,SAAS,MAELlF,EAAAC,EAAAC,cAACiF,EAAD,CAAQC,YAAanE,KAAKyD,oBAhCtCH,EAAA,CAAqCf,aA0CtB6B,uBA5DA,SAAAC,GAAK,MAAK,CACrBT,OAAQ,CACNU,OAAQ,OACRC,UAAW,OACXC,QAAS,SACTC,WAAY,uBACZC,UAAY,CACVC,gBAAiB,mBAEnBC,UAAY,CACVD,gBAAiB,2BAGrBX,OAAQ,CACNa,MAAO,UA8CET,CAAmBd,GC7DrBwB,EAAb,SAAAlF,GACI,SAAAkF,EAAYhG,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8E,IACfjF,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgF,GAAA3E,KAAAH,KAAMlB,KAOVsB,aAAe,SAACC,GACZR,EAAKS,SAALR,OAAAS,EAAA,EAAAT,CAAA,GACKO,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,SAVbb,EAanBc,aAAe,SAACN,GACZA,EAAEO,iBACFf,EAAKf,MAAMiG,OAAOlF,EAAKL,QAbvBK,EAAKL,MAAQ,CACT0B,MAAO,GACPC,SAAU,IAJCtB,EADvB,OAAAC,OAAA6B,EAAA,EAAA7B,CAAAgF,EAAAlF,GAAAE,OAAA8B,EAAA,EAAA9B,CAAAgF,EAAA,EAAAjD,IAAA,SAAAnB,MAAA,WAoBW,IAAAoB,EACuB9B,KAAKlB,MAAzBiD,EADHD,EACGC,UACR,OAFKD,EACcnD,KACXe,IAAYX,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,eAEjCL,EAAAC,EAAAC,cAAA,WACMF,EAAAC,EAAAC,cAAA,QAAMgD,SAAUjC,KAAKW,aAAczB,UAAU,mBACzCH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,2BAAd,QACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,SAAf,SACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,QAAQ4B,GAAG,QAAQ0B,SAAUnC,KAAKI,gBAElDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,YAAf,SACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,WAAW4B,GAAG,WAAW0B,SAAUnC,KAAKI,gBAExDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,+BAAlB,WACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACb6C,EAAYhD,EAAAC,EAAAC,cAAA,SAAI8C,GAAiB,aAtCvD+C,EAAA,CAA4BvC,aA8DblE,cAfS,SAACmB,GAErB,MAAO,CACHuC,UAAWvC,EAAMb,KAAKoD,UACtBpD,KAAMa,EAAMC,SAASd,OAKF,SAACL,GACxB,MAAO,CACHyG,OAAQ,SAACC,GAAD,OAAW1G,GJ7DJ2G,EI6DoBD,EJ5DhC,SAAC1G,EAAUE,EAAX0G,IACcxG,EADyBwG,EAAjBxG,eAGhBC,OAAOwG,2BACZF,EAAY/D,MACZ+D,EAAY9D,UACdvC,KAAK,WACHN,EAAS,CAAEO,KAAM,oBAGlBuE,MAAM,SAACC,GACN/E,EAAS,CAAEO,KAAM,cAAewE,aAZtB,IAAC4B,KIiER5G,CAA6CyG,GCzCtDM,cACF,SAAAA,EAAYtG,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoF,IACfvF,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsF,GAAAjF,KAAAH,KAAMlB,KAKVyE,WAAa,WACT1D,EAAKS,SAAS,CAACkD,MAAM,KAPN3D,EASnB4D,YAAc,WAEZ5D,EAAKS,SAAS,CAACkD,MAAM,KATnB3D,EAAKL,MAAQ,CACTgE,MAAM,GAHK3D,wEAeZ,IACC6D,EAAY1D,KAAKlB,MAAjB4E,QACR,OACE3E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACEtE,QAASW,KAAKuD,WACdrE,UAAWwE,EAAQE,OACnBC,eAAe,GAHjB,WAOA9E,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACAzE,UAAWwE,EAAQM,OACnBR,KAAMxD,KAAKR,MAAMgE,KACjBM,QAAS9D,KAAKyD,YACdM,kBAAgB,oBAChBE,SAAS,MAELlF,EAAAC,EAAAC,cAACoG,EAAD,CAAQlB,YAAanE,KAAKyD,uBAlCRlB,aAqDflE,cARS,SAACmB,GAEvB,MAAO,IAMMnB,CAAyB+F,qBAxEzB,SAAAC,GAAK,MAAK,CACrBT,OAAQ,CACNU,OAAQ,OACRC,UAAW,OACXC,QAAS,EACTC,WAAY,uBACZC,UAAY,CACVC,gBAAiB,mBAEnBC,UAAY,CACVD,gBAAiB,2BAGrBX,OAAQ,KA2D4BI,CAAmBgB,IC7D5CE,EAVQ,WACnB,OACIvG,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAEVH,EAAAC,EAAAC,cAACsG,EAAD,MACAxG,EAAAC,EAAAC,cAACuG,EAAD,QCoBGnH,cARS,SAACmB,GAErB,MAAO,CACHb,KAAMa,EAAMC,SAASd,KACrBW,QAASE,EAAMC,SAASH,UAIjBjB,CA1BA,SAACS,GAAU,IACdH,EAAkBG,EAAlBH,KAAMW,EAAYR,EAAZQ,QAERmG,EAAQ9G,EAAKe,IACXJ,EAAQ6D,MAAQpE,EAAAC,EAAAC,cAACyG,EAAD,CAAyBpG,QAASA,IAAcP,EAAAC,EAAAC,cAAC0G,EAAD,CAAqBrG,QAASA,IAC9FP,EAAAC,EAAAC,cAAC2G,EAAD,MACR,OACI7G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAC4G,EAAA,EAAD,CAAMzG,GAAG,aAAaF,UAAU,8CAAhC,gBAGEuG,uCCGHK,EAlBQ,SAAAZ,GAAe,IAAba,EAAab,EAAba,QACrB,OACIhH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wCACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAc6G,EAAQC,OACtCjH,EAAAC,EAAAC,cAAA,+BAAuB8G,EAAQ3E,YAC/BrC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,2BAAb,QACSH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2B6G,EAAQE,QAAnD,cAETlH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,2BAAb,eACgBH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,6BAA6B6G,EAAQG,QAAUnH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,uBAAb,SAA+CH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,uBAAb,WAE9HH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaiH,IAAOJ,EAAQK,UAAUC,UAAUC,eCTvEC,EAAuB,CACzBC,QAAS,QAEPC,EAAc,CAChBD,QAAS,WAuOEE,cAjOX,SAAAA,EAAY5H,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0G,IACf7G,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4G,GAAAvG,KAAAH,KAAMlB,KASV6H,WAAa,SAACC,EAAUC,GACpB,IAAIC,EAAY,GAEhB,OAAOD,GACH,IAAK,SACDC,EAAYF,EAAS1D,QAAQ6D,KAAK,SAAC/H,EAAEgI,GACjC,OAAO,IAAIC,KAAKD,EAAEZ,UAAUC,UAAY,IAAIY,KAAKjI,EAAEoH,UAAUC,YAEjE,MACJ,IAAK,SACDS,EAAYF,EAAS1D,QAAQ6D,KAAK,SAAC/H,EAAEgI,GACjC,OAAO,IAAIC,KAAKjI,EAAEoH,UAAUC,UAAY,IAAIY,KAAKD,EAAEZ,UAAUC,YAMzE,OAAOS,GA3BQjH,EA6BnBqH,aAAe,SAACN,EAAUO,GACtB,IAAIC,EAAc,GAElB,OAAOD,GACH,IAAK,OACDC,EAAcR,EAAS1D,QACvB,MACJ,IAAK,OACL,IAAK,UACL,IAAK,QACDkE,EAAcR,EAASS,OAAO,SAAAtB,GAC1B,OAAOA,EAAQE,UAAYkB,IAE/B,MACJ,QACIC,EAAcR,EAASS,OAAO,SAAAtB,GAC1B,OAAOA,EAAQuB,cAAgBH,IAK3C,OAAOC,GAlDQvH,EAoDnBO,aAAe,SAACC,GAAM,IAAAkH,EAClB1H,EAAKS,UAALiH,EAAA,GAAAzH,OAAAS,EAAA,EAAAT,CAAAyH,EACKlH,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,OAD5BZ,OAAAS,EAAA,EAAAT,CAAAyH,EAAA,cAEiB,GAFjBA,KArDe1H,EA2DnB2H,iBAAmB,SAACC,EAAYb,GAE5B,OAAOa,GACH,IAAK,OAOD,MALgC,SAA5B5H,EAAKL,MAAM2H,cACXtH,EAAKS,SAAS,CACV6G,aAAc,SAIlBpI,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,OAAOiH,SAAO,GAA5B,OAGZ,IAAK,OACD,OACI5I,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,aACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,iBACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,WAAd,WACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,SAAd,SAGZ,IAAK,SACD,IAAIkH,EAAc,GAMlB,OALAhB,EAASiB,IAAI,SAAA9B,GACL6B,EAAaE,SAAS/B,EAAQuB,cAC9BM,EAAaG,KAAKhC,EAAQuB,eAI9BvI,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,aACHkH,EAAaC,IAAI,SAAAG,GACd,OACIjJ,EAAAC,EAAAC,cAAA,UAAQyB,MAAOsH,EAAQnG,IAAKmG,GAASA,MAKrD,QACI,OACIjJ,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAMiI,WAClBC,MAAOjB,EACPtE,SAAUtC,EAAKO,iBA7HZP,EAoInBoI,iBAAmB,SAACC,EAAaC,GAE7B,IAAIC,EAAuB,GAC3B,KAAIF,EAAYjH,OAAS,GAOrB,OADAmH,EAAuBF,EAAYhF,QAJnC,IADA,IAAImF,EAAkBH,EAAYhF,QACzBoF,EAAI,EAAGA,EAAID,EAAgBpH,OAAO,EAAGqH,IAC1CF,EAAqBL,KAAKM,EAAgBE,OAAO,EAAE,IAM3D,OAAOH,EAAqBD,IAhJbtI,EAoJnB2I,kBAAoB,SAACN,GACjB,IAAMO,EAAcC,KAAKC,KAAKT,EAAYjH,OAAO,GAEjD,GAAIwH,GAAeP,EAAYjH,OAAO,EAAG,CAErC,IADA,IAAI2H,EAAe,GADkBC,EAAA,SAE5BP,GACLM,EAAab,KACThJ,EAAAC,EAAAC,cAAA,MAAI4C,IAAKyG,EAAI,YAAYvJ,EAAAC,EAAAC,cAAA,KAAG6J,KAAK,IAAIzJ,QAAS,SAACgB,GACvCA,EAAEO,iBACFf,EAAKS,SAAS,CAACyI,YAAaT,KAEhCZ,MAAQY,IAAMzI,EAAKL,MAAMuJ,YAAc,CAACC,MAAO,OAAS,CAACA,MAAO,UAClEV,EAAE,MAPHA,EAAI,EAAGA,EAAIG,EAAaH,IAAKO,EAA7BP,GAUT,OAAOM,EAEP,OAAO,GAnKX/I,EAAKL,MAAQ,CACTqH,SAAU,SACVY,WAAY,OACZN,aAAc,OACd4B,YAAa,GANFlJ,wEA4Kf,IAAM+G,EAAW5G,KAAK2G,WAAW3G,KAAKlB,MAAM8H,SAAU5G,KAAKR,MAAMqH,UAC3DM,EAAenH,KAAKwH,iBAAiBxH,KAAKR,MAAMiI,WAAYb,GAC5DqC,EAAmBjJ,KAAKkH,aAAaN,EAAU5G,KAAKR,MAAM2H,cAC1D+B,EAAYlJ,KAAKiI,iBAAiBgB,EAAkBjJ,KAAKR,MAAMuJ,aAC/DI,EAAcnJ,KAAKwI,kBAAkB5B,GAG3C,OACI7H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYwI,MAAO,CAAC7C,MAAO,MAAOP,OAAQ,OAAQ8E,OAAQ,WACrErK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmBwI,MAAOnB,GACrCxH,EAAAC,EAAAC,cAAA,UACImD,KAAK,WACL3B,GAAG,WACHC,MAAOV,KAAKR,MAAMqH,SAClBa,MAAOjB,EACPtE,SAAUnC,KAAKI,cAEfrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,aACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,eAEJ3B,EAAAC,EAAAC,cAAA,UACImD,KAAK,aACL3B,GAAG,aACHC,MAAOV,KAAKR,MAAMiI,WAClBC,MAAOjB,EACPtE,SAAUnC,KAAKI,cAEfrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,gBACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,iBACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,aAEHyG,IAGPP,GAAYsC,EAAUrB,IAAI,SAAA9B,GACxB,OACIhH,EAAAC,EAAAC,cAAC4G,EAAA,EAAD,CAAMzG,GAAI,YAAc2G,EAAQtF,GAAIoB,IAAKkE,EAAQtF,IAC7C1B,EAAAC,EAAAC,cAACoK,EAAD,CAAgBtD,QAASA,OAIrChH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAewI,MAAO,CAAC4B,WAAY,6BAC9CvK,EAAAC,EAAAC,cAAA,MAAIyI,MAAO,CAAClB,QAAS,OAAQ+C,eAAgB,WACxCJ,GAAeA,EAAYtB,IAAI,SAAAjE,GAC5B,OAAOA,cA1NTrB,aCIXiH,EAhBW,SAAAtE,GAAe,IAAba,EAAab,EAAba,QACxB,OACIhH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wCACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAc6G,EAAQC,OAEtCjH,EAAAC,EAAAC,cAAA,iBAAS8G,EAAQ0D,UACjB1K,EAAAC,EAAAC,cAAA,KAAGC,UAAU,2BAAb,UACWH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2B6G,EAAQuB,cAE9DvI,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaiH,IAAOJ,EAAQK,UAAUC,UAAUC,eCPvEC,EAAuB,CACzBC,QAAS,QAEPC,EAAc,CAChBD,QAAS,WAyNEkD,cAnNX,SAAAA,EAAY5K,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0J,IACf7J,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4J,GAAAvJ,KAAAH,KAAMlB,KASV6H,WAAa,SAACC,EAAUC,GACpB,IAAIC,EAAY,GAEhB,OAAOD,GACH,IAAK,SACDC,EAAYF,EAAS1D,QAAQ6D,KAAK,SAAC/H,EAAEgI,GACjC,OAAO,IAAIC,KAAKD,EAAEZ,UAAUC,UAAY,IAAIY,KAAKjI,EAAEoH,UAAUC,YAEjE,MACJ,IAAK,SACDS,EAAYF,EAAS1D,QAAQ6D,KAAK,SAAC/H,EAAEgI,GACjC,OAAO,IAAIC,KAAKjI,EAAEoH,UAAUC,UAAY,IAAIY,KAAKD,EAAEZ,UAAUC,YAMzE,OAAOS,GA3BQjH,EA8BnBqH,aAAe,SAACN,EAAUO,EAAcM,GACpC,IAAIL,EAAc,GAElB,OAAOD,GACH,IAAK,OACDC,EAAcR,EAAS1D,QAK/B,OAAOuE,GACH,IAAK,SACDL,EAAcR,EAASS,OAAO,SAAAtB,GAC1B,OAAOA,EAAQuB,cAAgBH,IAEnC,MACJ,QACIC,EAAcR,EAAS1D,QAI/B,OAAOkE,GAnDQvH,EAqDnBO,aAAe,SAACC,GAAM,IAAAkH,EAClB1H,EAAKS,UAALiH,EAAA,GAAAzH,OAAAS,EAAA,EAAAT,CAAAyH,EACKlH,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,OAD5BZ,OAAAS,EAAA,EAAAT,CAAAyH,EAAA,cAEiB,GAFjBA,KAtDe1H,EA4DnB2H,iBAAmB,SAACC,EAAYb,GAE5B,OAAOa,GACH,IAAK,OAOD,MALgC,SAA5B5H,EAAKL,MAAM2H,cACXtH,EAAKS,SAAS,CACV6G,aAAc,SAIlBpI,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,OAAOiH,SAAO,GAA5B,OAGZ,IAAK,SACD,IAAIC,EAAc,GAMlB,OALAhB,EAASiB,IAAI,SAAA9B,GACL6B,EAAaE,SAAS/B,EAAQuB,cAC9BM,EAAaG,KAAKhC,EAAQuB,eAI9BvI,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,aACHkH,EAAaC,IAAI,SAAAG,GACd,OACIjJ,EAAAC,EAAAC,cAAA,UAAQyB,MAAOsH,EAAQnG,IAAKmG,GAASA,MAKrD,QACI,OACIjJ,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAMiI,WAClBC,MAAOjB,EACPtE,SAAUtC,EAAKO,iBA/GZP,EAsHnBoI,iBAAmB,SAACC,EAAaC,GAE7B,IAAIC,EAAuB,GAC3B,KAAIF,EAAYjH,OAAS,GAOrB,OADAmH,EAAuBF,EAAYhF,QAJnC,IADA,IAAImF,EAAkBH,EAAYhF,QACzBoF,EAAI,EAAGA,EAAID,EAAgBpH,OAAO,EAAGqH,IAC1CF,EAAqBL,KAAKM,EAAgBE,OAAO,EAAE,IAM3D,OAAOH,EAAqBD,IAlIbtI,EAsInB2I,kBAAoB,SAACN,GACjB,IAAMO,EAAcC,KAAKC,KAAKT,EAAYjH,OAAO,GAEjD,GAAIwH,GAAeP,EAAYjH,OAAO,EAAG,CAErC,IADA,IAAI2H,EAAe,GADkBC,EAAA,SAE5BP,GACLM,EAAab,KACThJ,EAAAC,EAAAC,cAAA,MAAI4C,IAAKyG,EAAI,YAAYvJ,EAAAC,EAAAC,cAAA,KAAG6J,KAAK,IAAIzJ,QAAS,SAACgB,GACvCA,EAAEO,iBACFf,EAAKS,SAAS,CAACyI,YAAaT,KAEhCZ,MAAQY,IAAMzI,EAAKL,MAAMuJ,YAAc,CAACC,MAAO,OAAS,CAACA,MAAO,UAClEV,EAAE,MAPHA,EAAI,EAAGA,EAAIG,EAAaH,IAAKO,EAA7BP,GAUT,OAAOM,EAEP,OAAO,GArJX/I,EAAKL,MAAQ,CACTqH,SAAU,SACVY,WAAY,OACZN,aAAc,OACd4B,YAAa,GANFlJ,wEA8Jf,IAAM+G,EAAW5G,KAAK2G,WAAW3G,KAAKlB,MAAM8H,SAAU5G,KAAKR,MAAMqH,UAC3DM,EAAenH,KAAKwH,iBAAiBxH,KAAKR,MAAMiI,WAAYb,GAC5DqC,EAAmBjJ,KAAKkH,aAAaN,EAAU5G,KAAKR,MAAM2H,aAAcnH,KAAKR,MAAMiI,YACnFyB,EAAYlJ,KAAKiI,iBAAiBgB,EAAkBjJ,KAAKR,MAAMuJ,aAC/DI,EAAcnJ,KAAKwI,kBAAkB5B,GAE3C,OACI7H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYwI,MAAO,CAAC7C,MAAO,MAAOP,OAAQ,OAAQ8E,OAAQ,WACrErK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmBwI,MAAOnB,GACrCxH,EAAAC,EAAAC,cAAA,UACImD,KAAK,WACL3B,GAAG,WACHC,MAAOV,KAAKR,MAAMqH,SAClBa,MAAOjB,EACPtE,SAAUnC,KAAKI,cAEfrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,aACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,eAEJ3B,EAAAC,EAAAC,cAAA,UACImD,KAAK,aACL3B,GAAG,aACHC,MAAOV,KAAKR,MAAMiI,WAClBC,MAAOjB,EACPtE,SAAUnC,KAAKI,cAEfrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,gBAEA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,UAGHyG,IAGPP,GAAYsC,EAAUrB,IAAI,SAAA9B,GACxB,OACIhH,EAAAC,EAAAC,cAAC4G,EAAA,EAAD,CAAMzG,GAAI,eAAiB2G,EAAQtF,GAAIoB,IAAKkE,EAAQtF,IAChD1B,EAAAC,EAAAC,cAAC0K,EAAD,CAAmB5D,QAASA,OAIxChH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAewI,MAAO,CAAC4B,WAAY,6BAC9CvK,EAAAC,EAAAC,cAAA,MAAIyI,MAAO,CAAClB,QAAS,OAAQ+C,eAAgB,WACxCJ,GAAeA,EAAYtB,IAAI,SAAAjE,GAC5B,OAAOA,cA5MNrB,aCNvBqH,mLAEO,IAAA9H,EAEwC9B,KAAKlB,MAA1C8H,EAFH9E,EAEG8E,SAAUjI,EAFbmD,EAEanD,KAAMqE,EAFnBlB,EAEmBkB,KAAM6G,EAFzB/H,EAEyB+H,YAC9B,OAAI7G,IACsB,IAAlBA,EAAK,GAAGG,MACDpE,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,cAGvBT,EAAKe,IAECkH,GAAYiD,EAEf9K,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBwI,MAAO,CAAC4B,WAAY,2BAChDvK,EAAAC,EAAAC,cAAA,QAAMC,UAAU,8BAAhB,YAEJH,EAAAC,EAAAC,cAAC6K,EAAD,CAAalD,SAAUA,KAE3B7H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBwI,MAAO,CAAC4B,WAAY,2BAChDvK,EAAAC,EAAAC,cAAA,QAAMC,UAAU,yBAAhB,gBAEJH,EAAAC,EAAAC,cAAC8K,EAAD,CAAgBnD,SAAUiD,OAOtC9K,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,+BAvBDF,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,aAXRmD,aAqDTyH,cACX3L,YAXoB,SAACmB,GAErB,MAAO,CACHoH,SAAUpH,EAAMmD,UAAUsH,QAAQrD,SAClCiD,YAAarK,EAAMmD,UAAUsH,QAAQJ,YACrClL,KAAMa,EAAMC,SAASd,KACrBqE,KAAMxD,EAAMmD,UAAUsH,QAAQC,SAMlCC,2BAAiB,SAACrL,GAAD,MAAW,CACxB,CAAEgE,WAAY,WAAYsH,MAAO,CAC7B,SAAU,KAAMtL,EAAMH,KAAKe,IAAMZ,EAAMH,KAAKe,IAAM,MACnD2K,QAAS,CAAC,YAAa,SAC1B,CAAEvH,WAAY,QAASC,IAAKjE,EAAMH,KAAKe,KACvC,CAAEoD,WAAY,cAAesH,MAAO,CAChC,WAAY,KAAMtL,EAAMH,KAAKe,IAAMZ,EAAMH,KAAKe,IAAM,MACrD2K,QAAS,CAAC,YAAa,YATnBL,CAWbJ,GCnEIrD,EAAuB,CACzBC,QAAS,QAEPC,EAAc,CAChBD,QAAS,WA2QE8D,cArQX,SAAAA,EAAYxL,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsK,IACfzK,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwK,GAAAnK,KAAAH,KAAMlB,KASV6H,WAAa,SAACC,EAAUC,GACpB,IAAIC,EAAY,GAEhB,OAAOD,GACH,IAAK,SACDC,EAAYF,EAAS1D,QAAQ6D,KAAK,SAAC/H,EAAEgI,GACjC,OAAO,IAAIC,KAAKD,EAAEZ,UAAUC,UAAY,IAAIY,KAAKjI,EAAEoH,UAAUC,YAEjE,MACJ,IAAK,SACDS,EAAYF,EAAS1D,QAAQ6D,KAAK,SAAC/H,EAAEgI,GACjC,OAAO,IAAIC,KAAKjI,EAAEoH,UAAUC,UAAY,IAAIY,KAAKD,EAAEZ,UAAUC,YAMzE,OAAOS,GA3BQjH,EA8BnBqH,aAAe,SAACN,EAAUO,EAAcM,GACpC,IAAIL,EAAc,GAElB,OAAOD,GACH,IAAK,OACDC,EAAcR,EAAS1D,QAK/B,OAAOuE,GACH,IAAK,OACDL,EAAcR,EAASS,OAAO,SAAAtB,GAC1B,OAAOA,EAAQE,UAAYkB,IAE/B,MACJ,IAAK,SACDC,EAAcR,EAASS,OAAO,SAAAtB,GAC1B,OAAOA,EAAQuB,cAAgBH,IAEnC,MACJ,IAAK,OACDC,EAAcR,EAASS,OAAO,SAAAtB,GAC1B,OAAOA,EAAQwE,SAAWpD,IAE9B,MACJ,QACIC,EAAcR,EAAS1D,QAI/B,OAAOkE,GA7DQvH,EA+DnBO,aAAe,SAACC,GAAM,IAAAkH,EAClB1H,EAAKS,UAALiH,EAAA,GAAAzH,OAAAS,EAAA,EAAAT,CAAAyH,EACKlH,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,OAD5BZ,OAAAS,EAAA,EAAAT,CAAAyH,EAAA,cAEiB,GAFjBA,KAhEe1H,EAsEnB2H,iBAAmB,SAACC,EAAYb,EAAUsD,GAEtC,OAAOzC,GACH,IAAK,OAOD,MALgC,SAA5B5H,EAAKL,MAAM2H,cACXtH,EAAKS,SAAS,CACV6G,aAAc,SAIlBpI,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,OAAOiH,SAAO,GAA5B,OAGZ,IAAK,OACD,OACI5I,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,aACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,iBACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,WAAd,WACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,SAAd,SAGZ,IAAK,SACD,IAAIkH,EAAc,GAMlB,OALAhB,EAASiB,IAAI,SAAA9B,GACL6B,EAAaE,SAAS/B,EAAQuB,cAC9BM,EAAaG,KAAKhC,EAAQuB,eAI9BvI,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,OACHkH,EAAaC,IAAI,SAAAG,GACd,OACIjJ,EAAAC,EAAAC,cAAA,UAAQyB,MAAOsH,EAAQnG,IAAKmG,GAASA,MAKrD,IAAK,OACD,IAAIwC,EAAM,GAOV,OANAN,EAAMrC,IAAI,SAAA7E,GACFwH,EAAK1C,SAAS9E,EAAKvC,KACnB+J,EAAKzC,KAAK/E,EAAKvC,MAKnB1B,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,aACC8J,EAAK3C,IAAI,SAAAnI,GACN,OACIX,EAAAC,EAAAC,cAAA,UAAQyB,MAAOhB,EAAKmC,IAAKnC,GAAMA,MAMnD,QACI,OACIX,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAMiI,WAClBC,MAAOjB,EACPtE,SAAUtC,EAAKO,iBAjKZP,EAwKnBoI,iBAAmB,SAACC,EAAaC,GAE7B,IAAIC,EAAuB,GAC3B,KAAIF,EAAYjH,OAAS,GAOrB,OADAmH,EAAuBF,EAAYhF,QAJnC,IADA,IAAImF,EAAkBH,EAAYhF,QACzBoF,EAAI,EAAGA,EAAID,EAAgBpH,OAAO,EAAGqH,IAC1CF,EAAqBL,KAAKM,EAAgBE,OAAO,EAAE,IAM3D,OAAOH,EAAqBD,IApLbtI,EAwLnB2I,kBAAoB,SAACN,GACjB,IAAMO,EAAcC,KAAKC,KAAKT,EAAYjH,OAAO,GAEjD,GAAIwH,GAAeP,EAAYjH,OAAO,EAAG,CAErC,IADA,IAAI2H,EAAe,GADkBC,EAAA,SAE5BP,GACLM,EAAab,KACThJ,EAAAC,EAAAC,cAAA,MAAI4C,IAAKyG,EAAI,YAAYvJ,EAAAC,EAAAC,cAAA,KAAG6J,KAAK,IAAIzJ,QAAS,SAACgB,GACvCA,EAAEO,iBACFf,EAAKS,SAAS,CAACyI,YAAaT,KAEhCZ,MAAQY,IAAMzI,EAAKL,MAAMuJ,YAAc,CAACC,MAAO,OAAS,CAACA,MAAO,UAClEV,EAAE,MAPHA,EAAI,EAAGA,EAAIG,EAAaH,IAAKO,EAA7BP,GAUT,OAAOM,EAEP,OAAO,GAvMX/I,EAAKL,MAAQ,CACTqH,SAAU,SACVY,WAAY,OACZN,aAAc,OACd4B,YAAa,GANFlJ,wEAgNf,IAAM+G,EAAW5G,KAAK2G,WAAW3G,KAAKlB,MAAM8H,SAAU5G,KAAKR,MAAMqH,UAC3DM,EAAenH,KAAKwH,iBAAiBxH,KAAKR,MAAMiI,WAAYb,EAAU5G,KAAKlB,MAAMoL,OACjFjB,EAAmBjJ,KAAKkH,aAAaN,EAAU5G,KAAKR,MAAM2H,aAAcnH,KAAKR,MAAMiI,YACnFyB,EAAYlJ,KAAKiI,iBAAiBgB,EAAkBjJ,KAAKR,MAAMuJ,aAC/DI,EAAcnJ,KAAKwI,kBAAkB5B,GAE3C,OACI7H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYwI,MAAO,CAAC7C,MAAO,MAAOP,OAAQ,OAAQ8E,OAAQ,WACrErK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmBwI,MAAOnB,GACrCxH,EAAAC,EAAAC,cAAA,UACImD,KAAK,WACL3B,GAAG,WACHC,MAAOV,KAAKR,MAAMqH,SAClBa,MAAOjB,EACPtE,SAAUnC,KAAKI,cAEfrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,aACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,eAEJ3B,EAAAC,EAAAC,cAAA,UACImD,KAAK,aACL3B,GAAG,aACHC,MAAOV,KAAKR,MAAMiI,WAClBC,MAAOjB,EACPtE,SAAUnC,KAAKI,cAEfrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,gBACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,iBACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,YACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,OAEHyG,IAGPP,GAAYsC,EAAUrB,IAAI,SAAA9B,GACxB,OACIhH,EAAAC,EAAAC,cAAC4G,EAAA,EAAD,CAAMzG,GAAI,YAAc2G,EAAQtF,GAAIoB,IAAKkE,EAAQtF,IAC7C1B,EAAAC,EAAAC,cAACoK,EAAD,CAAgBtD,QAASA,OAIrChH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAewI,MAAO,CAAC4B,WAAY,6BAC9CvK,EAAAC,EAAAC,cAAA,MAAIyI,MAAO,CAAClB,QAAS,OAAQ+C,eAAgB,WACxCJ,GAAeA,EAAYtB,IAAI,SAAAjE,GAC5B,OAAOA,cA9PCrB,aCT9BgE,EAAuB,CACzBC,QAAS,QAEPC,EAAc,CAChBD,QAAS,WAuPEiE,eAjPX,SAAAA,EAAY3L,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyK,IACf5K,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2K,GAAAtK,KAAAH,KAAMlB,KASV6H,WAAa,SAACC,EAAUC,GACpB,IAAIC,EAAY,GAEhB,OAAOD,GACH,IAAK,SACDC,EAAYF,EAAS1D,QAAQ6D,KAAK,SAAC/H,EAAEgI,GACjC,OAAO,IAAIC,KAAKD,EAAEZ,UAAUC,UAAY,IAAIY,KAAKjI,EAAEoH,UAAUC,YAEjE,MACJ,IAAK,SACDS,EAAYF,EAAS1D,QAAQ6D,KAAK,SAAC/H,EAAEgI,GACjC,OAAO,IAAIC,KAAKjI,EAAEoH,UAAUC,UAAY,IAAIY,KAAKD,EAAEZ,UAAUC,YAMzE,OAAOS,GA3BQjH,EA8BnBqH,aAAe,SAACN,EAAUO,EAAcM,GACpC,IAAIL,EAAc,GAElB,OAAOD,GACH,IAAK,OACDC,EAAcR,EAAS1D,QAK/B,OAAOuE,GACH,IAAK,SACDL,EAAcR,EAASS,OAAO,SAAAtB,GAC1B,OAAOA,EAAQuB,cAAgBH,IAEnC,MACJ,IAAK,OACDC,EAAcR,EAASS,OAAO,SAAAtB,GAC1B,OAAOA,EAAQ0D,WAAatC,IAEhC,MACJ,QACIC,EAAcR,EAAS1D,QAI/B,OAAOkE,GAxDQvH,EA0DnBO,aAAe,SAACC,GAAM,IAAAkH,EAClB1H,EAAKS,UAALiH,EAAA,GAAAzH,OAAAS,EAAA,EAAAT,CAAAyH,EACKlH,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,OAD5BZ,OAAAS,EAAA,EAAAT,CAAAyH,EAAA,cAEiB,GAFjBA,KA3De1H,EAiEnB2H,iBAAmB,SAACC,EAAYb,EAAUsD,GAEtC,OAAOzC,GACH,IAAK,OAOD,MALgC,SAA5B5H,EAAKL,MAAM2H,cACXtH,EAAKS,SAAS,CACV6G,aAAc,SAIlBpI,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,OAAOiH,SAAO,GAA5B,OAGZ,IAAK,SACD,IAAIC,EAAc,GAMlB,OALAhB,EAASiB,IAAI,SAAA9B,GACL6B,EAAaE,SAAS/B,EAAQuB,cAC9BM,EAAaG,KAAKhC,EAAQuB,eAI9BvI,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,aACHkH,EAAaC,IAAI,SAAAG,GACd,OACIjJ,EAAAC,EAAAC,cAAA,UAAQyB,MAAOsH,EAAQnG,IAAKmG,GAASA,MAKrD,IAAK,OACD,IAAIwC,EAAM,GAOV,OANAN,EAAMrC,IAAI,SAAA7E,GACFwH,EAAK1C,SAAS9E,EAAKvC,KACnB+J,EAAKzC,KAAK/E,EAAKvC,MAKnB1B,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAM2H,aAClBO,MAAOjB,EACPtE,SAAUtC,EAAKO,cAEXrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,aACC8J,EAAK3C,IAAI,SAAAnI,GACN,OACIX,EAAAC,EAAAC,cAAA,UAAQyB,MAAOhB,EAAKmC,IAAKnC,GAAMA,MAMnD,QACI,OACIX,EAAAC,EAAAC,cAAA,UACAmD,KAAK,eACL3B,GAAG,eACHC,MAAOb,EAAKL,MAAMiI,WAClBC,MAAOjB,EACPtE,SAAUtC,EAAKO,iBA7IZP,EAoJnBoI,iBAAmB,SAACC,EAAaC,GAE7B,IAAIC,EAAuB,GAC3B,KAAIF,EAAYjH,OAAS,GAOrB,OADAmH,EAAuBF,EAAYhF,QAJnC,IADA,IAAImF,EAAkBH,EAAYhF,QACzBoF,EAAI,EAAGA,EAAID,EAAgBpH,OAAO,EAAGqH,IAC1CF,EAAqBL,KAAKM,EAAgBE,OAAO,EAAE,IAM3D,OAAOH,EAAqBD,IAhKbtI,EAoKnB2I,kBAAoB,SAACN,GACjB,IAAMO,EAAcC,KAAKC,KAAKT,EAAYjH,OAAO,GAEjD,GAAIwH,GAAeP,EAAYjH,OAAO,EAAG,CAErC,IADA,IAAI2H,EAAe,GADkBC,EAAA,SAE5BP,GACLM,EAAab,KACThJ,EAAAC,EAAAC,cAAA,MAAI4C,IAAKyG,EAAI,YAAYvJ,EAAAC,EAAAC,cAAA,KAAG6J,KAAK,IAAIzJ,QAAS,SAACgB,GACvCA,EAAEO,iBACFf,EAAKS,SAAS,CAACyI,YAAaT,KAEhCZ,MAAQY,IAAMzI,EAAKL,MAAMuJ,YAAc,CAACC,MAAO,OAAS,CAACA,MAAO,UAClEV,EAAE,MAPHA,EAAI,EAAGA,EAAIG,EAAaH,IAAKO,EAA7BP,GAUT,OAAOM,EAEP,OAAO,GAnLX/I,EAAKL,MAAQ,CACTqH,SAAU,SACVY,WAAY,OACZN,aAAc,OACd4B,YAAa,GANFlJ,wEA4Lf,IAAM+G,EAAW5G,KAAK2G,WAAW3G,KAAKlB,MAAM8H,SAAU5G,KAAKR,MAAMqH,UAC3DM,EAAenH,KAAKwH,iBAAiBxH,KAAKR,MAAMiI,WAAYb,EAAU5G,KAAKlB,MAAMoL,OACjFjB,EAAmBjJ,KAAKkH,aAAaN,EAAU5G,KAAKR,MAAM2H,aAAcnH,KAAKR,MAAMiI,YACnFyB,EAAYlJ,KAAKiI,iBAAiBgB,EAAkBjJ,KAAKR,MAAMuJ,aAC/DI,EAAcnJ,KAAKwI,kBAAkB5B,GAE3C,OACI7H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYwI,MAAO,CAAC7C,MAAO,MAAOP,OAAQ,OAAQ8E,OAAQ,WACrErK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmBwI,MAAOnB,GACrCxH,EAAAC,EAAAC,cAAA,UACImD,KAAK,WACL3B,GAAG,WACHC,MAAOV,KAAKR,MAAMqH,SAClBa,MAAOjB,EACPtE,SAAUnC,KAAKI,cAEfrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,cACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,cAEJ3B,EAAAC,EAAAC,cAAA,UACImD,KAAK,aACL3B,GAAG,aACHC,MAAOV,KAAKR,MAAMiI,WAClBC,MAAOjB,EACPtE,SAAUnC,KAAKI,cAEfrB,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,gBAEA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,UAAd,YACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,OAEHyG,IAGPP,GAAYsC,EAAUrB,IAAI,SAAA9B,GACxB,OACIhH,EAAAC,EAAAC,cAAC4G,EAAA,EAAD,CAAMzG,GAAI,eAAiB2G,EAAQtF,GAAIoB,IAAKkE,EAAQtF,IAChD1B,EAAAC,EAAAC,cAAC0K,EAAD,CAAmB5D,QAASA,OAIxChH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAewI,MAAO,CAAC4B,WAAY,6BAC9CvK,EAAAC,EAAAC,cAAA,MAAIyI,MAAO,CAAClB,QAAS,OAAQ+C,eAAgB,WACxCJ,GAAeA,EAAYtB,IAAI,SAAAjE,GAC5B,OAAOA,cA1OIrB,aCNjCmI,oLAEO,IAAA5I,EACkC9B,KAAKlB,MAApC8H,EADH9E,EACG8E,SAAUjI,EADbmD,EACanD,KAAMkL,EADnB/H,EACmB+H,YACxB,OAAKlL,EAAKe,IAEc,iCAAbf,EAAKe,IACLX,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,eACbwH,GAAYiD,EAEf9K,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBwI,MAAO,CAAC4B,WAAY,2BAChDvK,EAAAC,EAAAC,cAAA,QAAMC,UAAU,8BAAhB,YAGJH,EAAAC,EAAAC,cAAC0L,EAAD,CAAuB/D,SAAUA,EAAUsD,MAAOlK,KAAKlB,MAAMoL,SAEjEnL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBwI,MAAO,CAAC4B,WAAY,2BAChDvK,EAAAC,EAAAC,cAAA,QAAMC,UAAU,yBAAhB,gBAGJH,EAAAC,EAAAC,cAAC2L,GAAD,CAA0BhE,SAAUiD,EAAaK,MAAOlK,KAAKlB,MAAMoL,WAO/EnL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,+BA3BDF,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,aALFmD,aAiDfyH,eACX3L,YAXoB,SAACmB,GAErB,MAAO,CACHoH,SAAUpH,EAAMmD,UAAUsH,QAAQrD,SAClCiD,YAAarK,EAAMmD,UAAUsH,QAAQJ,YACrClL,KAAMa,EAAMC,SAASd,KACrBuL,MAAO1K,EAAMmD,UAAUsH,QAAQC,SAMnCC,2BAAiB,SAACrL,GAAD,MAAW,CACxB,CAAEgE,WAAY,WAAYuH,QAAS,CAAC,YAAa,SACjD,CAAEvH,WAAY,QAASsH,MAAO,CAC1B,QAAS,MAAM,IAEnB,CAAEtH,WAAY,cAAeuH,QAAS,CAAC,YAAa,YAP7CL,CASbU,wBC9BIG,eACF,SAAAA,EAAY/L,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6K,IACfhL,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+K,GAAA1K,KAAAH,KAAMlB,KAMVyE,WAAa,WACT1D,EAAKS,SAAS,CAACkD,MAAM,KARN3D,EAUnB4D,YAAc,WACZ5D,EAAKS,SAAS,CAACkD,MAAM,KATnB3D,EAAKL,MAAQ,CACTgE,MAAM,GAHK3D,wEAeV,IACG6D,EAAY1D,KAAKlB,MAAjB4E,QACR,OACI3E,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACAtE,QAASW,KAAKuD,WACdM,eAAe,EACfiH,aAAa,EACb5L,UAAWwE,EAAQqH,cAJnB,0BAQAhM,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACAH,KAAMxD,KAAKR,MAAMgE,KACjBM,QAAS9D,KAAKyD,YACdM,kBAAgB,oBAChBE,SAAS,MAGLlF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sCACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,qBAAhB,aACAH,EAAAC,EAAAC,cAAA,2DACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACItE,QAASW,KAAKlB,MAAMkM,aACpBnH,eAAe,EACfiH,aAAa,EACb5L,UAAWwE,EAAQuH,aAJvB,OAQIlM,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACAtE,QAASW,KAAKyD,YACdI,eAAe,EACfiH,aAAa,EACb5L,UAAWwE,EAAQuH,aAJnB,kBA/CE1I,aAqEnB6B,wBApGA,SAAAC,GAAK,MAAK,CACrB0G,aAAc,CACVpG,gBAAiB,UACjBqE,MAAO,QACPxE,QAAS,MACTD,UAAW,MACXE,WAAY,uBACZC,UAAW,CACPC,gBAAiB,WAErBC,UAAY,CACRD,gBAAiB,YAGzBsG,YAAa,CACT7B,OAAQ,MACRzE,gBAAiB,UACjBqE,MAAO,QACPxE,QAAS,MACTD,UAAW,MACXM,MAAO,QACPJ,WAAY,uBACZC,UAAW,CACPC,gBAAiB,WAErBC,UAAY,CACRD,gBAAiB,cA0EdP,CAAmByG,IC/F5BK,GAAkB,CACpB1E,QAAS,OACT2E,cAAe,MACfC,SAAU,OACV7G,UAAW,IAGT8G,GAAQ,CACV7E,QAAS,cACT8E,aAAc,EACdC,OAAQ,oBACRC,aAAc,EACdC,YAAa,EACb5G,MAAO,IACPP,OAAQ,IACRE,QAAS,EACTkH,UAAW,cAGTC,GAAa,CACfnF,QAAS,OACToF,SAAU,EACVC,SAAU,UAGRC,GAAM,CACRtF,QAAS,QACTuF,SAAU,WACVlH,MAAO,OACPP,OAAQ,OACR0H,OAAQ,GAGNC,GAAoB,CACtBF,SAAU,WACVlH,MAAO,OACPP,OAAQ,OACR0H,OAAQ,EACRzH,UAAW,EACX2H,UAAW,UAGTC,GAAmB,CACrBtH,MAAO,MACPuH,UAAW,IACX5H,QAAS,GACT+G,OAAQ,kBACRD,aAAc,QAEZe,GAAoB,CACtB1H,gBAAiB,UACjBqE,MAAO,QACPsD,WAAY,MACZC,YAAa,MACbC,aAAc,MACdjI,UAAW,MACXkI,WAAY,MACZhI,WAAY,uBACZC,UAAW,CACPC,gBAAiB,WAErBC,UAAY,CACRD,gBAAiB,YAGnB+H,eACF,SAAAA,EAAY5N,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0M,IACf7M,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4M,GAAAvM,KAAAH,KAAMlB,KAGVkM,aAAe,WAEXnL,EAAKf,MAAM6N,cAAc9M,EAAKf,MAAM8N,WAEpC,IAAMC,EAAYhN,EAAKf,MAAMiH,QAAQ8G,UAClCA,GACCA,EAAUhF,IAAI,SAAAiF,GACVrN,KACKsN,UACAC,IAAI,YACJC,MAAMH,GACNI,SACAtO,KAAK,WACFuO,QAAQC,IAAIN,EAAK,0BAClB1J,MAAM,SAACC,GACN8J,QAAQC,IAAI/J,OAM5BxD,EAAKf,MAAMuO,QAAQtF,KAAK,eAzBTlI,EA6BnByN,qBAAuB,SAACC,EAAS9M,GAE7B,IAAM+M,EAAM,IAAIC,eAChBD,EAAIhK,KAAK,MAAO+J,GAAS,GACzBC,EAAIE,aAAe,OACnBF,EAAIG,OAAS,WAET,IAAMC,EAAUC,IAAIC,gBAAgBN,EAAIO,UACjBC,SAASC,eAAexN,GAChCqI,KAAO8E,GAG1BJ,EAAIU,QAzCWrO,wEA6CV,IAAAsO,EAAAnO,KAEL,IADiBA,KAAKlB,MAAdH,KACEe,IAAK,OAAOX,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,MAF9B,IAIG2G,EAAY/F,KAAKlB,MAAjBiH,QAER,GAAIA,GAAWA,EAAQ8G,UAAW,CAC9B,IAAMuB,EAAWrI,EAAQsI,SACnBC,EAASvI,EAAQ8G,UAAUhF,IAAI,SAAA0G,GAC7B,OACIxP,EAAAC,EAAAC,cAAA,OAAKyI,MAAO2D,GAAOxJ,IAAK0M,GAEpBxP,EAAAC,EAAAC,cAAA,OAAKyI,MAAOiE,IAER5M,EAAAC,EAAAC,cAAA,OACIuP,IAAKJ,EAASG,GACd7G,MAAOoE,GACP2C,IAAKF,IAETxP,EAAAC,EAAAC,cAAA,KACIwB,GAAI8N,EACJG,UAAQ,EACRhH,MAAOuE,GACP/M,UAAU,wCAEVH,EAAAC,EAAAC,cAAA,KAAGyI,MAAO,CAACnD,WAAY,GAAIrF,UAAU,kBAArC,YAEHiP,EAAKb,qBAAqBc,EAASG,GAAWA,OAOnE,OACIxP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAc6G,EAAQC,OACtCjH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,uBAA8C6G,EAAQuB,aACtDvI,EAAAC,EAAAC,cAAA,SAAOyI,MAAOwD,IACToD,GAELvP,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAewI,MAAOyE,IACjCpN,EAAAC,EAAAC,cAAA,SAAI8G,EAAQ4I,UAEhB5P,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAAuBwI,MAAO,CAAClB,QAAS,SACnDzH,EAAAC,EAAAC,cAAC2P,GAAD,CAAqB5D,aAAchL,KAAKgL,eACxCjM,EAAAC,EAAAC,cAAC4G,EAAA,EAAD,CACIzG,GAAI,mBAAmBY,KAAKlB,MAAM+P,MAAMC,OAAOrO,GAC/CoB,IAAKkE,EAAQtF,GACbiH,MAAO2E,IAHX,iBAORtN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wCACXH,EAAAC,EAAAC,cAAA,iCAAyB8G,EAAQ3E,YACjCrC,EAAAC,EAAAC,cAAA,WAAMkH,IAAOJ,EAAQK,UAAUC,UAAUC,eAMtD,OAAIP,EAEHhH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAc6G,EAAQC,OACtCjH,EAAAC,EAAAC,cAAA,wBAAgB8G,EAAQ4I,SACxB5P,EAAAC,EAAAC,cAAC2P,GAAD,CAAqB5D,aAAchL,KAAKgL,gBAE5CjM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wCACXH,EAAAC,EAAAC,cAAA,iCAAyB8G,EAAQ3E,YACjCrC,EAAAC,EAAAC,cAAA,WAAMkH,IAAOJ,EAAQK,UAAUC,UAAUC,eAQrDvH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,sCAlISsD,aA0JdyH,eACX3L,YAjBoB,SAACmB,EAAOuP,GAC5B,IAAMtO,EAAKsO,EAASF,MAAMC,OAAOrO,GAC3BmG,EAAWpH,EAAMmD,UAAUqM,KAAKpI,SAEtC,MAAO,CACHb,QAFYa,EAAWA,EAASnG,GAAM,KAGtCmM,UAAWmC,EAASF,MAAMC,OAAOrO,GACjC9B,KAAMa,EAAMC,SAASd,OAGF,SAACL,GACxB,MAAO,CACHqO,cAAe,SAACC,GAAD,OAAetO,EC1MT,SAACsO,GAC1B,OAAO,SAACtO,EAAUE,EAAXC,GAAqDA,EAA/BC,aACPgE,EADsCjE,EAAlBiE,gBAG5BI,WAAW,YAAYC,IAAI6J,GAAWM,SAAStO,KAAK,WAC1DN,EAAS,CAAEO,KAAM,iBAAkB+N,gBACpCxJ,MAAM,SAACC,GACN/E,EAAS,CAAEO,KAAM,uBAAwBwE,WDmMNsJ,CAAcC,QAMzDzC,2BAAiB,SAACrL,GAAD,MAAW,CACxB,CAAEgE,WAAY,WAAYsH,MAAO,CAC7B,SAAU,KAAMtL,EAAMH,KAAKe,IAAMZ,EAAMH,KAAKe,IAAM,UAJ/CsK,CAOb0C,4CEpOIxB,GAAkB,CACpB1E,QAAS,OACT2E,cAAe,MACfC,SAAU,OACV7G,UAAW,IAGT8G,GAAQ,CACV7E,QAAS,cACT8E,aAAc,EACdC,OAAQ,oBACRC,aAAc,EACdC,YAAa,EACb5G,MAAO,IACPP,OAAQ,IACRE,QAAS,EACTkH,UAAW,cAGTC,GAAa,CACfnF,QAAS,OACToF,SAAU,EACVC,SAAU,UAGRC,GAAM,CACRtF,QAAS,QACTuF,SAAU,WACVlH,MAAO,OACPP,OAAQ,OACR0H,OAAQ,GAENiD,GAAoB,CACtBlD,SAAU,WACVlH,MAAO,OACPP,OAAQ,OACR0H,OAAQ,EACRzH,UAAW,EACX2H,UAAW,UAKFgD,GAAb,SAAAtP,GAEI,SAAAsP,EAAYpQ,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkP,IACfrP,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoP,GAAA/O,KAAAH,KAAMlB,KAgBVsB,aAAe,SAACC,GACZR,EAAKS,SAALR,OAAAS,EAAA,EAAAT,CAAA,GACKO,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,SAnBbb,EAsBnBsP,kBAAoB,SAAC9O,GACY,IAA1BA,EAAEG,OAAOE,MAAMO,SACdZ,EAAEG,OAAOE,MAAQ,IAAML,EAAEG,OAAOE,OAEpCb,EAAKS,SAALR,OAAAS,EAAA,EAAAT,CAAA,GACKO,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,SA3Bbb,EA8BnBuP,gBAAkB,SAACC,EAAMC,GAClBD,GAAQC,EACPzP,EAAKS,SAAS,CACVgH,YAAa+H,EAAK,IAAIC,IAG1BzP,EAAKS,SAAS,CACVgH,YAAa,MArCNzH,EA0CnBc,aAAe,SAACN,GACZA,EAAEO,iBAEF,IAAM2O,EAAc,CAChBtJ,QAASpG,EAAKL,MAAMyG,QACpBD,MAAOnG,EAAKL,MAAMwG,MAClBsB,YAAazH,EAAKL,MAAMgQ,UAAU,IAAI3P,EAAKL,MAAMiQ,WACjDd,QAAS9O,EAAKL,MAAMmP,QACpB9B,UAAWhN,EAAKL,MAAMqN,UACtBwB,SAAUxO,EAAKL,MAAM6O,UAGzBxO,EAAKf,MAAM4Q,cAAcH,GACzB1P,EAAKf,MAAMuO,QAAQtF,KAAK,eAvDTlI,EA2DnB8P,YAAc,WACV,IAAMC,EAAiB,CACnB3J,QAASpG,EAAKL,MAAMyG,QACpBD,MAAOnG,EAAKL,MAAMwG,MAClBwJ,UAAW3P,EAAKL,MAAMgQ,UACtBC,WAAY5P,EAAKL,MAAMiQ,WACvB5C,UAAWhN,EAAKL,MAAMqN,UACtBwB,SAAUxO,EAAKL,MAAM6O,UAGzB,OADavO,OAAOiB,OAAO6O,GACb5O,KAAK,SAAAN,GAAK,OAAIA,EAAMO,OAAS,KArE5BpB,EAyEnBgQ,OAAS,SAACC,EAAeC,GACrB,GAAGA,EAAc9O,OAAQ,CACrB,IAAM+O,EAAiBD,EAAclI,IAAI,SAAAiF,GACrC,MAAO,QAAQA,EAAK1K,KAAK,kCAE7B6N,MAAMD,GAGV,IAAME,EAAW,CACbC,eAAgB,CACZC,UAAW3Q,KAASd,OAAO0R,YAAY3Q,MAK/CoQ,EAAcjI,IAAI,SAAAiF,GACd,IAAMyB,GAAW,IAAItH,MAAOqJ,UAAY,IAAKxD,EAAK1K,KAClD3C,KACKsN,UACAC,IAAI,YACJC,MAAMsB,GACNgC,IAAIzD,EAAMoD,GACVM,GAAG/Q,KAASsN,QAAQ0D,UAAUC,cAC3B,SAACC,GAEG,IAAIC,EAAYD,EAASE,iBAAmBF,EAASG,WAAc,IAKnE,OAJA3D,QAAQC,IAAI,aAAewD,EAAW,UACtC/Q,EAAKS,SAAS,CACVyQ,eAAgBH,IAEZD,EAASnR,OACb,KAAKC,KAASsN,QAAQiE,UAAUC,OAGhC,KAAKxR,KAASsN,QAAQiE,UAAUE,WAKrC,SAACC,GACAhE,QAAQC,IAAI+D,IACb,WACC1R,KACKsN,UACAC,IAAI,YACJC,MAAMsB,GACN6C,iBAAiBxS,KAAK,SAACyS,GAEpBxR,EAAKS,SAAS,CACVuM,UAAS,GAAAyE,OAAAxR,OAAAyR,GAAA,EAAAzR,CAAMD,EAAKL,MAAMqN,WAAjB,CAA4B0B,IACrCF,SAAUvO,OAAO0R,OAAO3R,EAAKL,MAAM6O,SAAzBvO,OAAAS,EAAA,EAAAT,CAAA,GACLyO,EAAW8C,aA5H7BxR,EAqInBmL,aAAe,SAAC3K,GACZA,EAAEO,iBACgBf,EAAKL,MAAMqN,UACnBhF,IAAI,SAAAiF,GACVrN,KACKsN,UACAC,IAAI,YACJC,MAAMH,GACNI,SACAtO,KAAK,WACFiB,EAAKS,SAAS,CACVuM,UAAW,GACXwB,SAAU,GACV0C,eAAgB,IAGpB5D,QAAQC,IAAI,iCACbhK,MAAM,SAAC+N,GACNhE,QAAQC,IAAI+D,QArJxBtR,EAAKL,MAAQ,CACTyG,QAAS,GACTD,MAAO,GACPsB,YAAa,GACbqH,QAAS,GACT9B,UAAW,GACXwB,SAAU,GAEVmB,UAAW,GACXC,WAAY,GACZsB,eAAgB,GAZLlR,EAFvB,OAAAC,OAAA6B,EAAA,EAAA7B,CAAAoP,EAAAtP,GAAAE,OAAA8B,EAAA,EAAA9B,CAAAoP,EAAA,EAAArN,IAAA,SAAAnB,MAAA,WAgKa,IAAAyN,EAAAnO,KACCoO,EAAWpO,KAAKR,MAAM6O,SACrBxB,EAAa7M,KAAKR,MAAlBqN,UACHkE,EAAiBrI,KAAK+I,MAAMzR,KAAKR,MAAMuR,gBAErCzC,EAASzB,EAAYA,EAAUhF,IAAI,SAAA0G,GACrC,OACIxP,EAAAC,EAAAC,cAAA,OAAKyI,MAAO2D,GAAOxJ,IAAK0M,GACpBxP,EAAAC,EAAAC,cAAA,OAAKyI,MAAOiE,IACR5M,EAAAC,EAAAC,cAAA,OACIuP,IAAKJ,EAASG,GACd7G,MAAOoE,GACP2C,IAAKF,QAMpBpB,QAAQC,IAAI,aACXrC,EAAegG,EAAiB,EAClChS,EAAAC,EAAAC,cAAA,UAAQC,UAAU,6BAA6BwI,MAAOuH,GAAmB5P,QAAS,SAACgB,GAAD,OAAO8N,EAAKnD,aAAa3K,KACvGtB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,uBAAuBwI,MAAO,CAACnD,WAAY,IAAxD,WAEJ,GAIJ,OADiBvE,KAAKlB,MAAdH,KACEe,IAEVX,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,QAAMgD,SAAUjC,KAAKW,aAAczB,UAAU,SACzCH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,2BAAd,sCACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBkD,KAAK,UAAU3B,GAAG,UAAU0B,SAAUnC,KAAKI,aAAcM,MAAOV,KAAKR,MAAMyG,SAC3GlH,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,GAAG2B,cAAY,EAACC,UAAQ,GAAtC,iBACAvD,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,4BACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,WAAd,qBACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,SAAd,mBAGR3B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,SAAf,cACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,OAAO4B,GAAG,QAAQ0B,SAAUnC,KAAKI,gBAEjDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAEXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,aAAf,OACAnD,EAAAC,EAAAC,cAAA,SAAQJ,KAAK,SAAS4B,GAAG,YACrB2B,KAAK,YAAYsP,IAAI,OAAOC,IAAI,OAAOjR,MAAOV,KAAKR,MAAMgQ,UACzDrN,SAAUnC,KAAKI,aAAgBsH,MAAO,CAAC7C,MAAO,KAAM+M,UAAQ,KAGpE7S,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,cAAf,gBACAnD,EAAAC,EAAAC,cAAA,SAAQJ,KAAK,SAAS4B,GAAG,aACrB2B,KAAK,aAAasP,IAAI,IAAIC,IAAI,KAAKjR,MAAOV,KAAKR,MAAMiQ,WAErDtN,SAAUnC,KAAKmP,kBAAqBzH,MAAO,CAAC7C,MAAO,IAAK+M,UAAQ,KAGxE7S,EAAAC,EAAAC,cAAA,SACIyI,MAAO,CAAClB,QAAS,SAAUuF,SAAU,WAAY8F,SAAU,SAAUtN,UAAW,IAChFrF,UAAU,UAFd,uBAOJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAEXH,EAAAC,EAAAC,cAAC6S,GAAA,EAAD,CAAUC,OAAO,0BACblC,OAAQ7P,KAAK6P,OACbmC,QAAS,SAER,SAAA9M,GAAiD,IAA/C+M,EAA+C/M,EAA/C+M,aAAcC,EAAiChN,EAAjCgN,cAAeC,EAAkBjN,EAAlBiN,aAC5B,OACIpT,EAAAC,EAAAC,cAAA,MAAAa,OAAA0R,OAAA,GACQS,IADR,CAEI/S,UAAWkT,KAAW,WAAY,CAACC,qBAAsBF,MAEzDpT,EAAAC,EAAAC,cAAA,QAAWiT,KAEPC,EACApT,EAAAC,EAAAC,cAAA,2CACAF,EAAAC,EAAAC,cAAA,qDAMpBF,EAAAC,EAAAC,cAAA,SAAOyI,MAAOwD,IACToD,EACAvD,EAEDhM,EAAAC,EAAAC,cAAA,SAAI8R,EAAiB,KAAOA,EAAiB,EAAzC,eAAAO,OAA4DP,EAA5D,KAAgF,MAI5FhS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,WAAf,cACAnD,EAAAC,EAAAC,cAAA,YAAUwB,GAAG,UAAUvB,UAAU,uBAAuBiD,SAAUnC,KAAKI,gBAE3ErB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,8BAA8BoD,SAAUtC,KAAK2P,eAA/D,mBA7EM5Q,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,UA3L3C8P,EAAA,CAAiC3M,aA6RlBlE,eAZS,SAACmB,GACrB,MAAO,CACHb,KAAMa,EAAMC,SAASd,OAIF,SAACL,GACxB,MAAO,CACHoR,cAAe,SAAC3J,GAAD,OAAazH,ED3UP,SAACyH,GAC1B,OAAO,SAACzH,EAAUE,EAAX0G,GAAqDA,EAA/BxG,YAA+B,IAElDiE,GAAYD,EAFsCwC,EAAlBxC,gBAGhCpD,EAAUd,IAAWiB,SAASH,QAC9BgT,EAAW9T,IAAWiB,SAASd,KAAKe,IAE1CiD,EAAUG,WAAW,YAAYyP,IAAjCzS,OAAA0S,EAAA,EAAA1S,CAAA,GACOiG,EADP,CAEI3E,WAAY9B,EAAQ8B,WACpBmJ,OAAQ+H,EACRlM,UAAW,IAAIa,KACfwL,QAAQ,EACRvM,SAAS,KACVtH,KAAK,WACJN,EAAS,CAAEO,KAAM,iBAAkBkH,cACpC3C,MAAM,SAACC,GACN/E,EAAS,CAAEO,KAAM,uBAAwBwE,WC0TRqM,CAAc3J,OAI5C1H,CAA6C6Q,ICvUtDwD,eAEF,SAAAA,EAAY5T,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0S,IACf7S,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4S,GAAAvS,KAAAH,KAAMlB,KAYVsB,aAAe,SAACC,GACZR,EAAKS,SAALR,OAAAS,EAAA,EAAAT,CAAA,GACKO,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,SAfbb,EAkBnBsP,kBAAoB,SAAC9O,GACY,IAA1BA,EAAEG,OAAOE,MAAMO,SACdZ,EAAEG,OAAOE,MAAQ,IAAML,EAAEG,OAAOE,OAEpCb,EAAKS,SAALR,OAAAS,EAAA,EAAAT,CAAA,GACKO,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,SAvBbb,EA0BnB8S,gBAAkB,SAACtS,GACfR,EAAKS,SAAS,CACVsS,IAAI9S,OAAA0S,EAAA,EAAA1S,CAAA,GACGD,EAAKL,MAAMoT,IADf9S,OAAAS,EAAA,EAAAT,CAAA,GAEEO,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,WA9BjBb,EAkCnBgT,aAAe,WAEX,IADA,IAAMC,EAAY,GACTxK,EAAI,EAAGA,GAAKzI,EAAKL,MAAMuT,QAASzK,IACrCwK,EAAU/K,KACNhJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAc2C,IAAK,SAASyG,GACvCvJ,EAAAC,EAAAC,cAAA,SAAOiD,QAAS,MAAMoG,GAAtB,+CACAvJ,EAAAC,EAAAC,cAAA,SAAQJ,KAAK,OACTuD,KAAM,MAAMkG,EAAG5H,MAAOb,EAAKL,MAAMoT,IAAI,MAAMtK,GAAI7H,GAAI,MAAM6H,EACzDnG,SAAUtC,EAAK8S,gBAAmBjL,MAAO,CAAC7C,MAAO,MAAO2B,QAAS,aAKjF,OAAOsM,GA/CQjT,EAiDnBmT,gBAAkB,WACdnT,EAAKS,SAAS,CACVyS,QAASlT,EAAKL,MAAMuT,QAAQ,KAnDjBlT,EAsDnBoT,mBAAqB,WAEjB,GAAIpT,EAAKL,MAAMuT,QAAQ,EAAG,CACtB,IAAMG,EAASrT,EAAKL,MAAMoT,WACnBM,EAAO,MAAMrT,EAAKL,MAAMuT,SAC/BlT,EAAKS,SAAS,CACVsS,IAAKM,EACLH,QAASlT,EAAKL,MAAMuT,QAAQ,MA7DrBlT,EAqEnBc,aAAe,SAACN,GACZA,EAAEO,iBAEF,IAAMuS,EAAW,CACbnN,MAAOnG,EAAKL,MAAMwG,MAClByD,SAAU5J,EAAKL,MAAMiK,SACrB+F,UAAW3P,EAAKL,MAAMgQ,UACtBC,WAAY5P,EAAKL,MAAMiQ,WACvBnI,YAAazH,EAAKL,MAAMgQ,UAAU,IAAI3P,EAAKL,MAAMiQ,WACjDmD,IAAK/S,EAAKL,MAAMoT,IAChBjE,QAAS9O,EAAKL,MAAMmP,SAGxBxB,QAAQC,IAAIvN,EAAKL,OACjBK,EAAKf,MAAMsU,iBAAiBD,GAC5BtT,EAAKf,MAAMuO,QAAQtF,KAAK,eApFTlI,EAsFnB8P,YAAc,WACV,IAAMC,EAAiB,CACnB5J,MAAOnG,EAAKL,MAAMwG,MAClByD,SAAU5J,EAAKL,MAAMiK,SACrBmJ,IAAK/S,EAAKL,MAAMoT,KAGpB,OADa9S,OAAOiB,OAAO6O,GACb5O,KAAK,SAAAN,GAAK,OAAIA,EAAMO,OAAS,KA3F3CpB,EAAKL,MAAQ,CACVwG,MAAO,GACPyD,SAAU,GACV+F,UAAW,GACXC,WAAY,GACZmD,IAAK,GACLG,QAAS,EACTpE,QAAS,IATG9O,wEAmGV,IAEGlB,EAASqB,KAAKlB,MAAdH,KACAuL,EAAUlK,KAAKlB,MAAfoL,MACF6I,EAAU/S,KAAK6S,eACrB,OAAKlU,EAAKe,IACNwK,EAEInL,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,QAAMgD,SAAUjC,KAAKW,aAAczB,UAAU,SACzCH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,2BAAd,gCACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,SAAf,0BACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,OAAO4B,GAAG,QAAQ0B,SAAUnC,KAAKI,gBAEjDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,UAAQmD,KAAK,WAAW3B,GAAG,WAAWvB,UAAU,kBAC5CiD,SAAUnC,KAAKI,aAAcM,MAAOV,KAAKR,MAAMiK,UAC/C1K,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,GAAG2B,cAAY,EAACC,UAAQ,GAAtC,gBACC4H,EAAMrC,IAAI,SAAA7E,GACP,OACIjE,EAAAC,EAAAC,cAAA,UAAQyB,MAAOsC,EAAKvC,GAAIoB,IAAKmB,EAAKvC,GAAIA,GAAG,YAAYuC,EAAK5B,gBAK1ErC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,aAAf,OACAnD,EAAAC,EAAAC,cAAA,SAAQJ,KAAK,SAAS4B,GAAG,YACrB2B,KAAK,YAAYsP,IAAI,OAAOC,IAAI,OAAOjR,MAAOV,KAAKR,MAAMgQ,UACzDrN,SAAUnC,KAAKI,aAAgBsH,MAAO,CAAC7C,MAAO,KAAM+M,UAAQ,KAGpE7S,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,cAAf,gBACAnD,EAAAC,EAAAC,cAAA,SAAQJ,KAAK,SAAS4B,GAAG,aACrB2B,KAAK,aAAasP,IAAI,IAAIC,IAAI,KAAKjR,MAAOV,KAAKR,MAAMiQ,WAErDtN,SAAUnC,KAAKmP,kBAAqBzH,MAAO,CAAC7C,MAAO,IAAK+M,UAAQ,KAGxE7S,EAAAC,EAAAC,cAAA,SACIyI,MAAO,CAAClB,QAAS,SAAUuF,SAAU,WAAY8F,SAAU,SAAUtN,UAAW,IAChFrF,UAAU,UAFd,+BAQJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,QAAf,+CACAnD,EAAAC,EAAAC,cAAA,SAAQJ,KAAK,OACTuD,KAAK,OAAO1B,MAAOV,KAAKR,MAAMoT,IAAX,KAAwBnS,GAAG,OAC9C0B,SAAUnC,KAAK2S,gBAAmBjL,MAAO,CAAC7C,MAAO,SAEpD9F,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,QAAf,gDAEJ6Q,GAAWA,EAAQlL,IAAI,SAAAwL,GACpB,OAAOA,IAEXtU,EAAAC,EAAAC,cAAA,OAAKqU,KAAM,CAAC9M,QAAS,SACjBzH,EAAAC,EAAAC,cAAA,UAAQJ,KAAK,SAASK,UAAU,6BAChCwI,MAAO,CAAC+D,YAAa,IAAKpM,QAASW,KAAKgT,iBACvCjU,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,QACDH,EAAAC,EAAAC,cAAA,UAAQJ,KAAK,SAASK,UAAU,6BAChCG,QAASW,KAAKiT,oBAAqBlU,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,YAEvCH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,WAAf,cACAnD,EAAAC,EAAAC,cAAA,YAAUwB,GAAG,UAAUvB,UAAU,uBAAuBiD,SAAUnC,KAAKI,gBAE3ErB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,8BAA8BL,KAAK,SAASyD,SAAUtC,KAAK2P,eAA7E,YAQhB5Q,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,+BA9EUF,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,aA1GfmD,aA8MbyH,eACX3L,YAfoB,SAACmB,GAErB,MAAO,CACHb,KAAMa,EAAMC,SAASd,KACrBuL,MAAO1K,EAAMmD,UAAUsH,QAAQC,QAIZ,SAAC5L,GACxB,MAAO,CACJ8U,iBAAkB,SAACG,GAAD,OAAgBjV,ECnNT,SAACiV,GAC7B,OAAO,SAACjV,EAAUE,EAAX0G,GAAqDA,EAA/BxG,aAEPgE,EAFsCwC,EAAlBxC,gBAK5BI,WAAW,eAAeyP,IAApCzS,OAAA0S,EAAA,EAAA1S,CAAA,GACOyT,EADP,CAEInN,UAAW,IAAIa,KACfwL,QAAQ,KACT7T,KAAK,WACJN,EAAS,CAAEO,KAAM,oBAAqB0U,iBACvCnQ,MAAM,SAACC,GACN/E,EAAS,CAAEO,KAAM,0BAA2BwE,WDsMN+P,CAAiBG,QAM/DpJ,2BAAiB,SAACrL,GAAD,MAAW,CACxB,CAAEgE,WAAY,QAASsH,MAAO,CAC1B,QAAS,MAAM,OAJZJ,CAOb0I,IE1NWc,GAAb,SAAA5T,GACI,SAAA4T,EAAY1U,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwT,IACf3T,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0T,GAAArT,KAAAH,KAAMlB,KAKVyE,WAAa,WACT1D,EAAKS,SAAS,CAACkD,MAAM,KAPN3D,EASnB4D,YAAc,WACV5D,EAAKS,SAAS,CAACkD,MAAM,KARrB3D,EAAKL,MAAQ,CACTgE,MAAM,GAHK3D,EADvB,OAAAC,OAAA6B,EAAA,EAAA7B,CAAA0T,EAAA5T,GAAAE,OAAA8B,EAAA,EAAA9B,CAAA0T,EAAA,EAAA3R,IAAA,SAAAnB,MAAA,WAgBI,OACE3B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACEtE,QAASW,KAAKuD,WACdrE,UAAU,0CACVwI,MAAO,CAAC7C,MAAO,OAAQyE,WAAY,wBAHrC,WAQAvK,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACAH,KAAMxD,KAAKR,MAAMgE,KACjBM,QAAS9D,KAAKyD,YACdM,kBAAgB,oBAChBE,SAAS,MAELlF,EAAAC,EAAAC,cAACoG,EAAD,CAAQlB,YAAanE,KAAKyD,oBAhCtC+P,EAAA,CAAuCjR,aCwCxBkR,GAxCf,SAAA7T,GACI,SAAA6T,EAAY3U,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyT,IACf5T,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2T,GAAAtT,KAAAH,KAAMlB,KAKVyE,WAAa,WACT1D,EAAKS,SAAS,CAACkD,MAAM,KAPN3D,EASnB4D,YAAc,WACV5D,EAAKS,SAAS,CAACkD,MAAM,KARrB3D,EAAKL,MAAQ,CACTgE,MAAM,GAHK3D,EADvB,OAAAC,OAAA6B,EAAA,EAAA7B,CAAA2T,EAAA7T,GAAAE,OAAA8B,EAAA,EAAA9B,CAAA2T,EAAA,EAAA5R,IAAA,SAAAnB,MAAA,WAgBI,OACE3B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACEtE,QAASW,KAAKuD,WACdrE,UAAU,0CACVwI,MAAO,CAAC7C,MAAO,OAAQyE,WAAY,wBAHrC,eAQAvK,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACAH,KAAMxD,KAAKR,MAAMgE,KACjBM,QAAS9D,KAAKyD,YACdM,kBAAgB,oBAChBE,SAAS,MAGLlF,EAAAC,EAAAC,cAACiF,EAAD,CAAQC,YAAanE,KAAKyD,oBAjCtCgQ,EAAA,CAAuClR,aCwBxBlE,eANS,SAACmB,GACrB,MAAO,CACHb,KAAMa,EAAMC,SAASd,OAIdN,CAtBD,SAACS,GAEX,OADiBA,EAATH,KACCe,IAAYX,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,eAE9BL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,sCAAhB,gBAEIH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,oBAAb,uDAEAH,EAAAC,EAAAC,cAACyU,GAAD,MACA3U,EAAAC,EAAAC,cAAC0U,GAAD,SCNVzI,GAAkB,CACpB1E,QAAS,OACT2E,cAAe,MACfC,SAAU,OACV7G,UAAW,IAGT8G,GAAQ,CACV7E,QAAS,cACT8E,aAAc,EACdC,OAAQ,oBACRC,aAAc,EACdC,YAAa,EACb5G,MAAO,IACPP,OAAQ,IACRE,QAAS,EACTkH,UAAW,cAGTC,GAAa,CACfnF,QAAS,OACToF,SAAU,EACVC,SAAU,UAGRC,GAAM,CACRtF,QAAS,QACTuF,SAAU,WACVlH,MAAO,OACPP,OAAQ,OACR0H,OAAQ,GAENiD,GAAoB,CACtBlD,SAAU,WACVlH,MAAO,OACPP,OAAQ,OACR0H,OAAQ,EACRzH,UAAW,EACX2H,UAAW,UAKT0H,eAEF,SAAAA,EAAY9U,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4T,IACf/T,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8T,GAAAzT,KAAAH,KAAMlB,KA+BVsB,aAAe,SAACC,GACZR,EAAKS,SAALR,OAAAS,EAAA,EAAAT,CAAA,GACKO,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,SAlCbb,EAsCnBsP,kBAAoB,SAAC9O,GACY,IAA1BA,EAAEG,OAAOE,MAAMO,SACdZ,EAAEG,OAAOE,MAAQ,IAAML,EAAEG,OAAOE,OAEpCb,EAAKS,SAALR,OAAAS,EAAA,EAAAT,CAAA,GACKO,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,SA3Cbb,EA8CnBuP,gBAAkB,SAACC,EAAMC,GAClBD,GAAQC,EACPzP,EAAKS,SAAS,CACVgH,YAAa+H,EAAK,IAAIC,IAG1BzP,EAAKS,SAAS,CACVgH,YAAa,MArDNzH,EA2DnBgQ,OAAS,SAACC,EAAeC,GACrB,GAAGA,EAAc9O,OAAQ,CACrB,IAAM+O,EAAiBD,EAAclI,IAAI,SAAAiF,GACrC,MAAO,QAAQA,EAAK1K,KAAK,kCAE7B6N,MAAMD,GAGV,IAAME,EAAW,CACbC,eAAgB,CACZC,UAAW3Q,KAASd,OAAO0R,YAAY3Q,MAK/CoQ,EAAcjI,IAAI,SAAAiF,GACd,IAAMyB,GAAW,IAAItH,MAAOqJ,UAAY,IAAKxD,EAAK1K,KAClD3C,KACKsN,UACAC,IAAI,YACJC,MAAMsB,GACNgC,IAAIzD,EAAMoD,GACVM,GAAG/Q,KAASsN,QAAQ0D,UAAUC,cAC3B,SAACC,GAEG,IAAIC,EAAYD,EAASE,iBAAmBF,EAASG,WAAc,IAKnE,OAJA3D,QAAQC,IAAI,aAAewD,EAAW,UACtC/Q,EAAKS,SAAS,CACVyQ,eAAgBH,IAEZD,EAASnR,OACb,KAAKC,KAASsN,QAAQiE,UAAUC,OAGhC,KAAKxR,KAASsN,QAAQiE,UAAUE,WAMrC,SAACC,GACAhE,QAAQC,IAAI+D,IACb,WACC1R,KACKsN,UACAC,IAAI,YACJC,MAAMsB,GACN6C,iBAAiBxS,KAAK,SAACyS,GAEpBxR,EAAKS,SAAS,CACVuM,UAAS,GAAAyE,OAAAxR,OAAAyR,GAAA,EAAAzR,CAAMD,EAAKL,MAAMqN,WAAjB,CAA4B0B,IACrCF,SAAUvO,OAAO0R,OAAO3R,EAAKL,MAAM6O,SAAzBvO,OAAAS,EAAA,EAAAT,CAAA,GACLyO,EAAW8C,aA/G7BxR,EAwHnBmL,aAAe,SAAC3K,GACZA,EAAEO,iBACgBf,EAAKL,MAAMqN,UACnBhF,IAAI,SAAAiF,GACVrN,KACKsN,UACAC,IAAI,YACJC,MAAMH,GACNI,SACAtO,KAAK,WACFiB,EAAKS,SAAS,CACVuM,UAAW,GACXwB,SAAU,GACV0C,eAAgB,GACjB,WACCtR,KAASkD,YAAYG,WAAW,YAAYC,IAAIlD,EAAKf,MAAM+P,MAAMC,OAAOrO,IAAIoT,OAAO,CAC/EhH,UAAW,GACXwB,SAAU,GACV0C,eAAgB,MAIxB5D,QAAQC,IAAI,iCACbhK,MAAM,SAAC+N,GACNhE,QAAQC,IAAI+D,OAGxBtR,EAAKS,SAAS,CACVuM,UAAW,GACXwB,SAAU,GACV0C,eAAgB,KAtJLlR,EA0JnB8P,YAAc,WACV,IAAMC,EAAiB,CACnB3J,QAASpG,EAAKL,MAAMyG,QACpBD,MAAOnG,EAAKL,MAAMwG,MAClBwJ,UAAW3P,EAAKL,MAAMgQ,UACtBC,WAAY5P,EAAKL,MAAMiQ,WACvB5C,UAAWhN,EAAKL,MAAMqN,UACtBwB,SAAUxO,EAAKL,MAAM6O,UAGzB,OADavO,OAAOiB,OAAO6O,GACb5O,KAAK,SAAAN,GAAK,OAAIA,EAAMO,OAAS,KApK5BpB,EAwKnBc,aAAe,SAACN,GACZA,EAAEO,iBAEF,IAAM2O,EAAc,CAChBtJ,QAASpG,EAAKL,MAAMyG,QACpBD,MAAOnG,EAAKL,MAAMwG,MAClBsB,YAAazH,EAAKL,MAAMgQ,UAAU,IAAI3P,EAAKL,MAAMiQ,WACjDd,QAAS9O,EAAKL,MAAMmP,QACpB9B,UAAWhN,EAAKL,MAAMqN,UACtBwB,SAAUxO,EAAKL,MAAM6O,UAGzBxO,EAAKf,MAAMgV,cAAcjU,EAAKf,MAAM+P,MAAMC,OAAOrO,GAAI8O,GACrD1P,EAAKf,MAAMuO,QAAQtF,KAAK,YAAYlI,EAAKf,MAAM+P,MAAMC,OAAOrO,KAnL5DZ,EAAKL,MAAQ,CACTyG,QAAS,GACTD,MAAO,GACPsB,YAAa,GACbqH,QAAS,GACT9B,UAAW,GACXwB,SAAU,GAEVmB,UAAW,GACXC,WAAY,GACZsB,eAAgB,GAZLlR,wEAwLV,IAAAsO,EAAAnO,KAIL,IADiBA,KAAKlB,MAAdH,KACEe,IAAK,OAAOX,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,MAEnC,GAAIY,KAAKlB,MAAMiH,QAAS,CACpB,IAAMqI,EAAWpO,KAAKR,MAAM6O,SACrBxB,EAAa7M,KAAKR,MAAlBqN,UACHkE,EAAiBrI,KAAK+I,MAAMzR,KAAKR,MAAMuR,gBAErCzC,EAASzB,EAAYA,EAAUhF,IAAI,SAAA0G,GACrC,OACIxP,EAAAC,EAAAC,cAAA,OAAKyI,MAAO2D,GAAOxJ,IAAK0M,GACpBxP,EAAAC,EAAAC,cAAA,OAAKyI,MAAOiE,IACR5M,EAAAC,EAAAC,cAAA,OACIuP,IAAKJ,EAASG,GACd7G,MAAOoE,GACP2C,IAAKF,QAMpBpB,QAAQC,IAAI,aACXrC,EAAe/K,KAAKR,MAAMuR,eAC5BhS,EAAAC,EAAAC,cAAA,UAAQC,UAAU,6BAA6BwI,MAAOuH,GAAmB5P,QAAS,SAACgB,GAAD,OAAO8N,EAAKnD,aAAa3K,KACvGtB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,uBAAuBwI,MAAO,CAACnD,WAAY,IAAxD,WAEJ,KAGJ,OACIxF,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,QAAMgD,SAAUjC,KAAKW,aAAczB,UAAU,SACzCH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,2BAAd,4BACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBkD,KAAK,UAAU3B,GAAG,UAAW0B,SAAUnC,KAAKI,aAAcM,MAAOV,KAAKR,MAAMyG,SAC5GlH,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,GAAG2B,cAAY,EAACC,UAAQ,GAAtC,iBACAvD,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,QAAd,4BACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,WAAd,qBACA3B,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,SAAd,mBAGR3B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,SAAf,SACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,OAAO4B,GAAG,QAAQ0B,SAAUnC,KAAKI,aAAcM,MAAOV,KAAKR,MAAMwG,SAEjFjH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAEXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,aAAf,OACAnD,EAAAC,EAAAC,cAAA,SAAQJ,KAAK,SAAS4B,GAAG,YACrB2B,KAAK,YAAYsP,IAAI,OAAOC,IAAI,OAAOjR,MAAOV,KAAKR,MAAMgQ,UACzDrN,SAAUnC,KAAKI,aAAgBsH,MAAO,CAAC7C,MAAO,KAAM+M,UAAQ,KAGpE7S,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,cAAf,gBACAnD,EAAAC,EAAAC,cAAA,SAAQJ,KAAK,SAAS4B,GAAG,aACrB2B,KAAK,aAAasP,IAAI,IAAIC,IAAI,KAAKjR,MAAOV,KAAKR,MAAMiQ,WAErDtN,SAAUnC,KAAKmP,kBAAqBzH,MAAO,CAAC7C,MAAO,IAAK+M,UAAQ,KAGxE7S,EAAAC,EAAAC,cAAA,SACIyI,MAAO,CAAClB,QAAS,SAAUuF,SAAU,WAAY8F,SAAU,SAAUtN,UAAW,IAChFrF,UAAU,UAFd,uBAOJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAEXH,EAAAC,EAAAC,cAAC6S,GAAA,EAAD,CAAUC,OAAO,0BACblC,OAAQ7P,KAAK6P,OACbmC,QAAS,SAER,SAAA9M,GAAiD,IAA/C+M,EAA+C/M,EAA/C+M,aAAcC,EAAiChN,EAAjCgN,cAAeC,EAAkBjN,EAAlBiN,aAC5B,OAAKhE,EAAK3O,MAAMqN,UAAU5L,OAgBlBlC,EAAAC,EAAAC,cAAA,YAdAF,EAAAC,EAAAC,cAAA,MAAAa,OAAA0R,OAAA,GACQS,IADR,CAEI/S,UAAWkT,KAAW,WAAY,CAACC,qBAAsBF,MAEzDpT,EAAAC,EAAAC,cAAA,QAAWiT,KAEPC,EACApT,EAAAC,EAAAC,cAAA,2CACAF,EAAAC,EAAAC,cAAA,qDAYxBF,EAAAC,EAAAC,cAAA,SAAOyI,MAAOwD,IACToD,EACAvD,EACDhM,EAAAC,EAAAC,cAAA,KAAGC,UAAU,0BAAb,uDAEAH,EAAAC,EAAAC,cAAA,SAAI8R,EAAiB,KAAOA,EAAiB,EAAzC,eAAAO,OAA4DP,EAA5D,KAAgF,MAI5FhS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,WAAf,cACAnD,EAAAC,EAAAC,cAAA,YAAUwB,GAAG,UACTvB,UAAU,uBACViD,SAAUnC,KAAKI,aACfM,MAAOV,KAAKR,MAAMmP,WAG1B5P,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,8BAA8BoD,SAAUtC,KAAK2P,eAA/D,cAOpB,OACI5Q,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,sCA3TSsD,aAAvBqR,GAkBKG,yBAA2B,SAACjV,EAAOU,GAGtC,OAAIV,EAAMiH,SAA6B,KAAlBvG,EAAMyG,QAChBnG,OAAA0S,EAAA,EAAA1S,CAAA,GACAhB,EAAMiH,QADb,CAEIgL,eAAgB,IAChBvB,UAAW1Q,EAAMiH,QAAQuB,YAAY0M,UAAU,EAAE,GACjDvE,WAAY3Q,EAAMiH,QAAQuB,YAAY0M,UAAU,EAAE,KAG/CxU,GAsSnB,IAmBewK,eACX3L,YApBoB,SAACmB,EAAOuP,GAC5B,IAAMtO,EAAKsO,EAASF,MAAMC,OAAOrO,GAC3BmG,EAAWpH,EAAMmD,UAAUqM,KAAKpI,SAChCb,EAAUa,EAAWA,EAASnG,GAAM,KAG1C,MAAO,CACH9B,KAAMa,EAAMC,SAASd,KACrBiO,UAAWnM,EACXsF,QAASA,IAIU,SAACzH,GACxB,MAAO,CACHwV,cAAe,SAAClH,EAAW7G,GAAZ,OAAwBzH,EPpWlB,SAACsO,EAAW7G,GACrC,OAAO,SAACzH,EAAUE,EAAXiE,GAAqDA,EAA/B/D,aACPgE,EADsCD,EAAlBC,gBAG5BI,WAAW,YAAYC,IAAI6J,GAAWiH,OAAhD/T,OAAA0S,EAAA,EAAA1S,CAAA,GACOiG,EADP,CAEI0M,QAAQ,KACT7T,KAAK,WACJN,EAAS,CAAEO,KAAM,iBAAkB+N,gBACpCxJ,MAAM,SAACC,GACN/E,EAAS,CAAEO,KAAM,uBAAwBwE,WO0VGyQ,CAAclH,EAAW7G,QAM7EoE,2BAAiB,SAACrL,GAAD,MAAW,CACxB,CAAEgE,WAAY,WAAYsH,MAAO,CAC7B,SAAU,KAAMtL,EAAMH,KAAKe,IAAMZ,EAAMH,KAAKe,IAAM,UAJ/CsK,CAOb4J,IC9WIK,eACF,SAAAA,EAAYnV,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiU,IACfpU,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmU,GAAA9T,KAAAH,KAAMlB,KAMVyE,WAAa,WACT1D,EAAKS,SAAS,CAACkD,MAAM,KARN3D,EAUnB4D,YAAc,WACZ5D,EAAKS,SAAS,CAACkD,MAAM,KATnB3D,EAAKL,MAAQ,CACTgE,MAAM,GAHK3D,wEAeV,IACG6D,EAAY1D,KAAKlB,MAAjB4E,QACR,OACI3E,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACAtE,QAASW,KAAKuD,WACdM,eAAe,EACfiH,aAAa,EACb5L,UAAWwE,EAAQqH,cAJnB,mBAQAhM,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACAH,KAAMxD,KAAKR,MAAMgE,KACjBM,QAAS9D,KAAKyD,YACdM,kBAAgB,oBAChBE,SAAS,MAGLlF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sCACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,qBAAhB,aACAH,EAAAC,EAAAC,cAAA,8DACAF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,6CACAH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,sHACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACItE,QAASW,KAAKlB,MAAMoV,iBACpBrQ,eAAe,EACfiH,aAAa,EACb5L,UAAWwE,EAAQuH,aAJvB,OAQIlM,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,CACAtE,QAASW,KAAKyD,YACdI,eAAe,EACfiH,aAAa,EACb5L,UAAWwE,EAAQuH,aAJnB,kBAjDD1I,aAuEhB6B,wBAtGA,SAAAC,GAAK,MAAK,CACrB0G,aAAc,CACVpG,gBAAiB,UACjBqE,MAAO,QACPxE,QAAS,MACTD,UAAW,MACXE,WAAY,uBACZC,UAAW,CACPC,gBAAiB,WAErBC,UAAY,CACRD,gBAAiB,YAGzBsG,YAAa,CACT7B,OAAQ,MACRzE,gBAAiB,UACjBqE,MAAO,QACPxE,QAAS,MACTD,UAAW,MACXM,MAAO,QACPJ,WAAY,uBACZC,UAAW,CACPC,gBAAiB,WAErBC,UAAY,CACRD,gBAAiB,cA4EdP,CAAmB6P,ICpG5B5H,GAAoB,CACtB1H,gBAAiB,UACjBqE,MAAO,QACPsD,WAAY,MACZC,YAAa,MACbC,aAAc,MACdjI,UAAW,MACXkH,YAAa,MACbhH,WAAY,uBACZC,UAAW,CACPC,gBAAiB,WAErBC,UAAY,CACRD,gBAAiB,YAInBwP,8MAEFD,iBAAmB,SAACxU,GAChBG,EAAKf,MAAMsV,WAAW1U,4EAGjB,IAAAyO,EAAAnO,KAEGrB,EAASqB,KAAKlB,MAAdH,KACR,IAAKA,EAAKe,IAAK,OAAOX,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,MAEnC,GAAIY,KAAKlB,MAAMoL,OAASvL,EAAM,CAC1B,IAAM0V,EAAWrU,KAAKlB,MAAMoL,MAAMvL,EAAKe,KAEvC,OADAyN,QAAQC,IAAIzO,EAAKe,KACd2U,EAEKtV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBwI,MAAO,CAAC4M,UAAW,aAAclL,OAAQ,MACrErK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAcmV,EAASjT,YACvCrC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,UAAgCH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BP,EAAKuC,QAChFnC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,UAAgCH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BmV,EAAShT,SACpFtC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,iBAAuCH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BmV,EAAS/S,YAC3FvC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,QAA8BH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BmV,EAAS9S,MAClFxC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,UAAgCH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BmV,EAAS7S,QACpFzC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,YAAkCH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BmV,EAAS5S,cACtF1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAAuBwI,MAAO,CAAClB,QAAS,SACnDzH,EAAAC,EAAAC,cAAC4G,EAAA,EAAD,CACIzG,GAAI,0BAA0BT,EAAKe,IACnCmC,IAAK,SACL6F,MAAO2E,IAHX,mBAKAtN,EAAAC,EAAAC,cAACsV,GAAD,CAAkBL,iBAAkB,kBAAM/F,EAAK+F,iBAAiBvV,EAAKe,YAQrFX,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,+BAMZ,OACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,sCAjDSsD,aAwEdyH,eACX3L,YAhBoB,SAACmB,GAIrB,MAAO,CACHb,KAAMa,EAAMC,SAASd,KACrBuL,MAAO1K,EAAMmD,UAAUqM,KAAK9E,QAGT,SAAC5L,GACxB,MAAO,CACH8V,WAAY,SAAC1U,GAAD,OAASpB,E3BlCH,SAACoB,GACvB,OAAO,SAACpB,EAAUE,EAAXgW,GAAqD,IAA/B9V,EAA+B8V,EAA/B9V,YAAagE,EAAkB8R,EAAlB9R,aAChCjD,EAAWf,IACCgE,IAERI,WAAW,SAASC,IAAIrD,GAAKwN,SAAStO,KAAK,WACjDuO,QAAQC,IAAI,2BACZ3N,EAASd,OAAO0R,YAAYnD,SAAStO,KAAK,WACtCN,EAAS,CAAEO,KAAM,gBACjBsO,QAAQC,IAAI,kBACbhK,MAAM,SAACC,GACN/E,EAAS,CAAEO,KAAM,oBAAqBwE,QACtC8J,QAAQC,IAAI/J,OAEjBD,MAAM,SAACC,GACN8J,QAAQC,IAAI/J,M2BmBc+Q,CAAW1U,QAM7CyK,2BAAiB,SAACrL,GAAD,MAAW,CACxB,CACIgE,WAAY,QACZC,IAAKjE,EAAMH,KAAKe,QALbsK,CAQbmK,IClGIM,eAEF,SAAAA,EAAY3V,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyU,IACf5U,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2U,GAAAtU,KAAAH,KAAMlB,KAmBV4V,aAAe,SAACrU,GACZA,EAAEO,iBACFf,EAAKf,MAAM6V,WAAW9U,EAAKf,MAAMH,KAAKe,IAAKG,EAAKL,OAChDK,EAAKf,MAAMuO,QAAQtF,KAAK,mBAAmBlI,EAAKf,MAAMH,KAAKe,MAvB5CG,EAyBnBO,aAAe,SAACC,GACZR,EAAKS,SAALR,OAAAS,EAAA,EAAAT,CAAA,GACKO,EAAEG,OAAOC,GAAKJ,EAAEG,OAAOE,SA3Bbb,EA8BnB8P,YAAc,WACV,IAAMC,EAAiB,CACnBxO,WAAYvB,EAAKL,MAAM4B,WACvBC,OAAQxB,EAAKL,MAAM6B,OACnBC,UAAWzB,EAAKL,MAAM8B,UACtBC,IAAK1B,EAAKL,MAAM+B,IAChBC,MAAO3B,EAAKL,MAAMgC,OAGtB,OADa1B,OAAOiB,OAAO6O,GACb5O,KAAK,SAAAN,GAAK,OAAIA,EAAMO,OAAS,KArC3CpB,EAAKL,MAAQ,CACT4B,WAAY,GACZC,OAAQ,GACRC,UAAW,GACXC,IAAK,GACLC,MAAO,GACPC,YAAa,IARF5B,wEA2CV,IACGlB,EAASqB,KAAKlB,MAAdH,KACR,OAAKA,EAAKe,IAENM,KAAKlB,MAAMoL,OAASvL,GACHqB,KAAKlB,MAAMoL,MAAMvL,EAAKe,KAG/BX,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBwI,MAAO,CAAC4M,UAAW,WAAYlL,OAAQ,MACnErK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,QAAMgD,SAAUjC,KAAK0U,aAAcxV,UAAU,eAC7CH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,2BAAd,sBACIH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,cAAf,aACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,OAAO4B,GAAG,aAAa0B,SAAUnC,KAAKI,aAAcM,MAAOV,KAAKR,MAAM4B,cAEtFrC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,UAAf,SACAnD,EAAAC,EAAAC,cAAA,YAAUwB,GAAG,SAASvB,UAAU,uBAAuBiD,SAAUnC,KAAKI,aAAcM,MAAOV,KAAKR,MAAM6B,UAE1GtC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,aAAf,2CACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,OAAO4B,GAAG,YAAY0B,SAAUnC,KAAKI,aAAcM,MAAOV,KAAKR,MAAM8B,aAErFvC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,OAAf,OACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,SAAS4B,GAAG,MAAM0B,SAAUnC,KAAKI,aAAcM,MAAOV,KAAKR,MAAM+B,OAEjFxC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,SAAf,SACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,SAAS4B,GAAG,QAAQ0B,SAAUnC,KAAKI,aAAcM,MAAOV,KAAKR,MAAMgC,SAEnFzC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,SAAOiD,QAAQ,eAAf,kBACAnD,EAAAC,EAAAC,cAAA,SAAOJ,KAAK,OAAO4B,GAAG,cAAc0B,SAAUnC,KAAKI,aAAcM,MAAOV,KAAKR,MAAMiC,eAEvF1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,8BAA8BoD,SAAUtC,KAAK2P,eAA/D,eAmBxB5Q,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,+BAxDUF,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,aA/CfmD,aAAtBkS,GAaKV,yBAA2B,SAACjV,EAAOU,GACtC,OAAIV,EAAMoL,OAA8B,KAArB1K,EAAM4B,WACdtB,OAAA0S,EAAA,EAAA1S,CAAA,GACAhB,EAAMoL,MAAMpL,EAAM+P,MAAMC,OAAOpP,MAG/BF,GA4FnB,IAYewK,eACX3L,YAboB,SAACmB,GACrB,MAAO,CACHb,KAAMa,EAAMC,SAASd,KACrBuL,MAAO1K,EAAMmD,UAAUqM,KAAK9E,QAGT,SAAC5L,GACxB,MAAO,CACHqW,WAAY,SAACjV,EAAKkV,GAAN,OAAmBtW,E5B7Cb,SAACoB,EAAKkV,GAC5B,OAAO,SAACtW,EAAUE,EAAXqW,GAAqDA,EAA/BnW,aACPgE,EADsCmS,EAAlBnS,gBAG5BI,WAAW,SAASC,IAAIrD,GAAKmU,OAAvC/T,OAAA0S,EAAA,EAAA1S,CAAA,GACO8U,IACJhW,KAAK,WACJN,EAAS,CAAEO,KAAM,cAAea,UACjC0D,MAAM,SAACC,GACN/E,EAAS,CAAEO,KAAM,oBAAqBwE,W4BoCFsR,CAAWjV,EAAKkV,QAM5DzK,2BAAiB,SAACrL,GAAD,MAAW,CACxB,CACIgE,WAAY,QACZC,IAAKjE,EAAMH,KAAKe,QALbsK,CAQbyK,IChIItI,GAAmB,CACrBtH,MAAO,MACPuH,UAAW,GACX5H,QAAS,GACT+G,OAAQ,kBACRD,aAAc,QAEZwJ,GAAc,CAChBjQ,MAAO,MACPuH,UAAW,IACX5H,QAAS,GACT+G,OAAQ,kBACRD,aAAc,QAGZyJ,eACF,SAAAA,EAAYjW,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+U,IACflV,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiV,GAAA5U,KAAAH,KAAMlB,KAGVkM,aAAe,WAEXnL,EAAKf,MAAMkW,iBAAiBnV,EAAKf,MAAMmW,cAIvCpV,EAAKf,MAAMuO,QAAQtF,KAAK,eAVTlI,wEAeV,IAEGlB,EAASqB,KAAKlB,MAAdH,KACR,IAAKA,EAAKe,IAAK,OAAOX,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,MAH9B,IAKGmU,EAAevT,KAAKlB,MAApByU,WACArJ,EAAUlK,KAAKlB,MAAfoL,MACR,GAAIqJ,GAAcrJ,GAASvL,EAAM,CAC7B,IAAMuW,EAAQpV,OAAOiB,OAAOwS,EAAWX,KACjC7H,EAAeb,EAAMvL,EAAKe,KAAKyD,MAAQpE,EAAAC,EAAAC,cAAC2P,GAAD,CAAqB5D,aAAchL,KAAKgL,eAAmB,KAExG,OACIjM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAcqU,EAAWvN,OACzCjH,EAAAC,EAAAC,cAAA,SAAIiL,EAAMqJ,EAAW9J,UAAUrI,WAA/B,qBAA6DmS,EAAWjM,YAAxE,KACAvI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAAUwI,MAAOoN,IAC3BI,EAAMrN,IAAI,SAAA+K,GAAG,OAAI7T,EAAAC,EAAAC,cAAA,KAAG4C,IAAK+Q,EAAI,IAAKA,MAEvC7T,EAAAC,EAAAC,cAAA,KAAGyI,MAAO,CAACnD,UAAW,KAAtB,eACAxF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAewI,MAAOyE,IACjCpN,EAAAC,EAAAC,cAAA,SAAIsU,EAAW5E,UAInB5P,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAAuBwI,MAAO,CAAClB,QAAS,SAClDuE,IAGThM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wCACXH,EAAAC,EAAAC,cAAA,yBAAiBkH,IAAOoN,EAAWnN,UAAUC,UAAUC,eAMvE,OACIvH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,sCAvDYsD,aAiFjByH,eACX3L,YAnBoB,SAACmB,EAAOuP,GAE5B,IAAMtO,EAAKsO,EAASF,MAAMC,OAAOrO,GAC3BoJ,EAAcrK,EAAMmD,UAAUqM,KAAKnF,YAEzC,MAAO,CACH0J,WAFe1J,EAAcA,EAAYpJ,GAAM,KAG/CyJ,MAAO1K,EAAMmD,UAAUqM,KAAK9E,MAC5B+K,aAAclG,EAASF,MAAMC,OAAOrO,GACpC9B,KAAMa,EAAMC,SAASd,OAGF,SAACL,GACxB,MAAO,CACH0W,iBAAkB,SAACC,GAAD,OAAkB3W,ERnFZ,SAAC2W,GAC7B,OAAO,SAAC3W,EAAUE,EAAXC,GAAqDA,EAA/BC,aACPgE,EADsCjE,EAAlBiE,gBAG5BI,WAAW,eAAeC,IAAIkS,GAAc/H,SAAStO,KAAK,WAChEN,EAAS,CAAEO,KAAM,oBAAqBoW,mBACvC7R,MAAM,SAACC,GACN/E,EAAS,CAAEO,KAAM,0BAA2BwE,WQ4EH2R,CAAiBC,QAMlE9K,2BAAiB,SAACrL,GAAD,MAAW,CACxB,CAAEgE,WAAY,eACd,CAAEA,WAAY,YAJPkH,CAMb+K,ICzFaI,GAtBO,SAAAjQ,GAAc,IAAZkQ,EAAYlQ,EAAZkQ,OAEpB,OACIrW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAckW,EAAOhU,YAErCrC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,UAAgCH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BkW,EAAO/T,SAClFtC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,iBAAuCH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BkW,EAAO9T,YACzFvC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,QAA8BH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BkW,EAAO7T,MAChFxC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,UAAgCH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BkW,EAAO5T,QAClFzC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,YAAkCH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BkW,EAAO3T,cACpF1C,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,UAAgCH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BkW,EAAOlU,QAClFnC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,OAA6BH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,2BAA2BkW,EAAO3U,SCZ7F4U,GAAkB,CACpB/Q,OAAQ,OACRuH,SAAU,QA4DCyJ,eAzDX,SAAAA,EAAYxW,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsV,IACfzV,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwV,GAAAnV,KAAAH,KAAMlB,KAiBVyW,iBAAmB,SAAClV,EAAG+U,GACnB/U,EAAEO,iBACFf,EAAKS,SAALR,OAAA0S,EAAA,EAAA1S,CAAA,GACOsV,EADP,CAEII,cAAc,MApBlB3V,EAAKL,MAAQ,CACTgW,cAAc,EACdnU,OAAQ,GACRD,WAAY,GACZX,GAAI,GACJlB,SAAU,GACV4D,OAAO,EACP7B,UAAW,GACXC,IAAK,GACLE,YAAa,GACbD,MAAO,IAZI3B,wEA2BV,IAAAsO,EAAAnO,KACEyV,EAAWzV,KAAKlB,MAAhB2W,QACP,OACI1W,EAAAC,EAAAC,cAAA,OAAKyI,MAAO2N,IACRtW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASwI,MAAO,CAACnD,UAAW,KACtCkR,EAAQ5N,IAAI,SAAAuN,GACT,OACIrW,EAAAC,EAAAC,cAAA,KAAG4C,IAAKuT,EAAO3U,GAAIqI,KAAK,IAAI5J,UAAU,aAAaG,QAAS,SAACgB,GAAD,OAAO8N,EAAKoH,iBAAiBlV,EAAG+U,KACxFrW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAewI,MAAO,CAAC0B,OAAQ,EAAG5E,QAAS,IACtDzF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAckW,EAAOhU,WAAW4S,UAAU,EAAE,IAAI,OAChEjV,EAAAC,EAAAC,cAAA,KAAGC,UAAU,2BAAb,OAA6CkW,EAAO3U,UAO5E1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACTc,KAAKR,MAAMgW,aAAezW,EAAAC,EAAAC,cAACyW,GAAD,CAAeN,OAAQpV,KAAKR,QAAYT,EAAAC,EAAAC,cAAA,KAAGyI,MAAO,CAACwE,UAAW,SAAUlD,MAAO,QAAvC,6BAhDnEzG,aCDnBoT,oLAEO,IAAA7T,EACiB9B,KAAKlB,MAApBoL,EADFpI,EACEoI,MACP,OAFKpI,EACSnD,KACJe,IAGNwK,EAEInL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAC2W,GAAD,CAAYH,QAASvL,KAKzBnL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,+BAXDF,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAU5C,GAAG,aALVmD,aAiCPyH,eACX3L,YAVoB,SAACmB,GAErB,MAAO,CACH0K,MAAO1K,EAAMmD,UAAUsH,QAAQC,MAC/BvL,KAAMa,EAAMC,SAASd,QAOzBwL,2BAAiB,SAACrL,GAAD,MAAW,CACxB,CAAEgE,WAAY,QAASsH,MAAO,CAC1B,QAAS,MAAM,OAJZJ,CAOb2L,ICaaE,oLA/BX,OAEE9W,EAAAC,EAAAC,cAAC6W,EAAA,EAAD,KACE/W,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAC8W,EAAD,MACEhX,EAAAC,EAAAC,cAAC+W,EAAA,EAAD,KACEjX,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,eAAeC,UAAWjH,KACtCnQ,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,sBAAsBC,UAAWvC,KAC7C7U,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,iBAAiBC,UAAWzD,KACxC3T,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,kBAAkBC,UAAWpB,KACzChW,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,aAAaC,UAAWvM,IACpC7K,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,YAAYC,UAAWzL,KACnC3L,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,eAAeC,UAAWzJ,KACtC3N,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,uBAAuBC,UAAWhC,KAC9CpV,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,8BAA8BC,UAAW1B,KAErD1V,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,UAAUC,UAAWrR,IACjC/F,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,UAAUC,UAAWxW,IAEjCZ,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOC,KAAK,WAAWC,UAAWR,KAElC5W,EAAAC,EAAAC,cAACgX,EAAA,EAAD,CAAOG,OAAK,EAACF,KAAK,IAAIC,UAAWE,eA1B7B9T,aCZE+T,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAAS5H,MACvB,2DCjBN,IAAM6H,GAAY,CACd3U,UAAW,MA0DA4U,GArDK,WAA+B,IAA9BnX,EAA8BoX,UAAA3V,OAAA,QAAA4V,IAAAD,UAAA,GAAAA,UAAA,GAAtBF,GAAWI,EAAWF,UAAA3V,OAAA,EAAA2V,UAAA,QAAAC,EAC/C,OAAOC,EAAOjY,MACV,IAAK,cAED,OADAsO,QAAQC,IAAI,eACLtN,OAAA0S,EAAA,EAAA1S,CAAA,GACAN,EADP,CAEIuC,UAAW,iBAEnB,IAAK,gBAED,OADAoL,QAAQC,IAAI,iBACLtN,OAAA0S,EAAA,EAAA1S,CAAA,GACAN,EADP,CAEIuC,UAAW,OAGnB,IAAK,kBAED,OADAoL,QAAQC,IAAI,mBACL5N,EACX,IAAK,iBAED,OADA2N,QAAQC,IAAI,kBACLtN,OAAA0S,EAAA,EAAA1S,CAAA,GACAN,EADP,CAEIuC,UAAW,OAEnB,IAAK,eAED,OADAoL,QAAQC,IAAI,gBACLtN,OAAA0S,EAAA,EAAA1S,CAAA,GACAN,EADP,CAEIuC,UAAW+U,EAAOzT,IAAI0T,UAE9B,IAAK,cAED,OADA5J,QAAQC,IAAI,gBACLtN,OAAA0S,EAAA,EAAA1S,CAAA,GACAN,EADP,CAEIuC,UAAW,OAEnB,IAAK,oBAEL,OADIoL,QAAQC,IAAI,QAAS0J,EAAOzT,KACzBvD,OAAA0S,EAAA,EAAA1S,CAAA,GACAN,EADP,CAEIuC,UAAW+U,EAAOzT,IAAI0T,UAE1B,IAAK,cAED,OADA5J,QAAQC,IAAI,QAAQ0J,EAAOpX,IAAI,qBACxBF,EACX,IAAK,oBAED,OADA2N,QAAQC,IAAI,QAAS0J,EAAOzT,KACrB7D,EACX,QACI,OAAOA,ICvDbkX,GAAY,CACd9P,SAAU,IA4BCoQ,GAzBQ,WAA+B,IAA9BxX,EAA8BoX,UAAA3V,OAAA,QAAA4V,IAAAD,UAAA,GAAAA,UAAA,GAAtBF,GAAWI,EAAWF,UAAA3V,OAAA,EAAA2V,UAAA,QAAAC,EAClD,OAAOC,EAAOjY,MACV,IAAK,iBAED,OADAsO,QAAQC,IAAI,kBAAmB0J,EAAO/Q,QAAQE,SACvCzG,EACX,IAAK,uBAED,OADA2N,QAAQC,IAAI,yBAA0B0J,EAAOzT,KACtC7D,EACX,IAAK,iBAED,OADA2N,QAAQC,IAAI,WAAW0J,EAAOlK,UAAU,yBACjCpN,EACX,IAAK,uBAED,OADA2N,QAAQC,IAAI,uBAAwB0J,EAAOzT,KACpC7D,EACX,IAAK,iBAED,OADA2N,QAAQC,IAAI,WAAW0J,EAAOlK,UAAU,wBACjCpN,EACX,IAAK,uBAED,OADA2N,QAAQC,IAAI,sBAAuB0J,EAAOzT,KACnC7D,EACX,QACI,OAAOA,IC1BbkX,GAAY,CACd7M,YAAa,IAsBFoN,GAnBW,WAA+B,IAA9BzX,EAA8BoX,UAAA3V,OAAA,QAAA4V,IAAAD,UAAA,GAAAA,UAAA,GAAtBF,GAAWI,EAAWF,UAAA3V,OAAA,EAAA2V,UAAA,QAAAC,EACrD,OAAOC,EAAOjY,MACV,IAAK,oBAED,OADAsO,QAAQC,IAAI,kBAAmB0J,EAAOvD,WAAWvN,OAC1CxG,EACX,IAAK,0BAED,OADA2N,QAAQC,IAAI,yBAA0B0J,EAAOzT,KACtC7D,EACX,IAAK,oBAED,OADA2N,QAAQC,IAAI,WAAW0J,EAAO,yBACvBtX,EACX,IAAK,0BAED,OADA2N,QAAQC,IAAI,uBAAwB0J,EAAOzT,KACpC7D,EACX,QACI,OAAOA,aCHJ0X,GARKC,YAAgB,CAChCxY,KAAMgY,GACN5Q,QAASiR,GACTzD,WAAY0D,GACZtU,UAAWyU,oBACX3X,SAAU4X,iECCd5X,KAAS6X,cATI,CACTC,OAAQ,0CACRC,WAAY,qCACZC,YAAa,4CACbC,UAAW,qBACXC,cAAe,iCACfC,kBAAmB,gBAIvBnY,KAASkD,YAAYkV,SAAS,CAAEC,uBAAuB,IAExCrY,UAAf,ECHMsY,GAAQC,YAAYd,GACtBlN,YACIiO,YAAgBC,KAAMC,kBAAkB,CAACzZ,0BAAagE,gCACtD0V,0BAAeC,IACfC,6BAAmBD,GAAU,CAACE,wBAAwB,EAAMC,YAAa,QAAUC,mBAAmB,MAI9GV,GAAMW,oBAAoB9Z,KAAK,WAC3B+Z,IAASC,OAAO7Z,EAAAC,EAAAC,cAAC4Z,EAAA,EAAD,CAAUd,MAAOA,IAAOhZ,EAAAC,EAAAC,cAAC6Z,GAAD,OAAoB9K,SAASC,eAAe,SN0GlF,kBAAmB8K,WACrBA,UAAUC,cAAcC,MAAMra,KAAK,SAAAsa,GACjCA,EAAaC","file":"static/js/main.93840eaf.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signOut } from '../../store/actions/authActions';\n\n\nconst SignedInLinksAccountant = (props) => {\n\n    return (\n        <ul className=\"right\">\n            <li><NavLink to='/accpanel'>Kokpit</NavLink></li>\n            <li><NavLink to='/clients'>Klienci</NavLink></li>\n            <li><NavLink to='/newsettlement'>Nowe Rozliczenie</NavLink></li>\n            <li><a onClick={props.signOut}>Wyloguj</a></li>\n            <li><NavLink to='/' className='btn btn-floating red lighten-2'>\n                {props.profile.initials}\n            </NavLink></li>\n        </ul>\n    );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        signOut: () => dispatch(signOut())\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(SignedInLinksAccountant);","\n\nexport const signIn = (credentials) => {\n    return (dispatch, getState, {getFirebase}) => {\n        const firebase = getFirebase();\n\n        firebase.auth().signInWithEmailAndPassword(\n            credentials.email,\n            credentials.password\n        ).then(() => {\n            dispatch({ type: 'LOGIN_SUCCESS'});\n            \n           \n        }).catch((err) => {\n            dispatch({ type: 'LOGIN_ERROR', err});\n        });\n    }\n}\n\nexport const signOut = () => {\n    return (dispatch, getState, {getFirebase}) => {\n        const firebase = getFirebase();\n\n        firebase.auth().signOut().then(() => {\n            dispatch({ type: 'SIGNOUT_SUCCESS' });\n        })\n    }\n};\n\nexport const signUp = (newUser) => {\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        const firebase = getFirebase();\n        const firestore = getFirestore();\n\n        firebase.auth().createUserWithEmailAndPassword(\n            newUser.email,\n            newUser.password\n        ).then((resp) => {\n\n\n            return firestore.collection('users').doc(resp.user.uid).set({\n                clientName: newUser.clientName,\n                initials: newUser.clientName.slice(0,3),\n                adress: newUser.adress,\n                legalForm: newUser.legalForm,\n                nip: newUser.nip,\n                regon: newUser.regon,\n                phoneNumber: newUser.phoneNumber,\n                email: newUser.email,\n                isAcc: newUser.accountant === \"true\" ? true : false\n                })\n           \n        }).then(() => {\n            dispatch({ type: 'SIGNUP_SUCCESS' });\n        }).catch(err => {\n            dispatch({ type: 'SIGNUP_ERROR', err});            \n        })\n    }\n}\n\nexport const deleteUser = (uid) => {\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        const firebase = getFirebase();\n        const firestore = getFirestore();\n\n        firestore.collection('users').doc(uid).delete().then(() => {\n            console.log('user details deleted...');\n            firebase.auth().currentUser.delete().then(() => {\n                dispatch({ type: 'DELETE_USER' });\n                console.log('user deleted')\n            }).catch((err) => {\n                dispatch({ type: 'DELETE_USER_ERROR', err });\n                console.log(err);\n            })\n        }).catch((err)=> {\n            console.log(err);\n        })\n\n       \n    }\n}\n\nexport const updateUser = (uid, userData) => {\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n\n        firestore.collection('users').doc(uid).update({\n            ...userData\n        }).then(()=> {\n            dispatch({ type: 'UPDATE_USER', uid });\n        }).catch((err)=> {\n            dispatch({ type: 'UPDATE_USER_ERROR', err });\n        });\n    }\n}","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signOut } from '../../store/actions/authActions';\n\n\nconst SignedInLinksClient = (props) => {\n    \n    return (\n        <ul className=\"right\">\n            <li><NavLink to='/dashboard'>Kokpit</NavLink></li>\n            <li><NavLink to='/newdocument'>Nowy Dokument</NavLink></li>\n            <li><a onClick={props.signOut}>Wyloguj</a></li>\n            <li><NavLink to={'/accountdetails/'+props.auth.uid} className='btn btn-floating blue lighten-2'>\n                {props.profile.initials}\n            </NavLink></li>\n        </ul>\n    );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        signOut: () => dispatch(signOut())\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        auth: state.firebase.auth\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignedInLinksClient);","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signUp } from '../../store/actions/authActions';\n\n\n\nexport class SignUp extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            clientName: '',\n            adress: '',\n            legalForm: '',\n            nip: '',\n            regon: '',\n            phoneNumber: '',\n            accountant: \"false\"\n        }\n    }\n    \n   \n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.signUp(this.state);\n    }\n    disableSubmit = () => {\n        //check if any value in this.state is 'empty'\n        let values = Object.values(this.state);\n        return values.some(value => value.length < 1);\n      \n    }\n  render() {\n    const { auth, authError } = this.props;\n    if(auth.uid) return <Redirect to='/dashboard' />\n   \n    return (\n      \n      <div id=\"signup-form\">\n            <form onSubmit={this.handleSubmit} className=\"white form-sign\">\n                <h5 className=\"grey-text text-darken-3\">Rejestracja</h5>\n                <div className=\"input-field\">\n                    <label htmlFor=\"email\">Email</label>\n                    <input type=\"email\" id=\"email\" onChange={this.handleChange} /> \n                </div>\n                <div className=\"input-field\">\n                    <label htmlFor=\"password\">Hasło</label>\n                    <input type=\"password\" id=\"password\" onChange={this.handleChange} /> \n                </div>\n                <div className=\"input-field\">\n                    <label htmlFor=\"clientName\">Imię</label>\n                    <input type=\"text\" id=\"clientName\" onChange={this.handleChange} /> \n                </div>\n                <div className=\"input-field\">\n                    <label htmlFor=\"adress\">Adres</label>\n                    <textarea id=\"adress\" className='materialize-textarea' onChange={this.handleChange} />\n                </div>\n                <div className=\"input-field\">\n                    <label htmlFor=\"legalForm\">Forma prawna (sp. z.o.o., sp. jawna...)</label>\n                    <input type=\"text\" id=\"legalForm\" onChange={this.handleChange} /> \n                </div>\n                <div className=\"input-field\">\n                    <label htmlFor=\"nip\">NIP</label>\n                    <input type=\"number\" id=\"nip\" onChange={this.handleChange} /> \n                </div>\n                <div className=\"input-field\">\n                    <label htmlFor=\"regon\">REGON</label>\n                    <input type=\"number\" id=\"regon\" onChange={this.handleChange} /> \n                </div>\n                <div className=\"input-field\">\n                    <label htmlFor=\"phoneNumber\">Numer telefonu</label>\n                    <input type=\"text\" id=\"phoneNumber\" onChange={this.handleChange} /> \n                </div>\n                <div className=\"input-field\">\n                    <select className=\"browser-default\" name=\"accountant\" id=\"accountant\" onChange={this.handleChange} value={this.state.accountant} >\n                        <option value=\"false\" defaultValue >Klient</option>\n                        <option value=\"true\" disabled>Księgowy</option>  \n                    </select>\n               \n                </div>\n                <div className=\"input-field\">\n                    <button type='submit' disabled={this.disableSubmit()} className=\"btn red lighten-1 z-depth-0\" >Zarejestruj</button>\n                    <div className=\"red-text center\">\n                        { authError ? <p>{ authError } </p> : null }\n                    </div>\n                </div>\n            </form>\n        \n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        auth: state.firebase.auth,\n        authError: state.auth.authError\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return{\n        signUp: (newUser => dispatch(signUp(newUser)))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { ButtonBase, Dialog } from '@material-ui/core'\nimport { withStyles } from '@material-ui/core/styles';\nimport SignUp from './SignUp';\n\nconst styles = theme => ({\n    button: {\n      height: '60px',\n      marginTop: '-3px',\n      padding: '0 15px',\n      transition: 'background-color .3s',\n      '&:hover' : {\n        backgroundColor: 'rgba(0,0,0,0.1)'\n      },\n      '&:focus' : {\n        backgroundColor: 'rgba(64, 70, 84, 0.88)'\n      }\n    },\n    dialog: {\n      width: 'auto'\n    }\n  });\n\nexport class SignUpDialogNav extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false\n        }\n    }\n    handleOpen = () => {\n        this.setState({open: true});\n    };\n    handleClose = () => {\n        this.setState({open: false});\n    }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <li>\n        <ButtonBase\n          onClick={this.handleOpen}\n          className={classes.button}\n          disableRipple={true}\n        >\n          Rejestracja\n        </ButtonBase>\n        <Dialog\n        open={this.state.open}\n        onClose={this.handleClose}\n        aria-labelledby=\"form-dialog-title\"\n        className={classes.dialog}\n        maxWidth='xl'\n        >\n            <SignUp closeDialog={this.handleClose} />\n        </Dialog>\n      </li>\n    )\n  }\n}\n\nSignUpDialogNav.propTypes = {\n    classes: PropTypes.object.isRequired,\n  };\nexport default withStyles(styles)(SignUpDialogNav);\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { signIn } from '../../store/actions/authActions';\nimport { Redirect } from 'react-router-dom';\n\nexport class SignIn extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: ''\n        }\n    }\n    \n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.signIn(this.state);\n       \n        \n    }\n  render() {\n      const { authError, auth } = this.props;\n      if(auth.uid) return <Redirect to='/dashboard' />\n    return (\n      <div>\n            <form onSubmit={this.handleSubmit} className=\"white form-sign\">\n                <h5 className=\"grey-text text-darken-3\">Dane</h5>\n                <div className=\"input-field\">\n                    <label htmlFor=\"email\">Email</label>\n                    <input type=\"email\" id=\"email\" onChange={this.handleChange} /> \n                </div>\n                <div className=\"input-field\">\n                    <label htmlFor=\"password\">Haslo</label>\n                    <input type=\"password\" id=\"password\" onChange={this.handleChange} /> \n                </div>\n                <div className=\"input-field\">\n                    <button className=\"btn red lighten-1 z-depth-0\" >Zaloguj</button>\n                    <div className=\"red-text center\">\n                    { authError ? <p>{authError}</p> : null }\n                    </div>\n                </div>\n            </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n    \n    return {\n        authError: state.auth.authError,\n        auth: state.firebase.auth\n        \n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        signIn: (creds) => dispatch(signIn(creds))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { ButtonBase, Dialog } from '@material-ui/core'\nimport { withStyles } from '@material-ui/core/styles';\nimport SignIn from './SignIn';\n\nconst styles = theme => ({\n    button: {\n      height: '60px',\n      marginTop: '-3px',\n      padding: 0,\n      transition: 'background-color .3s',\n      '&:hover' : {\n        backgroundColor: 'rgba(0,0,0,0.1)'\n      },\n      '&:focus' : {\n        backgroundColor: 'rgba(64, 70, 84, 0.88)'\n      }\n    },\n    dialog: {\n      \n    },\n    \n  });\n\nclass SignInDialogNav extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false\n        }\n    }\n    handleOpen = () => {\n        this.setState({open: true});\n    };\n    handleClose = () => {\n      \n      this.setState({open: false}); \n      \n    }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <li>\n        <ButtonBase\n          onClick={this.handleOpen}\n          className={classes.button}\n          disableRipple={true}\n        >\n          Zaloguj\n        </ButtonBase>\n        <Dialog\n        className={classes.dialog}\n        open={this.state.open}\n        onClose={this.handleClose}\n        aria-labelledby=\"form-dialog-title\"\n        maxWidth='xl'\n        >\n            <SignIn closeDialog={this.handleClose} />\n        </Dialog>\n      </li>\n    )\n  }\n}\n\nSignInDialogNav.propTypes = {\n    classes: PropTypes.object.isRequired,\n  };\n\nconst mapStateToProps = (state) => {\n  //console.log(state);\n  return {\n    //isLogged: !state.firebase.auth.isEmpty\n    \n  }\n}\n\nexport default connect(mapStateToProps)(withStyles(styles)(SignInDialogNav));\n\n","import React from 'react';\n\nimport SignUpDialogNav from '../auth/SignUpDialogNav';\nimport SignInDialogNav from '../auth/SignInDialogNav';\n\n\n\n\nconst SignedOutLinks = () => {\n    return (\n        <ul className=\"right\">\n            \n            <SignUpDialogNav />\n            <SignInDialogNav />\n        </ul>\n    );\n}\n\nexport default SignedOutLinks;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport SignedInLinksAccountant from './SignedInLinksAccountant';\nimport SignedInLinksClient from './SignedInLinksClient';\nimport SignedOutLinks from './SignedOutLinks';\nimport { connect } from 'react-redux';\n\nconst Navbar = (props) => {\n    const { auth, profile } = props;\n    \n    const links = auth.uid ? (\n            profile.isAcc ? <SignedInLinksAccountant profile={profile} /> : <SignedInLinksClient profile={profile} />\n        ) : <SignedOutLinks />;\n    return (\n        <nav className=\"nav-wrapper  nav-bar\">\n            <div className=\"container\">\n                <Link to='/dashboard' className='brand-logo white-text hide-on-med-and-down'>E-Accountant</Link>\n                {/* <Link to='/dashboard' className='dashboard-icon left white-text hide-on-large-only'>\n                <i className='material-icons'>dashboard</i></Link> */}\n                { links }\n            </div>\n        </nav>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    //console.log(state);\n    return {\n        auth: state.firebase.auth,\n        profile: state.firebase.profile\n    }\n}\n\nexport default connect(mapStateToProps)(Navbar);","import React from 'react';\nimport moment from 'moment';\n\n\nconst InvoiceSummary = ({invoice}) => {\n    return (\n        <div className=\"card z-depth-1 project-summary\">\n            <div className=\"card-content grey-text text-darken-3\">\n                <span className=\"card-title\">{invoice.title}</span>\n                <p>Opublikowane przez {invoice.clientName}</p>\n                <p className=\"grey-text text-darken-1\">\n                    Typ: <span className=\"red-text text-lighten-1\">{invoice.docType} invoice </span>\n                </p>\n                <p className=\"grey-text text-darken-1\">\n                    Rozliczone: <span className=\"black-text text-lighten-1\">{invoice.settled ? <i className='tiny material-icons'>check</i> : <i className='tiny material-icons'>clear</i>}</span>\n                </p>\n                <p className=\"grey-text\">{moment(invoice.createdAt.toDate()).calendar()}</p>\n            </div>\n        </div>\n    );\n}\n\nexport default InvoiceSummary; ","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\n\nimport InvoiceSummary from './InvoiceSummary'\n\n\nconst selectContainerStyle = {\n    display: 'flex'\n}\nconst selectStyle = {\n    display: 'initial',\n    \n}\n\n\nclass InvoiceList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sortType: 'newest',\n            filterType: 'none',\n            filterTarget: 'pick',\n            currentPage: 0\n        }\n    }\n\n    handleSort = (invoices, sortType) => {\n        let sortedArr = [];\n        //SORTING\n        switch(sortType) {\n            case 'newest':\n                sortedArr = invoices.slice().sort((a,b) => {\n                    return new Date(b.createdAt.toDate()) - new Date(a.createdAt.toDate());\n                });\n                break;\n            case 'oldest':\n                sortedArr = invoices.slice().sort((a,b) => {\n                    return new Date(a.createdAt.toDate()) - new Date(b.createdAt.toDate());\n                });\n                break;\n            default:\n                break;    \n        }\n        return sortedArr;\n    }\n    handleFilter = (invoices, filterTarget) => {\n        let filteredArr = [];\n        //FILTERING\n        switch(filterTarget) {\n            case 'pick':\n                filteredArr = invoices.slice();\n                break;\n            case 'sale':\n            case 'expence':\n            case 'other':\n                filteredArr = invoices.filter(invoice => {\n                    return invoice.docType === filterTarget;\n                });\n                break;\n            default:\n                filteredArr = invoices.filter(invoice => {\n                    return invoice.issuePeriod === filterTarget;\n                });\n                break;\n        }\n\n        return filteredArr\n    }\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value,\n            currentPage: 0\n        });\n\n    }\n    handleFilterType = (filterType, invoices) => {\n        \n        switch(filterType) {\n            case 'none':\n                //fix for reseting filterTarget when turning of filter\n                if (this.state.filterTarget !== 'pick') {\n                    this.setState({\n                        filterTarget: 'pick'\n                    })\n                }\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick' default>--</option>\n                    </select>\n                )\n            case 'type':\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick'>WSZYSTKIE</option>\n                        <option value='sale'>SPRZEDAŻ</option>\n                        <option value='expence'>WYDATEK</option>\n                        <option value='other'>INNE</option>\n                    </select>\n                )\n            case 'period':\n                let issuePeriods =[];\n                invoices.map(invoice => {\n                    if(!issuePeriods.includes(invoice.issuePeriod)) {\n                        issuePeriods.push(invoice.issuePeriod);\n                    }\n                })\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick'>WSZYSTKIE</option>\n                    {issuePeriods.map(period => {\n                        return (\n                            <option value={period} key={period}>{period}</option>\n                        )\n                    })}\n                    </select>\n                )\n            default:\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterType}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n\n                    </select>\n                )\n        }\n    }\n    handlePagination = (invoiceList, page) => {\n        \n        let paginatedInvoiceList = [];\n        if (invoiceList.length > 5) {\n            let invoiceListCopy = invoiceList.slice();\n            for (let i = 0; i < invoiceListCopy.length+1; i++) {\n                paginatedInvoiceList.push(invoiceListCopy.splice(0,5));\n            }\n        } else {\n            paginatedInvoiceList = invoiceList.slice();\n            return paginatedInvoiceList;\n        }\n        return paginatedInvoiceList[page];\n        \n        \n    }\n    handlePageButtons = (invoiceList) => {\n        const pagesAmount = Math.ceil(invoiceList.length/5);\n       \n        if (pagesAmount && invoiceList.length>5) {\n            let pagesButtons = [];\n            for (let i = 0; i < pagesAmount; i++) {\n                pagesButtons.push(\n                    <li key={i + 'pageLink'}><a href=\"#\" onClick={(e) => {\n                            e.preventDefault();\n                            this.setState({currentPage: i})}\n                        }\n                        style={ i === this.state.currentPage ? {color: 'red'} : {color: 'black'} } \n                    >{i+1}</a></li>\n                );\n            }\n            return pagesButtons;\n        } else {\n            return false;\n        }\n        \n    }\n    \n    render() {\n        \n        const invoices = this.handleSort(this.props.invoices, this.state.sortType);\n        const filterTarget = this.handleFilterType(this.state.filterType, invoices);\n        const filteredInvoices = this.handleFilter(invoices, this.state.filterTarget);\n        const paginated = this.handlePagination(filteredInvoices, this.state.currentPage);\n        const pageButtons = this.handlePageButtons(invoices);\n        \n\n        return (\n            <div className=\"project-list section\">\n                <div className=\"z-depth-1\" style={{width: '96%', height: '50px', margin: \"0 auto\"}}>\n                    <div className=\"select-container\" style={selectContainerStyle}>\n                        <select \n                            name='sortType'\n                            id='sortType'\n                            value={this.state.sortType} \n                            style={selectStyle}\n                            onChange={this.handleChange}\n                            >\n                            <option value=\"newest\">NAJNOWSZE</option>\n                            <option value=\"oldest\">NAJSTARSZE</option>\n                        </select>\n                        <select\n                            name='filterType'\n                            id='filterType'\n                            value={this.state.filterType}\n                            style={selectStyle}\n                            onChange={this.handleChange}\n                            >\n                            <option value='none'>FILTER (BEZ)</option>\n                            <option value='type'>TYP DOKUMENTU</option>\n                            <option value='period'>ZA OKRES</option>\n                        </select>\n                        {filterTarget}\n                    </div>   \n                </div>\n                { invoices && paginated.map(invoice => {\n                    return (\n                        <Link to={'/project/' + invoice.id} key={invoice.id}>\n                            <InvoiceSummary invoice={invoice}  />\n                        </Link>\n                    )\n                })}\n                <div className='page-buttons' style={{background: 'rgba(201, 204, 222, 0.5)'}}>\n                    <ul style={{display: 'flex', justifyContent: 'center'}}>\n                        {pageButtons && pageButtons.map(button => {\n                            return button;\n                        })}\n                    </ul>\n                </div>\n            </div>\n        )\n    }\n}\nexport default InvoiceList;","import React from 'react';\nimport moment from 'moment';\n\n\nconst SettlementSummary = ({invoice}) => {\n    return (\n        <div className=\"card z-depth-1 project-summary\">\n            <div className=\"card-content grey-text text-darken-3\">\n                <span className=\"card-title\">{invoice.title}</span>\n                {/* pass the clientName from clientId */}\n                <p>Dla: {invoice.clientId}</p>\n                <p className=\"grey-text text-darken-1\">\n                    Okres: <span className=\"red-text text-lighten-1\">{invoice.issuePeriod}</span>\n                </p>\n                <p className=\"grey-text\">{moment(invoice.createdAt.toDate()).calendar()}</p>\n            </div>\n        </div>\n    );\n}\n\nexport default SettlementSummary; ","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\n\nimport SettlementSummary from './SettlementSummary'\n\n\nconst selectContainerStyle = {\n    display: 'flex'\n}\nconst selectStyle = {\n    display: 'initial',\n    \n}\n\n\nclass SettlementList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sortType: 'newest',\n            filterType: 'none',\n            filterTarget: 'pick',\n            currentPage: 0\n        }\n    }\n\n    handleSort = (invoices, sortType) => {\n        let sortedArr = [];\n        //SORTING\n        switch(sortType) {\n            case 'newest':\n                sortedArr = invoices.slice().sort((a,b) => {\n                    return new Date(b.createdAt.toDate()) - new Date(a.createdAt.toDate());\n                });\n                break;\n            case 'oldest':\n                sortedArr = invoices.slice().sort((a,b) => {\n                    return new Date(a.createdAt.toDate()) - new Date(b.createdAt.toDate());\n                });\n                break;\n            default:\n                break;    \n        }\n        return sortedArr;\n    }\n   \n    handleFilter = (invoices, filterTarget, filterType) => {\n        let filteredArr = [];\n        //FILTERING\n        switch(filterTarget) {\n            case 'pick':\n                filteredArr = invoices.slice();\n                break;\n            default:\n                break;\n        }\n        switch(filterType) {\n            case 'period':\n                filteredArr = invoices.filter(invoice => {\n                    return invoice.issuePeriod === filterTarget;\n                });\n                break;\n            default:\n                filteredArr = invoices.slice();\n                break;\n        }\n        \n        return filteredArr\n    }\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value,\n            currentPage: 0\n        });\n\n    }\n    handleFilterType = (filterType, invoices) => {\n        \n        switch(filterType) {\n            case 'none':\n                //fix for reseting filterTarget when turning of filter\n                if (this.state.filterTarget !== 'pick') {\n                    this.setState({\n                        filterTarget: 'pick'\n                    })\n                }\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick' default>--</option>\n                    </select>\n                )\n            case 'period':\n                let issuePeriods =[];\n                invoices.map(invoice => {\n                    if(!issuePeriods.includes(invoice.issuePeriod)) {\n                        issuePeriods.push(invoice.issuePeriod);\n                    }\n                })\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick'>WSZYSTKIE</option>\n                    {issuePeriods.map(period => {\n                        return (\n                            <option value={period} key={period}>{period}</option>\n                        )\n                    })}\n                    </select>\n                )\n            default:\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterType}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n\n                    </select>\n                )\n        }\n    }\n    handlePagination = (invoiceList, page) => {\n        \n        let paginatedInvoiceList = [];\n        if (invoiceList.length > 5) {\n            let invoiceListCopy = invoiceList.slice();\n            for (let i = 0; i < invoiceListCopy.length+1; i++) {\n                paginatedInvoiceList.push(invoiceListCopy.splice(0,5));\n            }\n        } else {\n            paginatedInvoiceList = invoiceList.slice();\n            return paginatedInvoiceList;\n        }\n        return paginatedInvoiceList[page];\n        \n        \n    }\n    handlePageButtons = (invoiceList) => {\n        const pagesAmount = Math.ceil(invoiceList.length/5);\n       \n        if (pagesAmount && invoiceList.length>5) {\n            let pagesButtons = [];\n            for (let i = 0; i < pagesAmount; i++) {\n                pagesButtons.push(\n                    <li key={i + 'pageLink'}><a href=\"#\" onClick={(e) => {\n                            e.preventDefault();\n                            this.setState({currentPage: i})}\n                        }\n                        style={ i === this.state.currentPage ? {color: 'red'} : {color: 'black'} } \n                    >{i+1}</a></li>\n                );\n            }\n            return pagesButtons;\n        } else {\n            return false;\n        }\n        \n    }\n    \n    render() {\n        \n        const invoices = this.handleSort(this.props.invoices, this.state.sortType);\n        const filterTarget = this.handleFilterType(this.state.filterType, invoices);\n        const filteredInvoices = this.handleFilter(invoices, this.state.filterTarget, this.state.filterType);\n        const paginated = this.handlePagination(filteredInvoices, this.state.currentPage);\n        const pageButtons = this.handlePageButtons(invoices);\n        \n        return (\n            <div className=\"project-list section\">\n                <div className=\"z-depth-1\" style={{width: '96%', height: '50px', margin: \"0 auto\"}}>\n                    <div className=\"select-container\" style={selectContainerStyle}>\n                        <select \n                            name='sortType'\n                            id='sortType'\n                            value={this.state.sortType} \n                            style={selectStyle}\n                            onChange={this.handleChange}\n                            >\n                            <option value=\"newest\">NAJNOWSZE</option>\n                            <option value=\"oldest\">NAJSTARSZE</option>\n                        </select>\n                        <select\n                            name='filterType'\n                            id='filterType'\n                            value={this.state.filterType}\n                            style={selectStyle}\n                            onChange={this.handleChange}\n                            >\n                            <option value='none'>FILTER (BEZ)</option>\n                            \n                            <option value='period'>OKRES</option>\n                            \n                        </select>\n                        {filterTarget}\n                    </div>   \n                </div>\n                { invoices && paginated.map(invoice => {\n                    return (\n                        <Link to={'/settlement/' + invoice.id} key={invoice.id}>\n                            <SettlementSummary invoice={invoice}  />\n                        </Link>\n                    )\n                })}\n                <div className='page-buttons' style={{background: 'rgba(201, 204, 222, 0.5)'}}>\n                    <ul style={{display: 'flex', justifyContent: 'center'}}>\n                        {pageButtons && pageButtons.map(button => {\n                            return button;\n                        })}\n                    </ul>\n                </div>\n            </div>\n        )\n    }\n}\nexport default SettlementList;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\n\n\nimport InvoiceList from '../projects/InvoiceList';\nimport { Redirect } from 'react-router-dom';\nimport SettlementList from '../projects/SettlementList';\n\nclass Dashboard extends Component {\n    \n    render() {\n        //console.log(this.props);\n        const { invoices, auth, user, settlements} = this.props;\n        if (user) {\n            if (user[0].isAcc === true) {\n                return <Redirect to='/accpanel' />;\n            }\n        }\n        if (!auth.uid) {\n            return <Redirect to='/' />;\n        } else if (invoices && settlements) {\n            return (\n                <div className=\"dashboard container\">\n                    <div className=\"row\">\n                        <div className=\"col s12 m6\">\n                            <div className=\"card z-depth-0\" style={{background: \"rgba(64, 70, 84, 0.74)\"}}>\n                                <span className=\"card-title white-text bold\">FAKTURY</span>\n                            </div>\n                            <InvoiceList invoices={invoices} />\n                        </div>\n                        <div className=\"col s12 m6\">\n                            <div className=\"card z-depth-0\" style={{background: \"rgba(64, 70, 84, 0.74)\"}}>\n                                <span className=\"card-title white-text\">ROZLICZENIA</span>\n                            </div>\n                            <SettlementList invoices={settlements} />\n                        </div>\n                    </div>\n                </div>\n                );\n        } else {\n            return ( \n                <div className=\"container center\">\n                    <p>Ładowanie...</p>\n                </div>\n            );\n        }\n    }\n    \n   \n}\n\nconst mapStateToProps = (state) => {\n    \n    return {\n        invoices: state.firestore.ordered.invoices,\n        settlements: state.firestore.ordered.settlements,\n        auth: state.firebase.auth,\n        user: state.firestore.ordered.users  \n    }\n}\n\nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect((props) => [\n        { collection: 'invoices', where: [\n            'userId', '==', props.auth.uid ? props.auth.uid : null\n        ], orderBy: ['createdAt', 'desc'] },\n        { collection: 'users', doc: props.auth.uid },\n        { collection: 'settlements', where: [\n            'clientId', '==', props.auth.uid ? props.auth.uid : null\n        ], orderBy: ['createdAt', 'desc'] },\n    ])\n)(Dashboard);\n\n\n\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\n\nimport InvoiceSummary from './InvoiceSummary'\n\n\nconst selectContainerStyle = {\n    display: 'flex'\n}\nconst selectStyle = {\n    display: 'initial',\n    \n}\n\n\nclass InvoiceListAccountant extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sortType: 'newest',\n            filterType: 'none',\n            filterTarget: 'pick',\n            currentPage: 0\n        }\n    }\n\n    handleSort = (invoices, sortType) => {\n        let sortedArr = [];\n        //SORTING\n        switch(sortType) {\n            case 'newest':\n                sortedArr = invoices.slice().sort((a,b) => {\n                    return new Date(b.createdAt.toDate()) - new Date(a.createdAt.toDate());\n                });\n                break;\n            case 'oldest':\n                sortedArr = invoices.slice().sort((a,b) => {\n                    return new Date(a.createdAt.toDate()) - new Date(b.createdAt.toDate());\n                });\n                break;\n            default:\n                break;    \n        }\n        return sortedArr;\n    }\n   \n    handleFilter = (invoices, filterTarget, filterType) => {\n        let filteredArr = [];\n        //FILTERING\n        switch(filterTarget) {\n            case 'pick':\n                filteredArr = invoices.slice();\n                break;\n            default:\n                break;\n        }\n        switch(filterType) {\n            case 'type':\n                filteredArr = invoices.filter(invoice => {\n                    return invoice.docType === filterTarget;\n                });\n                break;\n            case 'period':\n                filteredArr = invoices.filter(invoice => {\n                    return invoice.issuePeriod === filterTarget;\n                });\n                break;\n            case 'user':\n                filteredArr = invoices.filter(invoice => {\n                    return invoice.userId === filterTarget;\n                })\n                break;\n            default:\n                filteredArr = invoices.slice();\n                break;\n        }\n        \n        return filteredArr\n    }\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value,\n            currentPage: 0\n        });\n\n    }\n    handleFilterType = (filterType, invoices, users) => {\n        \n        switch(filterType) {\n            case 'none':\n                //fix for reseting filterTarget when turning of filter\n                if (this.state.filterTarget !== 'pick') {\n                    this.setState({\n                        filterTarget: 'pick'\n                    })\n                }\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick' default>--</option>\n                    </select>\n                )\n            case 'type':\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick'>WSZYSTKIE</option>\n                        <option value='sale'>SPRZEDAŻ</option>\n                        <option value='expence'>WYDATEK</option>\n                        <option value='other'>INNE</option>\n                    </select>\n                )\n            case 'period':\n                let issuePeriods =[];\n                invoices.map(invoice => {\n                    if(!issuePeriods.includes(invoice.issuePeriod)) {\n                        issuePeriods.push(invoice.issuePeriod);\n                    }\n                })\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick'>ALL</option>\n                    {issuePeriods.map(period => {\n                        return (\n                            <option value={period} key={period}>{period}</option>\n                        )\n                    })}\n                    </select>\n                )\n            case 'user':\n                let uids =[];\n                users.map(user => {\n                    if(!uids.includes(user.id)) {\n                        uids.push(user.id);\n                    }\n                });\n               \n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick'>WSZYSTKIE</option>\n                        {uids.map(uid => {\n                            return (\n                                <option value={uid} key={uid}>{uid}</option>\n                            )\n                        })}\n                    </select>\n                );\n                \n            default:\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterType}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n\n                    </select>\n                )\n        }\n    }\n    handlePagination = (invoiceList, page) => {\n        \n        let paginatedInvoiceList = [];\n        if (invoiceList.length > 5) {\n            let invoiceListCopy = invoiceList.slice();\n            for (let i = 0; i < invoiceListCopy.length+1; i++) {\n                paginatedInvoiceList.push(invoiceListCopy.splice(0,5));\n            }\n        } else {\n            paginatedInvoiceList = invoiceList.slice();\n            return paginatedInvoiceList;\n        }\n        return paginatedInvoiceList[page];\n        \n        \n    }\n    handlePageButtons = (invoiceList) => {\n        const pagesAmount = Math.ceil(invoiceList.length/5);\n       \n        if (pagesAmount && invoiceList.length>5) {\n            let pagesButtons = [];\n            for (let i = 0; i < pagesAmount; i++) {\n                pagesButtons.push(\n                    <li key={i + 'pageLink'}><a href=\"#\" onClick={(e) => {\n                            e.preventDefault();\n                            this.setState({currentPage: i})}\n                        }\n                        style={ i === this.state.currentPage ? {color: 'red'} : {color: 'black'} } \n                    >{i+1}</a></li>\n                );\n            }\n            return pagesButtons;\n        } else {\n            return false;\n        }\n        \n    }\n    \n    render() {\n        \n        const invoices = this.handleSort(this.props.invoices, this.state.sortType);\n        const filterTarget = this.handleFilterType(this.state.filterType, invoices, this.props.users);\n        const filteredInvoices = this.handleFilter(invoices, this.state.filterTarget, this.state.filterType);\n        const paginated = this.handlePagination(filteredInvoices, this.state.currentPage);\n        const pageButtons = this.handlePageButtons(invoices);\n        \n        return (\n            <div className=\"project-list section\">\n                <div className=\"z-depth-1\" style={{width: '96%', height: '50px', margin: \"0 auto\"}}>\n                    <div className=\"select-container\" style={selectContainerStyle}>\n                        <select \n                            name='sortType'\n                            id='sortType'\n                            value={this.state.sortType} \n                            style={selectStyle}\n                            onChange={this.handleChange}\n                            >\n                            <option value=\"newest\">NAJNOWSZE</option>\n                            <option value=\"oldest\">NAJSTARSZE</option>\n                        </select>\n                        <select\n                            name='filterType'\n                            id='filterType'\n                            value={this.state.filterType}\n                            style={selectStyle}\n                            onChange={this.handleChange}\n                            >\n                            <option value='none'>FILTER (BEZ)</option>\n                            <option value='type'>TYP DOKUMENTU</option>\n                            <option value='period'>ZA OKRES</option>\n                            <option value='user'>ID</option>\n                        </select>\n                        {filterTarget}\n                    </div>   \n                </div>\n                { invoices && paginated.map(invoice => {\n                    return (\n                        <Link to={'/project/' + invoice.id} key={invoice.id}>\n                            <InvoiceSummary invoice={invoice}  />\n                        </Link>\n                    )\n                })}\n                <div className='page-buttons' style={{background: 'rgba(201, 204, 222, 0.5)'}}>\n                    <ul style={{display: 'flex', justifyContent: 'center'}}>\n                        {pageButtons && pageButtons.map(button => {\n                            return button;\n                        })}\n                    </ul>\n                </div>\n            </div>\n        )\n    }\n}\nexport default InvoiceListAccountant;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\n\nimport SettlementSummary from './SettlementSummary'\n\n\nconst selectContainerStyle = {\n    display: 'flex'\n}\nconst selectStyle = {\n    display: 'initial',\n    \n}\n\n\nclass SettlementListAccountant extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sortType: 'newest',\n            filterType: 'none',\n            filterTarget: 'pick',\n            currentPage: 0\n        }\n    }\n\n    handleSort = (invoices, sortType) => {\n        let sortedArr = [];\n        //SORTING\n        switch(sortType) {\n            case 'newest':\n                sortedArr = invoices.slice().sort((a,b) => {\n                    return new Date(b.createdAt.toDate()) - new Date(a.createdAt.toDate());\n                });\n                break;\n            case 'oldest':\n                sortedArr = invoices.slice().sort((a,b) => {\n                    return new Date(a.createdAt.toDate()) - new Date(b.createdAt.toDate());\n                });\n                break;\n            default:\n                break;    \n        }\n        return sortedArr;\n    }\n   \n    handleFilter = (invoices, filterTarget, filterType) => {\n        let filteredArr = [];\n        //FILTERING\n        switch(filterTarget) {\n            case 'pick':\n                filteredArr = invoices.slice();\n                break;\n            default:\n                break;\n        }\n        switch(filterType) {\n            case 'period':\n                filteredArr = invoices.filter(invoice => {\n                    return invoice.issuePeriod === filterTarget;\n                });\n                break;\n            case 'user':\n                filteredArr = invoices.filter(invoice => {\n                    return invoice.clientId === filterTarget;\n                })\n                break;\n            default:\n                filteredArr = invoices.slice();\n                break;\n        }\n        \n        return filteredArr\n    }\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value,\n            currentPage: 0\n        });\n\n    }\n    handleFilterType = (filterType, invoices, users) => {\n        \n        switch(filterType) {\n            case 'none':\n                //fix for reseting filterTarget when turning of filter\n                if (this.state.filterTarget !== 'pick') {\n                    this.setState({\n                        filterTarget: 'pick'\n                    })\n                }\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick' default>--</option>\n                    </select>\n                )\n            case 'period':\n                let issuePeriods =[];\n                invoices.map(invoice => {\n                    if(!issuePeriods.includes(invoice.issuePeriod)) {\n                        issuePeriods.push(invoice.issuePeriod);\n                    }\n                })\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick'>WSZYSTKIE</option>\n                    {issuePeriods.map(period => {\n                        return (\n                            <option value={period} key={period}>{period}</option>\n                        )\n                    })}\n                    </select>\n                )\n            case 'user':\n                let uids =[];\n                users.map(user => {\n                    if(!uids.includes(user.id)) {\n                        uids.push(user.id);\n                    }\n                });\n               \n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterTarget}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n                        <option value='pick'>WSZYSTKIE</option>\n                        {uids.map(uid => {\n                            return (\n                                <option value={uid} key={uid}>{uid}</option>\n                            )\n                        })}\n                    </select>\n                );\n                \n            default:\n                return (\n                    <select\n                    name='filterTarget'\n                    id='filterTarget'\n                    value={this.state.filterType}\n                    style={selectStyle}\n                    onChange={this.handleChange}\n                    >\n\n                    </select>\n                )\n        }\n    }\n    handlePagination = (invoiceList, page) => {\n        \n        let paginatedInvoiceList = [];\n        if (invoiceList.length > 5) {\n            let invoiceListCopy = invoiceList.slice();\n            for (let i = 0; i < invoiceListCopy.length+1; i++) {\n                paginatedInvoiceList.push(invoiceListCopy.splice(0,5));\n            }\n        } else {\n            paginatedInvoiceList = invoiceList.slice();\n            return paginatedInvoiceList;\n        }\n        return paginatedInvoiceList[page];\n        \n        \n    }\n    handlePageButtons = (invoiceList) => {\n        const pagesAmount = Math.ceil(invoiceList.length/5);\n       \n        if (pagesAmount && invoiceList.length>5) {\n            let pagesButtons = [];\n            for (let i = 0; i < pagesAmount; i++) {\n                pagesButtons.push(\n                    <li key={i + 'pageLink'}><a href=\"#\" onClick={(e) => {\n                            e.preventDefault();\n                            this.setState({currentPage: i})}\n                        }\n                        style={ i === this.state.currentPage ? {color: 'red'} : {color: 'black'} } \n                    >{i+1}</a></li>\n                );\n            }\n            return pagesButtons;\n        } else {\n            return false;\n        }\n        \n    }\n    \n    render() {\n        \n        const invoices = this.handleSort(this.props.invoices, this.state.sortType);\n        const filterTarget = this.handleFilterType(this.state.filterType, invoices, this.props.users);\n        const filteredInvoices = this.handleFilter(invoices, this.state.filterTarget, this.state.filterType);\n        const paginated = this.handlePagination(filteredInvoices, this.state.currentPage);\n        const pageButtons = this.handlePageButtons(invoices);\n        \n        return (\n            <div className=\"project-list section\">\n                <div className=\"z-depth-1\" style={{width: '96%', height: '50px', margin: \"0 auto\"}}>\n                    <div className=\"select-container\" style={selectContainerStyle}>\n                        <select \n                            name='sortType'\n                            id='sortType'\n                            value={this.state.sortType} \n                            style={selectStyle}\n                            onChange={this.handleChange}\n                            >\n                            <option value=\"newest\">NAJSTARSZE</option>\n                            <option value=\"oldest\">NAJNOWSZE</option>\n                        </select>\n                        <select\n                            name='filterType'\n                            id='filterType'\n                            value={this.state.filterType}\n                            style={selectStyle}\n                            onChange={this.handleChange}\n                            >\n                            <option value='none'>FILTER (BEZ)</option>\n                            \n                            <option value='period'>ZA OKRES</option>\n                            <option value='user'>ID</option>\n                        </select>\n                        {filterTarget}\n                    </div>   \n                </div>\n                { invoices && paginated.map(invoice => {\n                    return (\n                        <Link to={'/settlement/' + invoice.id} key={invoice.id}>\n                            <SettlementSummary invoice={invoice}  />\n                        </Link>\n                    )\n                })}\n                <div className='page-buttons' style={{background: 'rgba(201, 204, 222, 0.5)'}}>\n                    <ul style={{display: 'flex', justifyContent: 'center'}}>\n                        {pageButtons && pageButtons.map(button => {\n                            return button;\n                        })}\n                    </ul>\n                </div>\n            </div>\n        )\n    }\n}\nexport default SettlementListAccountant;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\n\n\nimport InvoiceListAccountant from '../projects/InvoiceListAccountant';\nimport { Redirect } from 'react-router-dom';\nimport SettlementListAccountant from '../projects/SettlementListAccountant';\n\nclass AccountantPanel extends Component {\n    \n    render() {\n        const { invoices, auth, settlements} = this.props;\n        if (!auth.uid) {\n            return <Redirect to='/' />;\n        } else if (auth.uid !== \"8XfhiRtQuugytCSQO9LrFDQXtNr2\") {\n            return <Redirect to='/dashboard' />;\n        } else if (invoices && settlements) {\n            return (\n                <div className=\"dashboard container\">\n                    <div className=\"row\">\n                        <div className=\"col s12 m6\">\n                            <div className=\"card z-depth-0\" style={{background: \"rgba(64, 70, 84, 0.74)\"}}>\n                                <span className=\"card-title white-text bold\">FAKTURY</span>\n                            </div>\n\n                            <InvoiceListAccountant invoices={invoices} users={this.props.users} />\n                        </div>\n                        <div className=\"col s12 m6\">\n                            <div className=\"card z-depth-0\" style={{background: \"rgba(64, 70, 84, 0.74)\"}}>\n                                <span className=\"card-title white-text\">ROZLICZENIA</span>\n                            </div>\n                            \n                            <SettlementListAccountant invoices={settlements} users={this.props.users} />\n                        </div>\n                    </div>\n                </div>\n                );\n        } else {\n            return ( \n                <div className=\"container center\">\n                    <p>Ładowanie...</p>\n                </div>\n            );\n        }\n    }\n}\n\nconst mapStateToProps = (state) => {\n    //console.log(state);\n    return {\n        invoices: state.firestore.ordered.invoices,\n        settlements: state.firestore.ordered.settlements,\n        auth: state.firebase.auth,\n        users: state.firestore.ordered.users  \n    }\n}\n\nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect((props) => [\n        { collection: 'invoices', orderBy: ['createdAt', 'desc'] },\n        { collection: 'users', where: [\n            'isAcc', '==', false\n        ] },\n        { collection: 'settlements', orderBy: ['createdAt', 'desc'] }\n    ])\n)(AccountantPanel);\n\n\n\n","import React, { Component } from 'react';\nimport { ButtonBase, Dialog } from '@material-ui/core'\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\n\n\n\nconst styles = theme => ({\n    deleteButton: {\n        backgroundColor: '#ef5350',\n        color: 'white',\n        padding: '7px',\n        marginTop: '5px',\n        transition: 'background-color .1s',\n        '&:hover': {\n            backgroundColor: '#f44336'\n        },\n        '&:focus' : {\n            backgroundColor: '#ef5350'\n          }\n    },\n    deleteYesNo: {\n        margin: '5px',\n        backgroundColor: '#ef5350',\n        color: 'white',\n        padding: '7px',\n        marginTop: '5px',\n        width: '100px',\n        transition: 'background-color .1s',\n        '&:hover': {\n            backgroundColor: '#f44336'\n        },\n        '&:focus' : {\n            backgroundColor: '#ef5350'\n          }\n    }\n})\n\nclass DeleteInvoiceDialog extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false\n        }\n    }\n\n    handleOpen = () => {\n        this.setState({open: true});\n    };\n    handleClose = () => {\n      this.setState({open: false}); \n    }\n    \n\n    render() {\n        const { classes } = this.props;\n        return (\n            <div>\n                <ButtonBase\n                onClick={this.handleOpen}\n                disableRipple={true}\n                focusRipple={false}\n                className={classes.deleteButton}\n                >\n                    Usuń Fakturę\n                </ButtonBase>\n                <Dialog\n                open={this.state.open}\n                onClose={this.handleClose}\n                aria-labelledby=\"form-dialog-title\"\n                maxWidth='xl'\n               \n                >\n                    <div className=\"card z-depth-0 invoice-delete-card\">\n                        <span className=\"card-title center\">USUŃ</span>\n                        <p>Czy na pewno chcesz usunąć dokument?</p>\n                        <div className=\"deleteYesNo\">\n                            <ButtonBase\n                                onClick={this.props.handleDelete}\n                                disableRipple={true}\n                                focusRipple={false}\n                                className={classes.deleteYesNo}\n                                >\n                                    Tak\n                                </ButtonBase>\n                                <ButtonBase\n                                onClick={this.handleClose}\n                                disableRipple={true}\n                                focusRipple={false}\n                                className={classes.deleteYesNo}\n                                >\n                                    Nie\n                                </ButtonBase>\n                        </div>\n                    </div>\n                </Dialog>\n            </div>\n        )\n    }\n\n}\n\nDeleteInvoiceDialog.propTypes = {\n    classes: PropTypes.object.isRequired,\n    \n  };\n\nexport default withStyles(styles)(DeleteInvoiceDialog);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase'; \nimport firebase from \"firebase\";\nimport { Redirect } from 'react-router-dom';\nimport { compose } from 'redux';\nimport moment from 'moment';\nimport DeleteInvoiceDialog from './DeleteInvoiceDialog'\nimport { deleteInvoice } from '../../store/actions/invoiceActions';\nimport { Link } from 'react-router-dom';\n\n//invoice files previews styling variables\nconst thumbsContainer = {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginTop: 16\n};\n  \nconst thumb = {\n    display: 'inline-flex',\n    borderRadius: 2,\n    border: '1px solid #eaeaea',\n    marginBottom: 8,\n    marginRight: 8,\n    width: 100,\n    height: 100,\n    padding: 4,\n    boxSizing: 'border-box'\n};\n\nconst thumbInner = {\n    display: 'flex',\n    minWidth: 0,\n    overflow: 'hidden'\n};\n\nconst img = {\n    display: 'block',\n    position: 'relative',\n    width: 'auto',\n    height: '100%',\n    zIndex: 0\n};\n\nconst uploadButtonStyle = {\n    position: 'absolute',\n    width: '25px',\n    height: '25px',\n    zIndex: 2,\n    marginTop: 0,\n    textAlign: 'center'\n    \n};\nconst commentsBoxStyle = {\n    width: '99%',\n    minHeight: 100,\n    padding: 10,\n    border: '1px dashed grey',\n    borderRadius: '10px'\n}\nconst updateButtonStyle = {\n    backgroundColor: '#ef5350',\n    color: 'white',\n    paddingTop: '5px',\n    paddingLeft: '7px',\n    paddingRight: '7px',\n    marginTop: '5px',\n    marginLeft: '5px',\n    transition: 'background-color .1s',\n    '&:hover': {\n        backgroundColor: '#f44336'\n    },\n    '&:focus' : {\n        backgroundColor: '#ef5350'\n      }\n}\nclass InvoiceDetails extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    handleDelete = () => {\n        //deleting invoice from database\n        this.props.deleteInvoice(this.props.invoiceId);\n        //deleting invoice files from storage\n        const filesName = this.props.invoice.filesName;\n        if(filesName) {\n            filesName.map(file => {\n                firebase \n                    .storage()\n                    .ref('uploaded')\n                    .child(file)\n                    .delete()\n                    .then(() => {\n                        console.log(file+\" succesfully deleted\")\n                    }).catch((err) => {\n                        console.log(err);\n                    })\n            });\n        }\n        \n        //redirecting after delete\n        this.props.history.push('/dashboard');\n        \n    }\n\n    createDownloadButton = (fileURL, id) => {\n       \n        const xhr = new XMLHttpRequest();\n        xhr.open('GET', fileURL, true);\n        xhr.responseType = 'blob';\n        xhr.onload = () => {\n            //const blob = xhr.response;\n            const blobURL = URL.createObjectURL(xhr.response);\n            const downloadButton = document.getElementById(id);\n            downloadButton.href = blobURL;\n        };\n        \n        xhr.send();\n\n    }\n\n    render() {\n        const { auth } = this.props;\n        if (!auth.uid) return <Redirect to='/' />\n\n        const { invoice } = this.props;\n     \n        if (invoice && invoice.filesName) {\n            const previews = invoice.filesUrl; \n            const thumbs = invoice.filesName.map(fileName => {\n                    return (\n                        <div style={thumb} key={fileName}>\n                        \n                            <div style={thumbInner}>\n                                \n                                <img\n                                    src={previews[fileName]}\n                                    style={img}\n                                    alt={fileName}\n                                />\n                                <a \n                                    id={fileName}\n                                    download\n                                    style={uploadButtonStyle}\n                                    className=\"btn-floating btn-small red lighten-1\" \n                                    >\n                                    <i style={{marginTop: -7}} className=\"material-icons\">get_app</i>\n                                </a>\n                                {this.createDownloadButton(previews[fileName], fileName)}\n                            </div>\n                            \n                        </div>\n                    );\n                });\n            \n            return (\n                <div className=\"container section project-details\">\n                    <div className=\"card z-depth-0\">\n                        <div className=\"card-content\">\n                            <span className=\"card-title\">{invoice.title}</span>\n                            <p className=\"grey-text\">Dokumenty za okres: {invoice.issuePeriod}</p>\n                            <aside style={thumbsContainer}>\n                                {thumbs}\n                            </aside>\n                            <p>Komentarze:</p>\n                            <div className=\"comments-box\" style={commentsBoxStyle}>\n                                <p>{invoice.comment}</p>\n                            </div>\n                            <div className=\"bottom-btn-container\" style={{display: 'flex'}}>\n                                <DeleteInvoiceDialog handleDelete={this.handleDelete} />\n                                <Link \n                                    to={'/project/update/'+this.props.match.params.id} \n                                    key={invoice.id}\n                                    style={updateButtonStyle}\n                                >Zaktualizuj</Link>\n                            </div>\n                        </div>\n                        <div className=\"card-action grey lighten-4 grey-text\">\n                            <div>Opublikowane przez {invoice.clientName}</div>\n                            <div>{moment(invoice.createdAt.toDate()).calendar()}</div>\n                            \n                        </div>\n                    </div>\n                </div>\n            )\n        } else if (invoice) {\n            return (\n                <div className=\"container section project-details\">\n                    <div className=\"card z-depth-0\">\n                        <div className=\"card-content\">\n                            <span className=\"card-title\">{invoice.title}</span>\n                            <p>Komentarze: {invoice.comment}</p>\n                            <DeleteInvoiceDialog handleDelete={this.handleDelete} />\n                        </div>\n                        <div className=\"card-action grey lighten-4 grey-text\">\n                            <div>Opublikowane przez {invoice.clientName}</div>\n                            <div>{moment(invoice.createdAt.toDate()).calendar()}</div>\n                            \n                        </div>\n                    </div>\n                </div>\n            )\n        } else {\n            return ( \n                <div className=\"container center\">\n                    <p>Ładowanie...</p>\n                </div>\n                );\n        }\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    const id = ownProps.match.params.id;\n    const invoices = state.firestore.data.invoices;\n    const invoice = invoices ? invoices[id] : null;\n    return {\n        invoice: invoice,\n        invoiceId: ownProps.match.params.id,\n        auth: state.firebase.auth\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        deleteInvoice: (invoiceId) => dispatch(deleteInvoice(invoiceId))\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    firestoreConnect((props) => [\n        { collection: 'invoices', where: [\n            'userId', '==', props.auth.uid ? props.auth.uid : null\n        ] }\n    ])\n)(InvoiceDetails);\n","\n\n\nexport const createInvoice = (invoice) => {\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        //async call to database  \n        const firestore = getFirestore();\n        const profile = getState().firebase.profile;\n        const authorId = getState().firebase.auth.uid;\n        \n        firestore.collection('invoices').add({\n            ...invoice,\n            clientName: profile.clientName,\n            userId: authorId,\n            createdAt: new Date(),\n            opened: false,\n            settled: false\n        }).then(() => {\n            dispatch({ type: 'CREATE_INVOICE', invoice });\n        }).catch((err) => {\n            dispatch({ type: 'CREATE_INVOICE_ERROR', err });\n        });\n    }\n}; \n\nexport const deleteInvoice = (invoiceId) => {\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n\n        firestore.collection('invoices').doc(invoiceId).delete().then(() => {\n            dispatch({ type: 'DELETE_INVOICE', invoiceId });\n        }).catch((err) => {\n            dispatch({ type: 'DELETE_INVOICE_ERROR', err});\n        });\n    }\n};\n\nexport const updateInvoice = (invoiceId, invoice) => {\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n\n        firestore.collection('invoices').doc(invoiceId).update({\n            ...invoice,\n            opened: false\n        }).then(() => {\n            dispatch({ type: 'UPDATE_INVOICE', invoiceId });\n        }).catch((err) => {\n            dispatch({ type: 'UPDATE_INVOICE_ERROR', err});\n        });\n    }\n};","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport firebase from \"firebase\";\nimport classNames from 'classnames'\nimport Dropzone from 'react-dropzone'\nimport { connect } from 'react-redux';\nimport { createInvoice } from '../../store/actions/invoiceActions';\n\n\n//styling variables for dropzone preview box\nconst thumbsContainer = {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginTop: 16\n  };\n  \nconst thumb = {\n    display: 'inline-flex',\n    borderRadius: 2,\n    border: '1px solid #eaeaea',\n    marginBottom: 8,\n    marginRight: 8,\n    width: 100,\n    height: 100,\n    padding: 4,\n    boxSizing: 'border-box'\n};\n\nconst thumbInner = {\n    display: 'flex',\n    minWidth: 0,\n    overflow: 'hidden'\n};\n\nconst img = {\n    display: 'block',\n    position: 'relative',\n    width: 'auto',\n    height: '100%',\n    zIndex: 0\n}\nconst deleteButtonStyle = {\n    position: 'absolute',\n    width: '25px',\n    height: '25px',\n    zIndex: 2,\n    marginTop: 0,\n    textAlign: 'center'\n    \n}\n\n\nexport class NewDocument extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            docType: '',\n            title: '',\n            issuePeriod: '',\n            comment: '',\n            filesName: [],\n            filesUrl: {},\n            //data that is not passed \n            issueYear: '',\n            issueMonth: '',\n            uploadProgress: 0\n\n        };    \n    }\n    \n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n    handleMonthFormat = (e) => {\n        if(e.target.value.length === 1) {\n            e.target.value = \"0\" + e.target.value;\n        }\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n    handlePeriodSet = (year, month) => {\n        if(year && month) {\n            this.setState({\n                issuePeriod: year+'-'+month\n            });\n        } else {\n            this.setState({\n                issuePeriod: ''\n            })\n        }\n        \n    }\n    handleSubmit = (e) => {\n        e.preventDefault();\n        //FILTER OUT PASSED DATA\n        const invoiceData = {\n            docType: this.state.docType,\n            title: this.state.title,\n            issuePeriod: this.state.issueYear+'-'+this.state.issueMonth,\n            comment: this.state.comment,\n            filesName: this.state.filesName,\n            filesUrl: this.state.filesUrl\n        }\n        \n        this.props.createInvoice(invoiceData);\n        this.props.history.push('/dashboard');\n        //console.log(invoiceData);\n        \n    }\n    disableSend = () => {\n        const validationData = {\n            docType: this.state.docType,\n            title: this.state.title,\n            issueYear: this.state.issueYear,\n            issueMonth: this.state.issueMonth,\n            filesName: this.state.filesName,\n            filesUrl: this.state.filesUrl\n        };\n        let values = Object.values(validationData);\n        return values.some(value => value.length < 1)\n        \n    }\n    //FILE UPLOAD METHOD\n    onDrop = (acceptedFiles, rejectedFiles) => {\n        if(rejectedFiles.length) {\n            const rejectedString = rejectedFiles.map(file => {\n                return \"File \"+file.name+\" was not able to be uploaded.\";\n            })\n            alert(rejectedString);\n        }\n        \n        const metadata = {\n            customMetadata: {\n                fileOwner: firebase.auth().currentUser.uid\n            }\n            \n        };\n        \n        acceptedFiles.map(file => {\n            const fileName = new Date().getTime() + '_' +file.name;\n            firebase\n                .storage()\n                .ref('uploaded')\n                .child(fileName)\n                .put(file, metadata)\n                .on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\n                    (snapshot) => {\n                        // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                        console.log('Upload is ' + progress + '% done');\n                        this.setState({\n                            uploadProgress: progress\n                        });\n                        switch (snapshot.state) {\n                            case firebase.storage.TaskState.PAUSED: // or 'paused'\n                                \n                                break;\n                            case firebase.storage.TaskState.RUNNING: // or 'running'\n                               \n                                break;\n                            default: break;\n                        }\n                    }, (error) => {\n                        console.log(error);\n                    }, () => {\n                        firebase\n                            .storage()\n                            .ref('uploaded')\n                            .child(fileName)\n                            .getDownloadURL().then((downloadURL) => {\n                                //console.log('File available at', downloadURL);\n                                this.setState({\n                                    filesName: [...this.state.filesName, fileName],\n                                    filesUrl: Object.assign(this.state.filesUrl, {\n                                        [fileName]: downloadURL\n                                    })\n                                    \n                                })\n                            });\n                        }\n                )\n        })\n    }\n    handleDelete = (e) => {\n        e.preventDefault();\n        const filesName = this.state.filesName;\n        filesName.map(file => {\n            firebase\n                .storage()\n                .ref('uploaded')\n                .child(file)\n                .delete()\n                .then(() => {\n                    this.setState({\n                        filesName: [],\n                        filesUrl: {},\n                        uploadProgress: 0\n                    })\n\n                    console.log('files deleted successfully!');\n                }).catch((error) => {\n                    console.log(error);\n                });\n        })\n        \n    }\n   \n\n    render() {\n        const previews = this.state.filesUrl;\n        const {filesName} = this.state;\n        let uploadProgress = Math.floor(this.state.uploadProgress);\n\n        const thumbs = filesName ? filesName.map(fileName => {\n            return (\n                <div style={thumb} key={fileName}>\n                    <div style={thumbInner}>\n                        <img\n                            src={previews[fileName]}\n                            style={img}\n                            alt={fileName}\n                        />\n                        \n                    </div>\n                </div>\n            );\n        }) : console.log('uploading');\n        const deleteButton = uploadProgress > 0 ? (\n            <button className=\"btn-floating red lighten-1\" style={deleteButtonStyle} onClick={(e) => this.handleDelete(e)}>\n                <i className=\"small material-icons\" style={{marginTop: -7}}>delete</i>\n            </button>\n        ) : '';\n\n\n        const { auth } = this.props;\n        if (!auth.uid) return <Redirect to='/' />\n        return (\n        <div>\n            <div className=\"container\">\n                <form onSubmit={this.handleSubmit} className=\"white\">\n                    <h5 className=\"grey-text text-darken-3\">Wyślij Nową Fakturę</h5>\n                    <div className=\"input-field\">\n                        <select className=\"browser-default\" name=\"docType\" id=\"docType\" onChange={this.handleChange} value={this.state.docType} >\n                            <option value=\"\" defaultValue disabled>Typ Dokumentu</option>\n                            <option value=\"sale\">Faktura Sprzedażowa</option>\n                            <option value=\"expence\">Faktura Wydatkowa</option>\n                            <option value=\"other\">Inny Dokument</option>    \n                        </select>\n                    </div>\n                    <div className=\"input-field\">\n                        <label htmlFor=\"title\">Tytuł</label>\n                        <input type=\"text\" id=\"title\" onChange={this.handleChange} /> \n                    </div>\n                    <div className=\"row\">\n                        \n                        <div className=\"input-field col s3\">\n                            <label htmlFor='issueYear'>Rok</label>\n                            <input  type='number' id='issueYear' \n                                name='issueYear' min='2017' max='2022' value={this.state.issueYear} \n                                onChange={this.handleChange}   style={{width: 100}} required  \n                                />\n                        </div>\n                        <div className=\"input-field col s3\">\n                            <label htmlFor='issueMonth'>Miesiąc</label>\n                            <input  type='number' id='issueMonth' \n                                name='issueMonth' min='1' max='12' value={this.state.issueMonth} \n                                \n                                onChange={this.handleMonthFormat}   style={{width: 75}} required \n                                />\n                        </div>\n                        <label \n                            style={{display: 'inline', position: 'relative', fontSize: '1.1rem', marginTop: 15}}\n                            className=\"col s5\"\n                            >\n                                Dokumenty za okres\n                        </label>\n                    </div>\n                    <div className=\"input-field\">\n\n                        <Dropzone accept=\"image/*,application/pdf\"\n                            onDrop={this.onDrop}\n                            maxSize={6291456}\n                        >\n                            {({getRootProps, getInputProps, isDragActive}) => {\n                                return (\n                                    <div \n                                        {...getRootProps()}\n                                        className={classNames('dropzone', {'dropzone--isActive': isDragActive})}\n                                    >\n                                        <input {...getInputProps()} />\n                                        {\n                                            isDragActive ?\n                                            <p>Upuść pliki tutaj...</p> :\n                                            <p>Upuść pliki tutaj (jpg/pdf)</p>\n                                        }\n                                    </div>\n                                )\n                            }}\n                        </Dropzone>\n                        <aside style={thumbsContainer}>\n                            {thumbs} \n                            {deleteButton}\n                            \n                            <p>{uploadProgress < 100 && uploadProgress > 0 ? `uploading...${uploadProgress}%` : ''}</p>\n                            \n                        </aside>\n                    </div>\n                    <div className=\"input-field\">\n                        <label htmlFor=\"comment\">Komentarze</label>\n                        <textarea id='comment' className='materialize-textarea' onChange={this.handleChange}></textarea>\n                    </div>\n                    <div className=\"input-field\">\n                        <button className=\"btn red lighten-1 z-depth-0\" disabled={this.disableSend()}>Wyślij</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        auth: state.firebase.auth\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        createInvoice: (invoice) => dispatch(createInvoice(invoice))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewDocument);\n\n\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { createSettlement } from '../../store/actions/settlementActions'\n\n\n\n\n\nclass NewSettlement extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n           title: '',\n           clientId: '',\n           issueYear: '',\n           issueMonth: '',\n           tax: {},\n           taxRows: 1,\n           comment: ''\n        };    \n    }\n    \n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n    handleMonthFormat = (e) => {\n        if(e.target.value.length === 1) {\n            e.target.value = \"0\" + e.target.value;\n        }\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n    handleTaxChange = (e) => {\n        this.setState({\n            tax: {\n                ...this.state.tax,\n                [e.target.id]: e.target.value\n            }\n        })\n    }\n    handleTaxRow = () => {\n        const taxRowArr = [];\n        for (let i = 2; i <= this.state.taxRows; i++) {\n            taxRowArr.push(\n                <div className=\"input-field\" key={'taxRow'+i}>\n                    <label htmlFor={'tax'+i}>Rodzaj Podatku - Wysokość Podatku</label>\n                    <input  type='text' \n                        name={'tax'+i} value={this.state.tax['tax'+i]} id={'tax'+i} \n                        onChange={this.handleTaxChange}   style={{width: \"25%\", display: 'block'}}  \n                    />\n                </div>\n            )\n        }\n        return taxRowArr;\n    }\n    handleAddTaxRow = () => {\n        this.setState({\n            taxRows: this.state.taxRows+1\n        });\n    }\n    handleRemoveTaxRow = () => {\n\n        if (this.state.taxRows>1) {\n            const newTax = this.state.tax;\n            delete newTax['tax'+this.state.taxRows];\n            this.setState({\n                tax: newTax,\n                taxRows: this.state.taxRows-1\n            });\n\n        }\n        \n    }\n\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        //FILTER OUT PASSED DATA\n        const sendData = {\n            title: this.state.title,\n            clientId: this.state.clientId,\n            issueYear: this.state.issueYear,\n            issueMonth: this.state.issueMonth,\n            issuePeriod: this.state.issueYear+'-'+this.state.issueMonth,\n            tax: this.state.tax,\n            comment: this.state.comment,\n            \n        }\n        console.log(this.state);\n        this.props.createSettlement(sendData);\n        this.props.history.push('/dashboard');\n    }\n    disableSend = () => {\n        const validationData = {\n            title: this.state.title,\n            clientId: this.state.clientId,\n            tax: this.state.tax\n        };\n        let values = Object.values(validationData);\n        return values.some(value => value.length < 1);\n        \n    }\n    \n   \n\n    render() {\n        \n        const { auth } = this.props;\n        const { users } = this.props;\n        const taxRows = this.handleTaxRow();\n        if (!auth.uid) return <Redirect to='/' />\n        if (users) {\n            return (\n                <div>\n                    <div className=\"container\">\n                        <form onSubmit={this.handleSubmit} className=\"white\">\n                            <h5 className=\"grey-text text-darken-3\">Wyślij Nowe Rozliczenie</h5>\n                            <div className=\"input-field\">\n                                <label htmlFor=\"title\">Tytuł Rozliczenia</label>\n                                <input type=\"text\" id=\"title\" onChange={this.handleChange} /> \n                            </div>\n                            <div className=\"input-field\">\n                                <select name=\"clientId\" id=\"clientId\" className=\"browser-default\"\n                                    onChange={this.handleChange} value={this.state.clientId}>\n                                    <option value=\"\" defaultValue disabled>Dla klienta:</option>\n                                    {users.map(user => {\n                                        return (\n                                            <option value={user.id} key={user.id} id=\"clientId\">{user.clientName}</option>\n                                        )\n                                    })}\n                                </select>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"input-field col s3\">\n                                    <label htmlFor='issueYear'>Rok</label>\n                                    <input  type='number' id='issueYear' \n                                        name='issueYear' min='2017' max='2022' value={this.state.issueYear} \n                                        onChange={this.handleChange}   style={{width: 100}} required  \n                                        />\n                                </div>\n                                <div className=\"input-field col s3\">\n                                    <label htmlFor='issueMonth'>Miesiąc</label>\n                                    <input  type='number' id='issueMonth' \n                                        name='issueMonth' min='1' max='12' value={this.state.issueMonth} \n                                        \n                                        onChange={this.handleMonthFormat}   style={{width: 75}} required \n                                        />\n                                </div>\n                                <label \n                                    style={{display: 'inline', position: 'relative', fontSize: '1.1rem', marginTop: 15}}\n                                    className=\"col s5\"\n                                    >\n                                        Rozliczenie obejmuje okres\n                                </label>\n                            </div>\n                            \n                            <div className=\"input-field\">\n                                <label htmlFor='tax1'>Rodzaj Podatku - Wysokość Podatku</label>\n                                <input  type='text' \n                                    name='tax1' value={this.state.tax['tax1']} id='tax1' \n                                    onChange={this.handleTaxChange}   style={{width: \"25%\"}}  \n                                />\n                                 <label htmlFor='tax1'>Rodzaj Podatku - Wysokość Podatku</label>\n                            </div>\n                            {taxRows && taxRows.map(taxRow => {\n                                return taxRow;\n                            })}\n                            <div stle={{display: 'flex'}}>\n                                <button type=\"button\" className=\"btn-floating btn-small red\" \n                                style={{marginRight: 10}} onClick={this.handleAddTaxRow}\n                                ><i className=\"material-icons\">add</i></button>\n                                <button type=\"button\" className=\"btn-floating btn-small red\" \n                                onClick={this.handleRemoveTaxRow} ><i className=\"material-icons\">remove</i></button>\n                            </div>\n                            <div className=\"input-field\">\n                                <label htmlFor=\"comment\">Komentarze</label>\n                                <textarea id='comment' className='materialize-textarea' onChange={this.handleChange}></textarea>\n                            </div>\n                            <div className=\"input-field\">\n                                <button className=\"btn red lighten-1 z-depth-0\" type=\"submit\" disabled={this.disableSend()}>Send</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            );\n        } else {\n            return ( \n                <div className=\"container center\">\n                    <p>Ładowanie...</p>\n                </div>\n            );\n        }\n        \n    }\n}\n\nconst mapStateToProps = (state) => {\n    //console.log(state);\n    return {\n        auth: state.firebase.auth,\n        users: state.firestore.ordered.users\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n       createSettlement: (settlement) => dispatch(createSettlement(settlement))\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    firestoreConnect((props) => [\n        { collection: 'users', where: [\n            'isAcc', '==', false\n        ] }\n    ])\n)(NewSettlement);\n\n\n\n\n\n\n","\n\nexport const createSettlement = (settlement) => {\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        //async call to database  \n        const firestore = getFirestore();\n        \n       \n        firestore.collection('settlements').add({\n            ...settlement,\n            createdAt: new Date(),\n            opened: false\n        }).then(() => {\n            dispatch({ type: 'CREATE_SETTLEMENT', settlement });\n        }).catch((err) => {\n            dispatch({ type: 'CREATE_SETTLEMENT_ERROR', err });\n        });\n    }\n}; \n\nexport const deleteSettlement = (settlementId) => {\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n\n        firestore.collection('settlements').doc(settlementId).delete().then(() => {\n            dispatch({ type: 'DELETE_SETTLEMENT', settlementId });\n        }).catch((err) => {\n            dispatch({ type: 'DELETE_SETTLEMENT_ERROR', err});\n        });\n    }\n};","import React, { Component } from 'react'\n\nimport { ButtonBase, Dialog } from '@material-ui/core'\n\nimport SignIn from './SignIn';\n\nexport class SignInDialogEntry extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false\n        }\n    }\n    handleOpen = () => {\n        this.setState({open: true});\n    };\n    handleClose = () => {\n        this.setState({open: false});\n    }\n\n  render() {\n  \n    return (\n      <div  >\n        <ButtonBase\n          onClick={this.handleOpen}\n          className=\"waves-effect waves-light btn white-text\"\n          style={{width: '100%', background: \"rgba(64, 70, 84, 1)\"}}\n          \n        >\n          Zaloguj\n        </ButtonBase>\n        <Dialog\n        open={this.state.open}\n        onClose={this.handleClose}\n        aria-labelledby=\"form-dialog-title\"\n        maxWidth='xl'\n        >\n            <SignIn closeDialog={this.handleClose} />\n        </Dialog>\n      </div>\n    )\n  }\n}\n\nexport default SignInDialogEntry;\n\n","import React, { Component } from 'react'\n\nimport { ButtonBase, Dialog } from '@material-ui/core'\n\nimport SignUp from './SignUp';\n\nexport class SignUpDialogEntry extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false\n        }\n    }\n    handleOpen = () => {\n        this.setState({open: true});\n    };\n    handleClose = () => {\n        this.setState({open: false});\n    }\n\n  render() {\n  \n    return (\n      <div  >\n        <ButtonBase\n          onClick={this.handleOpen}\n          className=\"waves-effect waves-light btn white-text\"\n          style={{width: '100%', background: \"rgba(64, 70, 84, 1)\"}}\n          \n        >\n          Rejestracja\n        </ButtonBase>\n        <Dialog\n        open={this.state.open}\n        onClose={this.handleClose}\n        aria-labelledby=\"form-dialog-title\"\n        maxWidth='xl'\n        \n        >\n            <SignUp closeDialog={this.handleClose} />\n        </Dialog>\n      </div>\n    )\n  }\n}\n\nexport default SignUpDialogEntry;\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport { SignInDialogEntry } from './SignInDialogEntry';\nimport SignUpDialogEntry from './SignUpDialogEntry';\n\n\nconst Entry = (props) => {\n    const { auth } = props;\n    if (auth.uid) return <Redirect to='/dashboard' />\n    return (\n        <div className=\"card white inup-intro\">\n            <span className=\"card-title center inup-intro-title\">E-Accountant</span>\n            \n                <p className=\"grey-text center\">Zaloguj się do swojego konta, lub zarejestruj!</p>\n                \n                <SignInDialogEntry />\n                <SignUpDialogEntry />\n      \n        </div>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        auth: state.firebase.auth\n    }\n}\n\nexport default connect(mapStateToProps)(Entry);","import React, { Component } from 'react';//\nimport { Redirect } from 'react-router-dom';//\nimport firebase from \"firebase\";//\nimport { firestoreConnect } from 'react-redux-firebase'; //\nimport classNames from 'classnames'\nimport Dropzone from 'react-dropzone'\nimport { connect } from 'react-redux';//\nimport { updateInvoice } from '../../store/actions/invoiceActions';\nimport { compose } from 'redux';\n\n\n//styling variables for dropzone preview box\nconst thumbsContainer = {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginTop: 16\n  };\n  \nconst thumb = {\n    display: 'inline-flex',\n    borderRadius: 2,\n    border: '1px solid #eaeaea',\n    marginBottom: 8,\n    marginRight: 8,\n    width: 100,\n    height: 100,\n    padding: 4,\n    boxSizing: 'border-box'\n};\n\nconst thumbInner = {\n    display: 'flex',\n    minWidth: 0,\n    overflow: 'hidden'\n};\n\nconst img = {\n    display: 'block',\n    position: 'relative',\n    width: 'auto',\n    height: '100%',\n    zIndex: 0\n}\nconst deleteButtonStyle = {\n    position: 'absolute',\n    width: '25px',\n    height: '25px',\n    zIndex: 2,\n    marginTop: 0,\n    textAlign: 'center'\n    \n}\n\n\nclass UpdateDocument extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            docType: '',\n            title: '',\n            issuePeriod: '',\n            comment: '',\n            filesName: [],\n            filesUrl: {},\n            //data that is not passed \n            issueYear: '',\n            issueMonth: '',\n            uploadProgress: 0\n        };  \n        \n    }\n    static getDerivedStateFromProps = (props, state) => {\n        \n        \n        if (props.invoice && state.docType === '') {\n            return {\n                ...props.invoice,\n                uploadProgress: 100,\n                issueYear: props.invoice.issuePeriod.substring(0,4),\n                issueMonth: props.invoice.issuePeriod.substring(5,8)\n            };\n        } else {\n            return state;\n        }\n        \n    }\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n\n    handleMonthFormat = (e) => {\n        if(e.target.value.length === 1) {\n            e.target.value = \"0\" + e.target.value;\n        }\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n    handlePeriodSet = (year, month) => {\n        if(year && month) {\n            this.setState({\n                issuePeriod: year+'-'+month\n            });\n        } else {\n            this.setState({\n                issuePeriod: ''\n            })\n        }\n    }\n\n    //FILE UPLOAD METHOD\n    onDrop = (acceptedFiles, rejectedFiles) => {\n        if(rejectedFiles.length) {\n            const rejectedString = rejectedFiles.map(file => {\n                return \"File \"+file.name+\" was not able to be uploaded.\";\n            })\n            alert(rejectedString);\n        }\n        \n        const metadata = {\n            customMetadata: {\n                fileOwner: firebase.auth().currentUser.uid\n            }\n            \n        };\n        \n        acceptedFiles.map(file => {\n            const fileName = new Date().getTime() + '_' +file.name;\n            firebase\n                .storage()\n                .ref('uploaded')\n                .child(fileName)\n                .put(file, metadata)\n                .on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\n                    (snapshot) => {\n                        // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                        console.log('Upload is ' + progress + '% done');\n                        this.setState({\n                            uploadProgress: progress\n                        });\n                        switch (snapshot.state) {\n                            case firebase.storage.TaskState.PAUSED: // or 'paused'\n                                \n                                break;\n                            case firebase.storage.TaskState.RUNNING: // or 'running'\n                               \n                                break;\n                            default: \n                                break;\n                        }\n                    }, (error) => {\n                        console.log(error);\n                    }, () => {\n                        firebase\n                            .storage()\n                            .ref('uploaded')\n                            .child(fileName)\n                            .getDownloadURL().then((downloadURL) => {\n                                //console.log('File available at', downloadURL);\n                                this.setState({\n                                    filesName: [...this.state.filesName, fileName],\n                                    filesUrl: Object.assign(this.state.filesUrl, {\n                                        [fileName]: downloadURL\n                                    })\n                                    \n                                })\n                            });\n                        }\n                )\n        })\n    }\n    handleDelete = (e) => {\n        e.preventDefault();\n        const filesName = this.state.filesName;\n        filesName.map(file => {\n            firebase\n                .storage()\n                .ref('uploaded')\n                .child(file)\n                .delete()\n                .then(() => {\n                    this.setState({\n                        filesName: [],\n                        filesUrl: {},\n                        uploadProgress: 0\n                    }, () => {\n                        firebase.firestore().collection('invoices').doc(this.props.match.params.id).update({\n                            filesName: [],\n                            filesUrl: {},\n                            uploadProgress: 0\n                        })\n                    })\n\n                    console.log('files deleted successfully!');\n                }).catch((error) => {\n                    console.log(error);\n                });\n        });\n        this.setState({\n            filesName: [],\n            filesUrl: {},\n            uploadProgress: 0\n        })\n        \n    }\n    disableSend = () => {\n        const validationData = {\n            docType: this.state.docType,\n            title: this.state.title,\n            issueYear: this.state.issueYear,\n            issueMonth: this.state.issueMonth,\n            filesName: this.state.filesName,\n            filesUrl: this.state.filesUrl\n        };\n        let values = Object.values(validationData);\n        return values.some(value => value.length < 1)\n        \n    }\n    \n    handleSubmit = (e) => {\n        e.preventDefault();\n        //FILTER OUT PASSED DATA\n        const invoiceData = {\n            docType: this.state.docType,\n            title: this.state.title,\n            issuePeriod: this.state.issueYear+'-'+this.state.issueMonth,\n            comment: this.state.comment,\n            filesName: this.state.filesName,\n            filesUrl: this.state.filesUrl\n        }\n        \n        this.props.updateInvoice(this.props.match.params.id, invoiceData);\n        this.props.history.push('/project/'+this.props.match.params.id);\n    }\n\n    render() {\n        \n        //check if user is logged in\n        const { auth } = this.props;\n        if (!auth.uid) return <Redirect to='/' />\n\n        if (this.props.invoice) {\n            const previews = this.state.filesUrl;\n            const {filesName} = this.state;\n            let uploadProgress = Math.floor(this.state.uploadProgress);\n\n            const thumbs = filesName ? filesName.map(fileName => {\n                return (\n                    <div style={thumb} key={fileName}>\n                        <div style={thumbInner}>\n                            <img\n                                src={previews[fileName]}\n                                style={img}\n                                alt={fileName}\n                            />\n                            \n                        </div>\n                    </div>\n                );\n            }) : console.log('uploading');\n            const deleteButton = this.state.uploadProgress ? (\n                <button className=\"btn-floating red lighten-1\" style={deleteButtonStyle} onClick={(e) => this.handleDelete(e)}>\n                    <i className=\"small material-icons\" style={{marginTop: -7}}>delete</i>\n                </button>\n            ) : null;\n            \n\n            return (\n                <div>\n                    <div className=\"container update-form\">\n                        <form onSubmit={this.handleSubmit} className=\"white\">\n                            <h5 className=\"grey-text text-darken-3\">Zaktualizuj Fakturę</h5>\n                            <div className=\"input-field\">\n                                <select className=\"browser-default\" name=\"docType\" id=\"docType\"  onChange={this.handleChange} value={this.state.docType} >\n                                    <option value=\"\" defaultValue disabled>Typ Dokumentu</option>\n                                    <option value=\"sale\">Faktura Sprzedażowa</option>\n                                    <option value=\"expence\">Faktura Wydatkowa</option>\n                                    <option value=\"other\">Inny Dokument</option>     \n                                </select>\n                            </div>\n                            <div className=\"input-field\">\n                                <label htmlFor=\"title\">Title</label>\n                                <input type=\"text\" id=\"title\" onChange={this.handleChange} value={this.state.title}/> \n                            </div>\n                            <div className=\"row\">\n                                \n                                <div className=\"input-field col s3\">\n                                    <label htmlFor='issueYear'>Rok</label>\n                                    <input  type='number' id='issueYear' \n                                        name='issueYear' min='2017' max='2022' value={this.state.issueYear} \n                                        onChange={this.handleChange}   style={{width: 100}} required  \n                                        />\n                                </div>\n                                <div className=\"input-field col s3\">\n                                    <label htmlFor='issueMonth'>Miesiąc</label>\n                                    <input  type='number' id='issueMonth' \n                                        name='issueMonth' min='1' max='12' value={this.state.issueMonth} \n                                        \n                                        onChange={this.handleMonthFormat}   style={{width: 75}} required \n                                        />\n                                </div>\n                                <label \n                                    style={{display: 'inline', position: 'relative', fontSize: '1.1rem', marginTop: 15}}\n                                    className=\"col s5\"\n                                    >\n                                        Dokumenty za okres\n                                </label>\n                            </div>\n                            <div className=\"input-field\">\n\n                                <Dropzone accept=\"image/*,application/pdf\"\n                                    onDrop={this.onDrop}\n                                    maxSize={6291456}\n                                >\n                                    {({getRootProps, getInputProps, isDragActive}) => {\n                                        if (!this.state.filesName.length) {\n                                            return (\n                                                <div \n                                                    {...getRootProps()}\n                                                    className={classNames('dropzone', {'dropzone--isActive': isDragActive})}\n                                                >\n                                                    <input {...getInputProps()} />\n                                                    {\n                                                        isDragActive ?\n                                                        <p>Upuść pliki tutaj...</p> :\n                                                        <p>Upuść pliki tutaj (jpg/pdf)</p>\n                                                    }\n                                                </div>\n                                            )\n                                        } else {\n                                            return (\n                                                <div></div>\n                                            )\n                                        }\n                                        \n                                    }}\n                                </Dropzone>\n                                <aside style={thumbsContainer}>\n                                    {thumbs} \n                                    {deleteButton}\n                                    <p className=\"red-text text-lighten1\">dokumenty zostaną usuniętie permanentnie!</p>\n                                    \n                                    <p>{uploadProgress < 100 && uploadProgress > 0 ? `uploading...${uploadProgress}%` : ''}</p>\n                                    \n                                </aside>\n                            </div>\n                            <div className=\"input-field\">\n                                <label htmlFor=\"comment\">Komentarze</label>\n                                <textarea id='comment' \n                                    className='materialize-textarea' \n                                    onChange={this.handleChange}\n                                    value={this.state.comment}\n                                ></textarea>\n                            </div>\n                            <div className=\"input-field\">\n                                <button className=\"btn red lighten-1 z-depth-0\" disabled={this.disableSend()}>ZAPISZ</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                )\n        } else {\n            return ( \n                <div className=\"container center\">\n                    <p>Ładowanie...</p>\n                </div>\n                );\n        }\n       \n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    const id = ownProps.match.params.id;\n    const invoices = state.firestore.data.invoices;\n    const invoice = invoices ? invoices[id] : null;\n    // console.log(\"ownProps\");\n    // console.log(ownProps);\n    return {\n        auth: state.firebase.auth,\n        invoiceId: id,\n        invoice: invoice\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        updateInvoice: (invoiceId, invoice) => dispatch(updateInvoice(invoiceId, invoice))\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    firestoreConnect((props) => [\n        { collection: 'invoices', where: [\n            'userId', '==', props.auth.uid ? props.auth.uid : null\n        ] }\n    ])\n)(UpdateDocument);\n\n\n","import React, { Component } from 'react';\nimport { ButtonBase, Dialog } from '@material-ui/core'\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\n\n\n\nconst styles = theme => ({\n    deleteButton: {\n        backgroundColor: '#ef5350',\n        color: 'white',\n        padding: '7px',\n        marginTop: '5px',\n        transition: 'background-color .1s',\n        '&:hover': {\n            backgroundColor: '#f44336'\n        },\n        '&:focus' : {\n            backgroundColor: '#ef5350'\n          }\n    },\n    deleteYesNo: {\n        margin: '5px',\n        backgroundColor: '#ef5350',\n        color: 'white',\n        padding: '7px',\n        marginTop: '5px',\n        width: '100px',\n        transition: 'background-color .1s',\n        '&:hover': {\n            backgroundColor: '#f44336'\n        },\n        '&:focus' : {\n            backgroundColor: '#ef5350'\n          }\n    }\n})\n\nclass DeleteUserDialog extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false\n        }\n    }\n\n    handleOpen = () => {\n        this.setState({open: true});\n    };\n    handleClose = () => {\n      this.setState({open: false}); \n    }\n    \n\n    render() {\n        const { classes } = this.props;\n        return (\n            <div>\n                <ButtonBase\n                onClick={this.handleOpen}\n                disableRipple={true}\n                focusRipple={false}\n                className={classes.deleteButton}\n                >\n                    Usuń Konto\n                </ButtonBase>\n                <Dialog\n                open={this.state.open}\n                onClose={this.handleClose}\n                aria-labelledby=\"form-dialog-title\"\n                maxWidth='xl'\n               \n                >\n                    <div className=\"card z-depth-0 invoice-delete-card\">\n                        <span className=\"card-title center\">USUŃ</span>\n                        <p>Czy na pewno chcesz usunąć swoje konto?</p>\n                        <p className=\"red-text \">Stracisz dostęp do swoich plików!</p>\n                        <p className=\"grey-text\">*w razie wystąpienia problemu, spróbuj zalogować się jeszcze raz i wtedy usunąc swoje konto</p>\n                        <div className=\"deleteYesNo\">\n                            <ButtonBase\n                                onClick={this.props.handleDeleteUser}\n                                disableRipple={true}\n                                focusRipple={false}\n                                className={classes.deleteYesNo}\n                                >\n                                    Tak\n                                </ButtonBase>\n                                <ButtonBase\n                                onClick={this.handleClose}\n                                disableRipple={true}\n                                focusRipple={false}\n                                className={classes.deleteYesNo}\n                                >\n                                    Nie\n                                </ButtonBase>\n                        </div>\n                    </div>\n                </Dialog>\n            </div>\n        )\n    }\n\n}\n\nDeleteUserDialog.propTypes = {\n    classes: PropTypes.object.isRequired,\n    \n  };\n\nexport default withStyles(styles)(DeleteUserDialog);","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport DeleteUserDialog from './DeleteUserDialog';\nimport { deleteUser } from '../../store/actions/authActions'\nimport { Link } from 'react-router-dom';\n\nconst updateButtonStyle = {\n    backgroundColor: '#ef5350',\n    color: 'white',\n    paddingTop: '5px',\n    paddingLeft: '7px',\n    paddingRight: '7px',\n    marginTop: '5px',\n    marginRight: '5px',\n    transition: 'background-color .1s',\n    '&:hover': {\n        backgroundColor: '#f44336'\n    },\n    '&:focus' : {\n        backgroundColor: '#ef5350'\n      }\n}\n\nclass AccountDetails extends Component {\n\n    handleDeleteUser = (uid) => {\n        this.props.deleteUser(uid);\n    }\n\n    render() {\n        \n        const { auth } = this.props;\n        if (!auth.uid) return <Redirect to='/' />\n        \n        if (this.props.users && auth) {\n            const userInfo = this.props.users[auth.uid];\n            console.log(auth.uid);\n            if(userInfo) {\n                return (\n                    <div className=\"container section\">\n                        <div className=\"card z-depth-0\" style={{transform: 'scale(1.2)', margin: 100}}>\n                            <div className=\"card-content\" >\n                                <span className=\"card-title\">{userInfo.clientName}</span>\n                                <p className=\"grey-text\">Email: <span className=\"grey-text text-darken-2\">{auth.email}</span></p>\n                                <p className=\"grey-text\">Adres: <span className=\"grey-text text-darken-2\">{userInfo.adress}</span></p>\n                                <p className=\"grey-text\">Forma prawna: <span className=\"grey-text text-darken-2\">{userInfo.legalForm}</span></p>\n                                <p className=\"grey-text\">NIP: <span className=\"grey-text text-darken-2\">{userInfo.nip}</span></p>\n                                <p className=\"grey-text\">REGON: <span className=\"grey-text text-darken-2\">{userInfo.regon}</span></p>\n                                <p className=\"grey-text\">Telefon: <span className=\"grey-text text-darken-2\">{userInfo.phoneNumber}</span></p>\n                                <div className=\"bottom-btn-container\" style={{display: 'flex'}}>\n                                    <Link \n                                        to={'/update/accountdetails/'+auth.uid} \n                                        key={'update'}\n                                        style={updateButtonStyle}\n                                    >Aktualizuj Dane</Link>\n                                    <DeleteUserDialog handleDeleteUser={() => this.handleDeleteUser(auth.uid)} />\n                                </div>\n                            </div>\n                        </div>      \n                    </div>\n                );\n            } else {\n                return (\n                    <div className=\"container center\">\n                        <p>Ładowanie...</p>\n                    </div>\n                );\n            }\n            \n        } else {\n            return (\n                <div className=\"container center\">\n                    <p>Ładowanie...</p>\n                </div>\n            );\n        }   \n    \n    }\n}\n\nconst mapStateToProps = (state) => {\n    // console.log('state');\n    // console.log(state.firebase.auth);\n    \n    return {\n        auth: state.firebase.auth,\n        users: state.firestore.data.users\n    };\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        deleteUser: (uid) => dispatch(deleteUser(uid))\n    };\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    firestoreConnect((props) => [\n        { \n            collection: 'users',\n            doc: props.auth.uid\n        }\n    ])\n)(AccountDetails);","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { updateUser } from '../../store/actions/authActions'\n\n\nclass AccountUpdate extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            clientName: '',\n            adress: '',\n            legalForm: '',\n            nip: '',\n            regon: '',\n            phoneNumber: ''\n        }\n    }\n    static getDerivedStateFromProps = (props, state) => {\n        if (props.users && state.clientName === '') {\n            return {\n                ...props.users[props.match.params.uid]\n            }\n        } else {\n            return state;\n        }\n    }\n    handleUpdate = (e) => {\n        e.preventDefault();\n        this.props.updateUser(this.props.auth.uid, this.state);\n        this.props.history.push('/accountdetails/'+this.props.auth.uid);\n    }\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n    disableSend = () => {\n        const validationData = {\n            clientName: this.state.clientName,\n            adress: this.state.adress,\n            legalForm: this.state.legalForm,\n            nip: this.state.nip,\n            regon: this.state.regon\n        };\n        let values = Object.values(validationData);\n        return values.some(value => value.length < 1)\n        \n    }\n\n    render() {\n        const { auth } = this.props;\n        if (!auth.uid) return <Redirect to='/' />\n        \n        if (this.props.users && auth) {\n            const userInfo = this.props.users[auth.uid];\n            if(userInfo) {\n                return (\n                    <div className=\"container section\">\n                        <div className=\"card z-depth-0\" style={{transform: 'scale(1)', margin: 100}}>\n                            <div className=\"card-content\" >\n                                <form onSubmit={this.handleUpdate} className=\"update-form\" >\n                                <h5 className=\"red-text text-lighten-1\">Zaktualizuj Profil</h5>\n                                    <div className=\"input-field\">\n                                        <label htmlFor=\"clientName\">Imię</label>\n                                        <input type=\"text\" id=\"clientName\" onChange={this.handleChange} value={this.state.clientName} /> \n                                    </div>\n                                    <div className=\"input-field\">\n                                        <label htmlFor=\"adress\">Adres</label>\n                                        <textarea id=\"adress\" className='materialize-textarea' onChange={this.handleChange} value={this.state.adress} />\n                                    </div>\n                                    <div className=\"input-field\">\n                                        <label htmlFor=\"legalForm\">Forma prawna (sp. z.o.o., sp. jawna...)</label>\n                                        <input type=\"text\" id=\"legalForm\" onChange={this.handleChange} value={this.state.legalForm}/> \n                                    </div>\n                                    <div className=\"input-field\">\n                                        <label htmlFor=\"nip\">NIP</label>\n                                        <input type=\"number\" id=\"nip\" onChange={this.handleChange} value={this.state.nip} /> \n                                    </div>\n                                    <div className=\"input-field\">\n                                        <label htmlFor=\"regon\">REGON</label>\n                                        <input type=\"number\" id=\"regon\" onChange={this.handleChange} value={this.state.regon} /> \n                                    </div>\n                                    <div className=\"input-field\">\n                                        <label htmlFor=\"phoneNumber\">Numer telefonu</label>\n                                        <input type=\"text\" id=\"phoneNumber\" onChange={this.handleChange} value={this.state.phoneNumber}/> \n                                    </div>\n                                    <div className=\"input-field\">\n                                        <button className=\"btn red lighten-1 z-depth-0\" disabled={this.disableSend()}>ZAPISZ</button>\n                                    </div>\n                                </form>\n\n                                \n                            </div>\n                        </div>      \n                    </div>\n                );\n            } else {\n                return (\n                    <div className=\"container center\">\n                        <p>Ładowanie...</p>\n                    </div>\n                );\n            }\n            \n        } else {\n            return (\n                <div className=\"container center\">\n                    <p>Ładowanie...</p>\n                </div>\n            );\n        }   \n    \n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        auth: state.firebase.auth,\n        users: state.firestore.data.users\n    };\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        updateUser: (uid, userData) => dispatch(updateUser(uid, userData))\n    };\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    firestoreConnect((props) => [\n        { \n            collection: 'users',\n            doc: props.auth.uid\n        }\n    ])\n)(AccountUpdate);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase'; \n\nimport { Redirect } from 'react-router-dom';\nimport { compose } from 'redux';\nimport moment from 'moment';\nimport DeleteInvoiceDialog from './DeleteInvoiceDialog'\nimport { deleteSettlement } from '../../store/actions/settlementActions';\n\n\nconst commentsBoxStyle = {\n    width: '99%',\n    minHeight: 50,\n    padding: 10,\n    border: '1px dashed pink',\n    borderRadius: '10px'\n}\nconst taxBoxStyle = {\n    width: '99%',\n    minHeight: 100,\n    padding: 10,\n    border: '1px dashed grey',\n    borderRadius: '10px'\n}\n\nclass SettlementDetails extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    handleDelete = () => {\n        //deleting invoice from database\n        this.props.deleteSettlement(this.props.settlementId);\n        \n        \n        //redirecting after delete\n        this.props.history.push('/dashboard');\n        \n    }\n\n\n    render() {\n        \n        const { auth } = this.props;\n        if (!auth.uid) return <Redirect to='/' />\n\n        const { settlement } = this.props;\n        const { users } = this.props\n        if (settlement && users && auth) {\n            const taxes = Object.values(settlement.tax);\n            const deleteButton = users[auth.uid].isAcc ? <DeleteInvoiceDialog handleDelete={this.handleDelete} /> : null;\n            \n            return (\n                <div className=\"container section project-details\">\n                    <div className=\"card z-depth-0\">\n                        <div className=\"card-content\">\n                            <span className=\"card-title\">{settlement.title}</span>\n                            <p>{users[settlement.clientId].clientName} Podatek Za Okres {settlement.issuePeriod}:</p>\n                            <div className=\"tax-box\" style={taxBoxStyle}>\n                                {taxes.map(tax => <p key={tax[1]}>{tax}</p>)}\n                            </div>\n                            <p style={{marginTop: 25}}>Komentarze:</p>\n                            <div className=\"comments-box\" style={commentsBoxStyle}>\n                                <p>{settlement.comment}</p>\n                            </div>\n                            \n                            {/* IF ISACC */}\n                            <div className=\"bottom-btn-container\" style={{display: 'flex'}}>\n                                {deleteButton}\n                            </div>\n                        </div>\n                        <div className=\"card-action grey lighten-4 grey-text\">\n                            <div>Utworzono: {moment(settlement.createdAt.toDate()).calendar()}</div>\n                        </div>\n                    </div>\n                </div>\n            )\n        } else {\n            return ( \n                <div className=\"container center\">\n                    <p>Ładowanie...</p>\n                </div>\n                );\n        }\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    //console.log(state);\n    const id = ownProps.match.params.id;\n    const settlements = state.firestore.data.settlements;\n    const settlement = settlements ? settlements[id] : null;\n    return {\n        settlement: settlement,\n        users: state.firestore.data.users,\n        settlementId: ownProps.match.params.id,\n        auth: state.firebase.auth\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        deleteSettlement: (settlementId) => dispatch(deleteSettlement(settlementId))\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    firestoreConnect((props) => [\n        { collection: 'settlements'},\n        { collection: 'users' }\n    ])\n)(SettlementDetails);\n","import React from 'react';\n\nconst ClientDetails = ({client}) => {\n    \n    return (\n        <div className=\"container section\">\n            <div className=\"card z-depth-0\" >\n                <div className=\"card-content\" >\n                    <span className=\"card-title\">{client.clientName}</span>\n                    \n                    <p className=\"grey-text\">Adres: <span className=\"grey-text text-darken-2\">{client.adress}</span></p>\n                    <p className=\"grey-text\">Forma prawna: <span className=\"grey-text text-darken-2\">{client.legalForm}</span></p>\n                    <p className=\"grey-text\">NIP: <span className=\"grey-text text-darken-2\">{client.nip}</span></p>\n                    <p className=\"grey-text\">REGON: <span className=\"grey-text text-darken-2\">{client.regon}</span></p>\n                    <p className=\"grey-text\">Telefon: <span className=\"grey-text text-darken-2\">{client.phoneNumber}</span></p>\n                    <p className=\"grey-text\">Email: <span className=\"grey-text text-darken-2\">{client.email}</span></p>\n                    <p className=\"grey-text\">ID: <span className=\"grey-text text-darken-2\">{client.id}</span></p>\n                    \n                </div>\n            </div>      \n        </div>\n    );\n}\n\nexport default ClientDetails","import React, { Component } from 'react';\nimport ClientDetails from './ClientDetails'\n\n\nconst clientListStyle = {\n    height: '100%',\n    overflow: 'auto'\n}\nclass ClientList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            clientPicked: false,\n            adress: '',\n            clientName: '',\n            id: '',\n            initials: '',\n            isAcc: false,\n            legalForm: '',\n            nip: '',\n            phoneNumber: '',\n            regon: ''\n        }\n    }\n\n\n\n    handleClientPick = (e, client) => {\n        e.preventDefault();\n        this.setState({\n            ...client,\n            clientPicked: true\n        });\n        \n    }\n\n    render() {\n        const {clients} = this.props;\n        return (\n            <div style={clientListStyle}>\n                <div className=\"row\">\n                    <div className=\"col s5\" style={{marginTop: 15}}>\n                        {clients.map(client => {\n                            return (\n                                <a key={client.id} href='#' className='black-text' onClick={(e) => this.handleClientPick(e, client)}>\n                                    <div className=\"card client-list-item\">\n                                        <div className=\"card-content\" style={{margin: 1, padding: 2}}>\n                                            <span className=\"card-title\">{client.clientName.substring(0,16)+'...'}</span>\n                                            <p className=\"grey-text text-darken-1\" >ID: {client.id}</p>\n                                        </div>\n                                    </div>\n                                </a>\n                            )\n                        })}\n                    </div>\n                    <div className=\"col s6\">\n                        { this.state.clientPicked ? <ClientDetails client={this.state} /> : <p style={{textAlign: 'center', color: 'red'}}>WYBIERZ KLIENTA</p> }\n                    </div>\n                </div>\n            </div>\n        \n        )\n    }\n    \n}\n\nexport default ClientList;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport ClientList from './ClientList'\nimport { firestoreConnect } from 'react-redux-firebase'\nimport { compose } from 'redux'\n\nclass Clients extends Component {\n    \n    render() {\n        const {users, auth} = this.props;\n        if (!auth.uid) {\n            return <Redirect to='/' />;\n        }\n        if (users) {\n            return (\n                <div className='container'>\n                    <ClientList clients={users} />\n                </div>\n            )\n        } else {\n            return (\n                <div className='container'>\n                    <p>Ładowanie...</p>\n                </div>\n            )\n        }\n       \n    }\n}\n\nconst mapStateToProps = (state) => {\n    \n    return {\n        users: state.firestore.ordered.users,\n        auth: state.firebase.auth\n    };\n} \n\n\nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect((props) => [\n        { collection: 'users', where: [\n            'isAcc', '==', false\n        ] }\n    ])\n)(Clients);","import React, { Component } from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport './index.css';\n\n\n\nimport Navbar from './components/layout/Navbar';\nimport Dashboard from './components/dashboard/Dashboard';\nimport AccountantPanel from './components/dashboard/AccountantPanel';\nimport InvoiceDetails from './components/projects/InvoiceDetails';\nimport SignIn from './components/auth/SignIn';\nimport SignUp from './components/auth/SignUp';\nimport NewDocument from './components/projects/NewDocument';\nimport NewSettlement from './components/projects/NewSettlement';\n\nimport Entry from './components/auth/Entry';\nimport UpdateDocument from './components/projects/UpdateDocument';\nimport AccountDetails from './components/auth/AccountDetails';\nimport AccountUpdate from './components/auth/AccountUpdate';\nimport SettlementDetails from './components/projects/SettlementDetails';\nimport Clients from './components/clients/Clients';\n\n\n\nclass App extends Component {\n  \n \n  render() {\n  \n    return (\n      \n      <BrowserRouter>\n        <div className=\"App\">\n          <Navbar />\n            <Switch>\n              <Route path='/newdocument' component={NewDocument} />\n              <Route path='/project/update/:id' component={UpdateDocument} />\n              <Route path='/newsettlement' component={NewSettlement} />\n              <Route path='/settlement/:id' component={SettlementDetails} />\n              <Route path='/dashboard' component={Dashboard} />\n              <Route path='/accpanel' component={AccountantPanel} />\n              <Route path='/project/:id' component={InvoiceDetails} />\n              <Route path='/accountdetails/:uid' component={AccountDetails} />\n              <Route path='/update/accountdetails/:uid' component={AccountUpdate} />\n              \n              <Route path='/signin' component={SignIn} />\n              <Route path='/signup' component={SignUp} />\n              \n              <Route path='/clients' component={Clients} />\n\n              <Route exact path='/' component={Entry} />\n            </Switch>\n            \n          \n        </div>\n      </BrowserRouter>\n    ); \n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","\nconst initState = {\n    authError: null\n    \n\n};\n\nconst authReducer = (state = initState, action) => {\n    switch(action.type){\n        case 'LOGIN_ERROR':\n            console.log('login error');\n            return {\n                ...state,\n                authError: 'Login failed'\n                            }\n        case 'LOGIN_SUCCESS':\n            console.log('login success');\n            return {\n                ...state,\n                authError: null\n                \n            }\n        case 'SIGNOUT_SUCCESS':\n            console.log('signout success');\n            return state;\n        case 'SIGNUP_SUCCESS':\n            console.log('signup success');\n            return {\n                ...state,\n                authError: null\n            }\n        case 'SIGNUP_ERROR':\n            console.log('signup error');\n            return {\n                ...state,\n                authError: action.err.message\n            }\n        case 'DELETE_USER':\n            console.log('user deleted');\n            return {\n                ...state,\n                authError: null\n            }\n        case 'DELETE_USER_ERROR':\n            console.log('error', action.err);\n        return {\n            ...state,\n            authError: action.err.message\n        }\n        case 'UPDATE_USER':\n            console.log('user '+action.uid+' data was updated');\n            return state;\n        case 'UPDATE_USER_ERROR':\n            console.log('error', action.err);\n            return state;\n        default:\n            return state;\n    }     \n};\n\nexport default authReducer;","\nconst initState = {\n    invoices: []\n};\n\nconst invoiceReducer = (state = initState, action) => {\n    switch(action.type) {\n        case 'CREATE_INVOICE':\n            console.log('created invoice', action.invoice.docType);\n            return state;\n        case 'CREATE_INVOICE_ERROR':\n            console.log('create project error: ', action.err);\n            return state;\n        case 'DELETE_INVOICE':\n            console.log('invoice '+action.invoiceId+' successfully deleted');\n            return state;\n        case 'DELETE_INVOICE_ERROR':\n            console.log('delete invoice error', action.err);\n            return state;\n        case 'UPDATE_INVOICE':\n            console.log('document'+action.invoiceId+' succesfully updated');\n            return state;\n        case 'UPDATE_INVOICE_ERROR':\n            console.log('udate invoice error', action.err);\n            return state;\n        default:\n            return state;    \n    }\n};\n\nexport default invoiceReducer;","const initState = {\n    settlements: []\n}\n\nconst settlementReducer = (state = initState, action) => {\n    switch(action.type) {\n        case 'CREATE_SETTLEMENT':\n            console.log('created invoice', action.settlement.title);\n            return state;\n        case 'CREATE_SETTLEMENT_ERROR':\n            console.log('create project error: ', action.err);\n            return state;\n        case 'DELETE_SETTLEMENT':\n            console.log('invoice '+action+' successfully deleted');\n            return state;\n        case 'DELETE_SETTLEMENT_ERROR':\n            console.log('delete invoice error', action.err);\n            return state;\n        default:\n            return state;    \n    }\n}\n\nexport default settlementReducer;","import authReducer from './authReducer';\nimport invoiceReducer from './invoiceReducer';\nimport settlementReducer from './settementReducer';\nimport { combineReducers } from 'redux';\nimport { firestoreReducer } from 'redux-firestore';\nimport { firebaseReducer } from 'react-redux-firebase'\n\n\nconst rootReducer = combineReducers({ \n    auth: authReducer,\n    invoice: invoiceReducer,\n    settlement: settlementReducer,\n    firestore: firestoreReducer,\n    firebase: firebaseReducer\n});\n\nexport default rootReducer;","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\n// Replace this with your own config details\nvar config = {\n    apiKey: \"AIzaSyD7QGJm-izPNS0nc9-EdECa5KjCdDyjETw\",\n    authDomain: \"e-accountant-b98af.firebaseapp.com\",\n    databaseURL: \"https://e-accountant-b98af.firebaseio.com\",\n    projectId: \"e-accountant-b98af\",\n    storageBucket: \"e-accountant-b98af.appspot.com\",\n    messagingSenderId: \"78591416232\"\n};\n   \nfirebase.initializeApp(config);\nfirebase.firestore().settings({ timestampsInSnapshots: true });\n\nexport default firebase ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport rootReducer from './store/reducers/rootReducer';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { reduxFirestore, getFirestore } from 'redux-firestore';\nimport { reactReduxFirebase, getFirebase } from 'react-redux-firebase';\nimport fbConfig from './config/fbConfig';\n\n\nconst store = createStore(rootReducer,\n    compose(\n        applyMiddleware(thunk.withExtraArgument({getFirebase, getFirestore})),\n        reduxFirestore(fbConfig),\n        reactReduxFirebase(fbConfig, {useFirestoreForProfile: true, userProfile: 'users',  attachAuthIsReady: true})\n    )\n);\n\nstore.firebaseAuthIsReady.then(() => {\n    ReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n    serviceWorker.unregister();\n})\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n\n "],"sourceRoot":""}